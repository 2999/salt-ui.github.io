# tingle-style

`tingle-style`是`tingle`的底层样式实现方案，包括两个部分的实现：

#### CSS

* reset：即样式重置，部分功能不需要在组件中手动调用和处理，对下面文档中提到的几个关键点知晓即可。
* flexbox + util：以局部样式声明为粒度的通用样式切片，注意，这里的粒度不是组件级别的。详见下面的文档。
* vars：变量，包括 className prefix 、colors、borderRadius、fontSize
* mixin：`stylus`的辅助样式函数

#### JS

* util.js：通过`js`操作样式的辅助函数


## CSS Reset

> 文件：[reset.styl](http://gitlab.alibaba-inc.com/tingle-ui/tingle-style/blob/master/src/reset.styl)

#### border box：

* 默认**所有元素**的盒模型类型为**`border-box`**

#### list style：

* 列表元素`ul`和`ol`的样式默认为`none`值。

#### input, textarea

* 消除输入框和按钮的原生外观
* 去掉点击链接和文本框对象时默认的灰色半透明覆盖层(iOS)或者虚框(Android)

#### and more...

更多的reset不再一一列举，详见原文件。

## CSS Flexbox

> 文件：[flexbox.styl](http://gitlab.alibaba-inc.com/tingle-ui/tingle-style/blob/master/src/flexbox.styl)


`tingle`中，所有`flexbox`相关的`class`值，都以`t-FB`为前缀。更简单的使用方式请看`tingle-box`。

#### 定义伸缩容器：

* t-FBH: 即`flexbox horizontal`，指定目标元素成为伸缩容器，且内部子元素水平排列。
* t-FBV: 即`flexbox vertical`，指定目标元素成为伸缩容器，且内部子元素垂直排列。

#### 对齐子元素(包括伸缩元素)：

* t-FBAS: 即`cross axis's align start`，将子元素对齐到`cross`轴的起点上。
* t-FBAC: 即`cross axis's align center`，将子元素对齐到`cross`轴的中点上。
* t-FBAE: 即`cross axis's align end`，将子元素对齐到`cross`轴的终点上。
* t-FBJS: 即`main axis's justify start`，将子元素对齐到`main`轴的起点上。
* t-FBJC: 即`main axis's justify center`，将子元素对齐到`main`轴的中点上。
* t-FBJE: 即`main axis's justify end`，将子元素对齐到`main`轴的终点上。

### 子元素属性：

* t-FB1: 即 `felx: 1;` 子元素放大比例
* t-FB2: 即 `felx: 2;` 子元素放大比例
* t-FB3: 即 `felx: 3;` 子元素放大比例

## CSS Utils

> 文件：[util.styl](http://gitlab.alibaba-inc.com/tingle-ui/tingle-style/blob/master/src/util.styl)

#### float(移动端不建议使用float)：

* t-CL / tClear: 即`clear`，清除浮动
* t-FL: 即`float left`
* t-FR: 即`float right`

#### radius：

* t-R{n}: 即`border-radius`，`n`的可选值为`3 4 5 6`
* t-RT{n}: 左上角和右上角为圆角，`n`的可选值同上
* t-RR{n}: 右上角和右下角为圆角，`n`的可选值同上
* t-RB{n}: 左下角和右下角为圆角，`n`的可选值同上
* t-RL{n}: 左上角和左下角为圆角，`n`的可选值同上


#### padding：

* t-P{n}: 即`padding`，`n`的可选值为`0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30`，即从`0`开始，到`30`为止的所有偶数。
* t-PT{n}: 即`padding-top`，`n`的可选值同上
* t-PR{n}: 即`padding-right`，`n`的可选值同上
* t-PB{n}: 即`padding-bottom`，`n`的可选值同上
* t-PL{n}: 即`padding-left`，`n`的可选值同上

#### margin：

* t-M{n}: 即`margin`，`n`的可选值为`0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30`，即从`0`开始，到`30`为止的所有偶数。
* t-MT{n}: 即`margin-top`，`n`的可选值同上
* t-MR{n}: 即`margin-right`，`n`的可选值同上
* t-MB{n}: 即`margin-bottom`，`n`的可选值同上
* t-ML{n}: 即`margin-left`，`n`的可选值同上

#### position:

* t-PR: 即`position: relative`
* t-PF: 即`position: fixed`
* t-PA: 即`position: absolute`

#### border:

* t-BT1: 即`border-top: 1px solid $border`，支持了hairline 的处理
* t-BB1: 即`border-bottom: 1px solid $border`，支持了hairline 的处理

#### visibility:

* t-DN / tHide: 即`display: none`
* t-DB: 即`display: block`
* t-DIB: 即`display: inline-block`
* t-BHide: 即`-webkit-backface-visibility: hidden`

#### ellipsis:

* t-omit: 强制在一行内显示文字，多余部分用`...`显示
* t-omit2: 强制在两行内显示文字，多余部分用`...`显示，通常需要和**设置父容器高度**一起使用。
* t-omit3: 强制在三行内显示文字，多余部分用`...`显示，通常需要和**设置父容器高度**一起使用。

#### line height:

规则：`1 ≤ n ≤ 2`之间的值表示字号的倍数，且小数点用`_`表示。

* t-LH{em}: 基于字号的行高，`em`的可选值为`1、1_3、1_4、1_5、1_6、1_7、1_8、1_9、2`。如：`tLH1`表示`line-height: 1em`，`tLH1_3`表示`line-height: 1.3em`。
* t-LH{px}: 基于`px`的行高，`px`的可选值为`30、44`，如：`tLH30`表示`line-height: 30px`。

#### width:

* t-W{px}: 基于`px`的宽度，`px`的可选值包括：`0、16、32、64、128、30、44`。如`tW44`表示`width: 44px`。

#### height:

* t-H{px}: 基于`px`的高度，`px`的可选值包括：`0、16、32、64、128、30、44`。如`tH44`表示`height: 44px`。

#### square:

宽度和高度相等的情况，最常用于`icon`大小的设置。

* t-WH{px}: `px`的可选值包括：`0、16、32、64、128、30、44`。如`tWH44`表示`width: 44px; height: 44px`。

#### font size:

* t-FS{px}: 即`font-size`，`px`的可选值包括`0 12 14 16 18 20 22 24 26 28 30`

#### font color:

* t-FC{x}: 即`color: #xxx`，`x`的可选值包括`0、3、4、5、6、7、8、9、a、b、c、d、e、f`。如：`tFCa`表示`color: #aaa;`。


#### font align:

* t-FAL: 即`text-align: left`
* t-FAC: 即`text-align: center`
* t-FAR: 即`text-align: right`

#### backgrond color:

* t-BC{x}: 即`background-color: #xxx`，`x`的可选值包括`0、3、4、5、6、7、8、9、a、b、c、d、e、f`。如`tBC0`表示`background-color: #000`。

#### opacity:

* t-OP{n}: 即`opacity`，设置透明度，`n`的可选值包括`0、10、30、50、80、100`。如`tOP30`表示`opacity: 0.3`。

#### 3d speed up:

* t-3D: 即`transform translateZ(0)`，开启3D加速，谨慎使用。

## CSS Mixin

> 文件：[Mixin.styl](http://gitlab.alibaba-inc.com/tingle-ui/tingle-style/blob/master/src/mixin.styl)

#### radius(n)

创建圆角样式，单位`px`

#### shadow(x, y, b, s, a)

创建阴影样式，单位`px`

#### rem(px)

将`px`值转换为`rem`值

#### hairline(attribute, color)

生成 hairline

## CSS Vars

> 文件：[Vars.styl](http://gitlab.alibaba-inc.com/tingle-ui/tingle-style/blob/master/src/vars.styl)

#### border-radius

`$tab-radius = 4px;` // tab 圆角

`$button-radius = 4px;` // button 圆角

`$icon-radius = 9px;` // 图标背景图圆角

#### font-size

`$font-size-t1 = 10px;` //T1

`$font-size-t2 = 12px;` //T2

`$font-size-t3 = 13px;` //T3

`$font-size-t4 = 14px;` //T4

`$font-size-t5 = 16px;` //T5

`$font-size-t6 = 17px;` //T6

`$font-size-t7 = 18px;` //T7

`$font-size-t8 = 20px;` //T8

`$font-size-t9 = 24px;` //T9

`$font-size-t10 = 28px;` //T10

`$font-size-t11 = 36px;` //T11

`$font-size-t1-lh = 12px;` //T1对应行高

`$font-size-t2-lh = 18px;` //T2对应行高

`$font-size-t3-lh = 18px;` //T3对应行高

`$font-size-t4-lh = 20px;` //T4对应行高

`$font-size-t5-lh = 22px;` //T5对应行高

`$font-size-t6-lh = 22px;` //T6对应行高

`$font-size-t7-lh = 24px;` //T7对应行高

`$font-size-t8-lh = 28px;` //T8对应行高

`$font-size-t9-lh = 30px;` //T9对应行高

`$font-size-t10-lh = 32px;` //T10对应行高

`$font-size-t11-lh = 46px;` //T11对应行高

`$font-size-field-text = $font-size-t4;` //表单中文本字号

`$font-size-field-label = $font-size-t4;` //表单中 label 字号

`$font-size-field-title = $font-size-t4;` //表单中 title 字号

`$font-size-field-text-lh = $font-size-t4-lh;` //表单中文本字号对应行高

`$font-size-field-label-lh = $font-size-t4-lh;` //表单中 label 字号对应行高

`$font-size-field-title-lh = $font-size-t4-lh;` //表单中 title 字号对应行高

#### color

`$brand-primary = B1_1;` //品牌色

`$brand-secondary = B1_2;` //品牌色

`$brand-complement = B3_1;` //补色

`$brand-comosite = B3_2;` //复合

`$brand-deep = B3_3;` //浓度

`$function-red = F1_1;` //功能色

`$function-orange = F2_1;` //功能色

`$function-green = F3_1;` //功能色

`$function-blue = F4_1;` //功能色

`$function-cyan = F5_1;` //功能色

`$function-purple = F6_1;` //功能色

`$function-red-light = F1_2;` //功能色

`$function-orange-light = F2_2;` //功能色

`$function-green-light = F3_2;` //功能色

`$function-blue-light = F4_2;` //功能色

`$function-cyan-light = F5_2;` //功能色

`$basic-100 = N1_1;` //中立色

`$basic-200 = N1_2;` //中立色

`$basic-300 = N1_3;` //中立色

`$basic-400 = N1_4;` //中立色

`$basic-500 = N1_5;` //中立色

`$basic-600 = N1_6;` //中立色

`$basic-700 = N1_7;` //中立色

`$gray-darker = N2_5;` //中立色

`$gray-dark = N2_4;` //中立色

`$gray = N2_3;` //中立色

`$gray-light = N2_2;` //中立色

`$gray-lighter = N2_1;` //中立色

`$text-primary = N2_5;` //文本色-主要

`$text-seconary = N2_3;` //文本色-次要

`$text-placeholder = N2_1;` //文本色-placeholder

`$text-disabled = N2_1;` //文本色-disabled

`$text-helper = N2_2;` //文本色-辅助

`$text-ali = 阿里橙;` //文本色-阿里橙

`$border = N1_6(B-2);` //边框色

`$white = $basic-100;` //白色

`$bg = N1_1(B-3);` //背景色

`$bg-hover = N1_1(B-6);` //背景色 hover

`$scroller = N1_1(B+1);` //滚动条


#### hsv

`hsv(h, s, v)` 通过给定的 h (色相) s (饱和度) v (色调) 来生成色值

`hsvTransform(color, hTransform, sTransform, vTransform)` 通过色值和变换规则来生成色值

`hsvhue(color)` 通过色值来获取 h (色相)

`hsvsaturation(color)` 通过色值来获取 s (饱和度)

`hsvvalue(color)` 通过色值来获取 v (色调)

#### prefix

`$prefix = 't';` //默认是 `t`

## JS Utils

> 文件：[util.js](http://gitlab.alibaba-inc.com/tingle-ui/tingle-style/blob/master/src/util.js)

#### createStyleContext

创建一个带有`add`方法的样式上下文对象，用于动态生成样式。

> 什么叫动态生成样式？
> 当然是相对于写在`css`文件里的静态样式而言啦，动态样式的最明显标志就是样式的名称或者样式的值中包含`js`的变量。见下面示例的第三步。

语法：

```js
// 第一步：引入模块
const {createStyleContext} = require('tingle-style');

// 第二步：创建一个样式对象
let style = createStyleContext(contextId);

// 第三步：在该对象下添加样式
style.add(ruleId, ruleString); // ruleId可选，但强烈建议使用它。
```
参数：

* contextId：{String} required 上下文样式对象的唯一标识
* ruleId：{String} optional 新样式的唯一标识，建议使用，这样可以优化去重
* ruleString：{String} required 新样式的内容，建议使用ES6的字符串语法，见下面的`demo`

示例：

```js
// 第一步：引入模块
const {createStyleContext} = require('tingle-style');

// 第二步：创建一个样式对象
let style = createStyleContext('t-group-list');

// 第三步：添加带有唯一标记的样式(内部会根据ruleId做去重优化)
// NOTE：省略了部分代码，定义了下面了indent，value，lowerSide变量
style.add(`lineIndent${indent}`, `
    .t-group-list.line-indent${indent} .t-group-list-item:after{
        ${lowerSide}: ${value}
    }
`);

```

#### unitize

添加长度单位，默认单位是`px`，返回`0`或者是带有单位的长度字符串值。

语法：

```js
// 第一步：引入模块
const {unitize} = require('tingle-style');

// 第二步：语法
let value = unitize(any);
```

参数：

* any {Number|String|*} optional 要处理的长度值

示例：

```js
unitize(10);     // 10px
unitize('10px'); // 10px
unitize('1rem'); // 1rem
unitize();       // 0
```