'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Avatar Component for tingle
 * @author
 *
 * Copyright 2014-2016, Tingle Team.
 * All rights reserved.
 */
var classnames = require('classnames');

var _require = require('@ali/tingle-style');

var unitize = _require.unitize;

var Context = require('@ali/tingle-context');
var avatarColors = ["#FF8170", "#F5B153", "#56c8e8", "#79CC70", "#52bafa", "#9e9ee6"];
var defaultSrc = 'https://img.alicdn.com/tps/TB1.IgIKpXXXXbgXpXXXXXXXXXX-116-116.png';
var global = Context.getGlobal('avatar') || {};

var Avatar = function (_React$Component) {
    _inherits(Avatar, _React$Component);

    function Avatar(props) {
        _classCallCheck(this, Avatar);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Avatar).call(this, props));

        var size = unitize(props.size);
        _this.style = {
            width: size,
            height: size,
            lineHeight: size,
            fontSize: unitize(props.fontSize)
        };
        return _this;
    }

    _createClass(Avatar, [{
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps, nextState) {
            for (var key in this.props) {
                if (this.props[key] !== nextProps[key]) {
                    return true;
                }
            }
            return false;
        }
    }, {
        key: 'render',
        value: function render() {

            var t = this;
            if (!t.props.name || t.props.src) {
                return React.createElement('img', { ref: 'root', className: classnames(Context.prefixClass('avatar'), _defineProperty({}, t.props.className, !!t.props.className)), src: t.props.src || t.props.defaultSrc, style: t.style });
            }
            if (t.props.defaultColor) {
                t.style.backgroundColor = t.props.defaultColor;
            } else {
                var hashCode = t.props.hashCode(t.props.name, t.props.isLong);
                t.style.backgroundColor = t.props.colors[Math.abs(hashCode) % t.props.colors.length];
            }
            return React.createElement(
                'div',
                { ref: 'root', className: classnames(Context.prefixClass('avatar'), _defineProperty({}, t.props.className, !!t.props.className)), style: this.style },
                Avatar.formatName(t.props.name)
            );
        }
    }]);

    return Avatar;
}(React.Component);

Avatar.hashCode = function (strKey, isLong) {
    var intValue = function intValue(num) {
        var MAX_VALUE = 0x7fffffff;
        var MIN_VALUE = -0x80000000;
        if (num > MAX_VALUE || num < MIN_VALUE) {
            return num &= 0xFFFFFFFF;
        }
        return num;
    };

    var hash = 0;
    if (typeof strKey === 'string') {
        for (var i = 0, l = strKey.length; i < l; i++) {
            hash = hash * 31 + strKey.charCodeAt(i);
            if (!isLong) {
                hash = intValue(hash);
            }
        }
    }
    return hash;
};

Avatar.formatName = function (name) {
    var firstChar = name.slice(0, 1);
    if (/^[A-Za-z]+$/.test(firstChar)) {
        return firstChar.toUpperCase();
    }
    if (name.length === 3) {
        return name.slice(1, 3);
    }
    if (name.length > 3) {
        return name.slice(0, 2);
    }
    return name;
};

Avatar.defaultProps = {
    className: '',
    name: '',
    src: '',
    defaultColor: '',
    colors: global.colors || avatarColors,
    defaultSrc: global.defaultSrc || defaultSrc,
    hashCode: global.hashCode || Avatar.hashCode,
    isLong: false,
    size: 40,
    fontSize: 12
};

// http://facebook.github.io/react/docs/reusable-components.html
Avatar.propTypes = {
    className: React.PropTypes.string,
    size: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number]),
    fontSize: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number]),
    name: React.PropTypes.string,
    defaultColor: React.PropTypes.string,
    defaultSrc: React.PropTypes.string,
    src: React.PropTypes.string,
    colors: React.PropTypes.array,
    isLong: React.PropTypes.bool,
    hashCode: React.PropTypes.func
};

Avatar.displayName = 'Avatar';

module.exports = Avatar;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF2YXRhci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0EsSUFBTSxhQUFhLFFBQVEsWUFBUixDQUFiOztlQUNjLFFBQVEsbUJBQVI7O0lBQVo7O0FBQ1IsSUFBTSxVQUFVLFFBQVEscUJBQVIsQ0FBVjtBQUNOLElBQU0sZUFBZSxDQUFDLFNBQUQsRUFBWSxTQUFaLEVBQXVCLFNBQXZCLEVBQWtDLFNBQWxDLEVBQTZDLFNBQTdDLEVBQXdELFNBQXhELENBQWY7QUFDTixJQUFNLGFBQWEsb0VBQWI7QUFDTixJQUFJLFNBQVMsUUFBUSxTQUFSLENBQWtCLFFBQWxCLEtBQStCLEVBQS9COztJQUNQOzs7QUFFRixhQUZFLE1BRUYsQ0FBWSxLQUFaLEVBQW1COzhCQUZqQixRQUVpQjs7MkVBRmpCLG1CQUdRLFFBRFM7O0FBRWYsWUFBSSxPQUFPLFFBQVEsTUFBTSxJQUFOLENBQWYsQ0FGVztBQUdmLGNBQUssS0FBTCxHQUFhO0FBQ1QsbUJBQU8sSUFBUDtBQUNBLG9CQUFRLElBQVI7QUFDQSx3QkFBWSxJQUFaO0FBQ0Esc0JBQVUsUUFBUSxNQUFNLFFBQU4sQ0FBbEI7U0FKSixDQUhlOztLQUFuQjs7aUJBRkU7OzhDQWFvQixXQUFXLFdBQVc7QUFDeEMsaUJBQUssSUFBSSxHQUFKLElBQVcsS0FBSyxLQUFMLEVBQVk7QUFDeEIsb0JBQUksS0FBSyxLQUFMLENBQVcsR0FBWCxNQUFvQixVQUFVLEdBQVYsQ0FBcEIsRUFBb0M7QUFDcEMsMkJBQU8sSUFBUCxDQURvQztpQkFBeEM7YUFESjtBQUtBLG1CQUFPLEtBQVAsQ0FOd0M7Ozs7aUNBU25DOztBQUVMLGdCQUFJLElBQUksSUFBSixDQUZDO0FBR0wsZ0JBQUksQ0FBQyxFQUFFLEtBQUYsQ0FBUSxJQUFSLElBQWdCLEVBQUUsS0FBRixDQUFRLEdBQVIsRUFBYTtBQUM5Qix1QkFDSSw2QkFBSyxLQUFJLE1BQUosRUFBVyxXQUFXLFdBQVcsUUFBUSxXQUFSLENBQW9CLFFBQXBCLENBQVgsc0JBQ3RCLEVBQUUsS0FBRixDQUFRLFNBQVIsRUFBb0IsQ0FBQyxDQUFDLEVBQUUsS0FBRixDQUFRLFNBQVIsQ0FEQSxDQUFYLEVBRVosS0FBSyxFQUFFLEtBQUYsQ0FBUSxHQUFSLElBQWUsRUFBRSxLQUFGLENBQVEsVUFBUixFQUFvQixPQUFPLEVBQUUsS0FBRixFQUZuRCxDQURKLENBRDhCO2FBQWxDO0FBT0EsZ0JBQUksRUFBRSxLQUFGLENBQVEsWUFBUixFQUFzQjtBQUN0QixrQkFBRSxLQUFGLENBQVEsZUFBUixHQUEwQixFQUFFLEtBQUYsQ0FBUSxZQUFSLENBREo7YUFBMUIsTUFFTztBQUNILG9CQUFJLFdBQVcsRUFBRSxLQUFGLENBQVEsUUFBUixDQUFpQixFQUFFLEtBQUYsQ0FBUSxJQUFSLEVBQWMsRUFBRSxLQUFGLENBQVEsTUFBUixDQUExQyxDQUREO0FBRUgsa0JBQUUsS0FBRixDQUFRLGVBQVIsR0FBMEIsRUFBRSxLQUFGLENBQVEsTUFBUixDQUFlLEtBQUssR0FBTCxDQUFTLFFBQVQsSUFBcUIsRUFBRSxLQUFGLENBQVEsTUFBUixDQUFlLE1BQWYsQ0FBOUQsQ0FGRzthQUZQO0FBTUEsbUJBQ0k7O2tCQUFLLEtBQUksTUFBSixFQUFXLFdBQVcsV0FBVyxRQUFRLFdBQVIsQ0FBb0IsUUFBcEIsQ0FBWCxzQkFDdEIsRUFBRSxLQUFGLENBQVEsU0FBUixFQUFvQixDQUFDLENBQUMsRUFBRSxLQUFGLENBQVEsU0FBUixDQURBLENBQVgsRUFFWixPQUFPLEtBQUssS0FBTCxFQUZYO2dCQUdLLE9BQU8sVUFBUCxDQUFrQixFQUFFLEtBQUYsQ0FBUSxJQUFSLENBSHZCO2FBREosQ0FoQks7Ozs7V0F0QlA7RUFBZSxNQUFNLFNBQU47O0FBZ0RyQixPQUFPLFFBQVAsR0FBa0IsVUFBQyxNQUFELEVBQVMsTUFBVCxFQUFvQjtBQUNsQyxRQUFJLFdBQVcsU0FBWCxRQUFXLENBQUMsR0FBRCxFQUFTO0FBQ3BCLFlBQUksWUFBWSxVQUFaLENBRGdCO0FBRXBCLFlBQUksWUFBWSxDQUFDLFVBQUQsQ0FGSTtBQUdwQixZQUFJLE1BQU0sU0FBTixJQUFtQixNQUFNLFNBQU4sRUFBaUI7QUFDcEMsbUJBQU8sT0FBTyxVQUFQLENBRDZCO1NBQXhDO0FBR0EsZUFBTyxHQUFQLENBTm9CO0tBQVQsQ0FEbUI7O0FBVWxDLFFBQUksT0FBTyxDQUFQLENBVjhCO0FBV2xDLFFBQUksT0FBTyxNQUFQLEtBQWtCLFFBQWxCLEVBQTRCO0FBQzVCLGFBQUssSUFBSSxJQUFJLENBQUosRUFBTyxJQUFJLE9BQU8sTUFBUCxFQUFlLElBQUksQ0FBSixFQUFPLEdBQTFDLEVBQStDO0FBQzNDLG1CQUFPLE9BQU8sRUFBUCxHQUFZLE9BQU8sVUFBUCxDQUFrQixDQUFsQixDQUFaLENBRG9DO0FBRTNDLGdCQUFJLENBQUMsTUFBRCxFQUFTO0FBQ1QsdUJBQU8sU0FBUyxJQUFULENBQVAsQ0FEUzthQUFiO1NBRko7S0FESjtBQVFBLFdBQU8sSUFBUCxDQW5Ca0M7Q0FBcEI7O0FBc0JsQixPQUFPLFVBQVAsR0FBb0IsVUFBQyxJQUFELEVBQVU7QUFDMUIsUUFBSSxZQUFZLEtBQUssS0FBTCxDQUFXLENBQVgsRUFBYyxDQUFkLENBQVosQ0FEc0I7QUFFMUIsUUFBSSxjQUFjLElBQWQsQ0FBbUIsU0FBbkIsQ0FBSixFQUFtQztBQUMvQixlQUFPLFVBQVUsV0FBVixFQUFQLENBRCtCO0tBQW5DO0FBR0EsUUFBSSxLQUFLLE1BQUwsS0FBZ0IsQ0FBaEIsRUFBbUI7QUFDbkIsZUFBTyxLQUFLLEtBQUwsQ0FBVyxDQUFYLEVBQWMsQ0FBZCxDQUFQLENBRG1CO0tBQXZCO0FBR0EsUUFBSSxLQUFLLE1BQUwsR0FBYyxDQUFkLEVBQWlCO0FBQ2pCLGVBQU8sS0FBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLENBQWQsQ0FBUCxDQURpQjtLQUFyQjtBQUdBLFdBQU8sSUFBUCxDQVgwQjtDQUFWOztBQWNwQixPQUFPLFlBQVAsR0FBc0I7QUFDbEIsZUFBVyxFQUFYO0FBQ0EsVUFBTSxFQUFOO0FBQ0EsU0FBSyxFQUFMO0FBQ0Esa0JBQWMsRUFBZDtBQUNBLFlBQVEsT0FBTyxNQUFQLElBQWlCLFlBQWpCO0FBQ1IsZ0JBQVksT0FBTyxVQUFQLElBQXFCLFVBQXJCO0FBQ1osY0FBVSxPQUFPLFFBQVAsSUFBbUIsT0FBTyxRQUFQO0FBQzdCLFlBQVEsS0FBUjtBQUNBLFVBQU0sRUFBTjtBQUNBLGNBQVUsRUFBVjtDQVZKOzs7QUFjQSxPQUFPLFNBQVAsR0FBbUI7QUFDZixlQUFXLE1BQU0sU0FBTixDQUFnQixNQUFoQjtBQUNYLFVBQU0sTUFBTSxTQUFOLENBQWdCLFNBQWhCLENBQTBCLENBQzVCLE1BQU0sU0FBTixDQUFnQixNQUFoQixFQUNBLE1BQU0sU0FBTixDQUFnQixNQUFoQixDQUZFLENBQU47QUFJQSxjQUFVLE1BQU0sU0FBTixDQUFnQixTQUFoQixDQUEwQixDQUNoQyxNQUFNLFNBQU4sQ0FBZ0IsTUFBaEIsRUFDQSxNQUFNLFNBQU4sQ0FBZ0IsTUFBaEIsQ0FGTSxDQUFWO0FBSUEsVUFBTSxNQUFNLFNBQU4sQ0FBZ0IsTUFBaEI7QUFDTixrQkFBYyxNQUFNLFNBQU4sQ0FBZ0IsTUFBaEI7QUFDZCxnQkFBWSxNQUFNLFNBQU4sQ0FBZ0IsTUFBaEI7QUFDWixTQUFLLE1BQU0sU0FBTixDQUFnQixNQUFoQjtBQUNMLFlBQVEsTUFBTSxTQUFOLENBQWdCLEtBQWhCO0FBQ1IsWUFBUSxNQUFNLFNBQU4sQ0FBZ0IsSUFBaEI7QUFDUixjQUFVLE1BQU0sU0FBTixDQUFnQixJQUFoQjtDQWhCZDs7QUFtQkEsT0FBTyxXQUFQLEdBQXFCLFFBQXJCOztBQUVBLE9BQU8sT0FBUCxHQUFpQixNQUFqQiIsImZpbGUiOiJBdmF0YXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF2YXRhciBDb21wb25lbnQgZm9yIHRpbmdsZVxuICogQGF1dGhvclxuICpcbiAqIENvcHlyaWdodCAyMDE0LTIwMTYsIFRpbmdsZSBUZWFtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3QgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcbmNvbnN0IHsgdW5pdGl6ZSB9ID0gcmVxdWlyZSgnQGFsaS90aW5nbGUtc3R5bGUnKTtcbmNvbnN0IENvbnRleHQgPSByZXF1aXJlKCdAYWxpL3RpbmdsZS1jb250ZXh0Jyk7XG5jb25zdCBhdmF0YXJDb2xvcnMgPSBbXCIjRkY4MTcwXCIsIFwiI0Y1QjE1M1wiLCBcIiM1NmM4ZThcIiwgXCIjNzlDQzcwXCIsIFwiIzUyYmFmYVwiLCBcIiM5ZTllZTZcIl07XG5jb25zdCBkZWZhdWx0U3JjID0gJ2h0dHBzOi8vaW1nLmFsaWNkbi5jb20vdHBzL1RCMS5JZ0lLcFhYWFhiZ1hwWFhYWFhYWFhYWC0xMTYtMTE2LnBuZyc7XG5sZXQgZ2xvYmFsID0gQ29udGV4dC5nZXRHbG9iYWwoJ2F2YXRhcicpIHx8IHt9O1xuY2xhc3MgQXZhdGFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgbGV0IHNpemUgPSB1bml0aXplKHByb3BzLnNpemUpO1xuICAgICAgICB0aGlzLnN0eWxlID0ge1xuICAgICAgICAgICAgd2lkdGg6IHNpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBzaXplLFxuICAgICAgICAgICAgZm9udFNpemU6IHVuaXRpemUocHJvcHMuZm9udFNpemUpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wc1trZXldICE9PSBuZXh0UHJvcHNba2V5XSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgbGV0IHQgPSB0aGlzO1xuICAgICAgICBpZiAoIXQucHJvcHMubmFtZSB8fCB0LnByb3BzLnNyYykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8aW1nIHJlZj0ncm9vdCcgY2xhc3NOYW1lPXtjbGFzc25hbWVzKENvbnRleHQucHJlZml4Q2xhc3MoJ2F2YXRhcicpLCB7XG4gICAgICAgICAgICAgICAgICAgIFt0LnByb3BzLmNsYXNzTmFtZV06ICEhdC5wcm9wcy5jbGFzc05hbWVcbiAgICAgICAgICAgICAgICB9KX0gc3JjPXt0LnByb3BzLnNyYyB8fCB0LnByb3BzLmRlZmF1bHRTcmN9IHN0eWxlPXt0LnN0eWxlfS8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0LnByb3BzLmRlZmF1bHRDb2xvcikge1xuICAgICAgICAgICAgdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0LnByb3BzLmRlZmF1bHRDb2xvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBoYXNoQ29kZSA9IHQucHJvcHMuaGFzaENvZGUodC5wcm9wcy5uYW1lLCB0LnByb3BzLmlzTG9uZyk7XG4gICAgICAgICAgICB0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHQucHJvcHMuY29sb3JzW01hdGguYWJzKGhhc2hDb2RlKSAlIHQucHJvcHMuY29sb3JzLmxlbmd0aF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgcmVmPSdyb290JyBjbGFzc05hbWU9e2NsYXNzbmFtZXMoQ29udGV4dC5wcmVmaXhDbGFzcygnYXZhdGFyJyksIHtcbiAgICAgICAgICAgICAgICBbdC5wcm9wcy5jbGFzc05hbWVdOiAhIXQucHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgICB9KX0gc3R5bGU9e3RoaXMuc3R5bGV9PlxuICAgICAgICAgICAgICAgIHtBdmF0YXIuZm9ybWF0TmFtZSh0LnByb3BzLm5hbWUpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5BdmF0YXIuaGFzaENvZGUgPSAoc3RyS2V5LCBpc0xvbmcpID0+IHtcbiAgICBsZXQgaW50VmFsdWUgPSAobnVtKSA9PiB7XG4gICAgICAgIGxldCBNQVhfVkFMVUUgPSAweDdmZmZmZmZmO1xuICAgICAgICBsZXQgTUlOX1ZBTFVFID0gLTB4ODAwMDAwMDA7XG4gICAgICAgIGlmIChudW0gPiBNQVhfVkFMVUUgfHwgbnVtIDwgTUlOX1ZBTFVFKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtICY9IDB4RkZGRkZGRkY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9O1xuXG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGlmICh0eXBlb2Ygc3RyS2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHN0cktleS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGhhc2ggPSBoYXNoICogMzEgKyBzdHJLZXkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmICghaXNMb25nKSB7XG4gICAgICAgICAgICAgICAgaGFzaCA9IGludFZhbHVlKGhhc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xufTtcblxuQXZhdGFyLmZvcm1hdE5hbWUgPSAobmFtZSkgPT4ge1xuICAgIGxldCBmaXJzdENoYXIgPSBuYW1lLnNsaWNlKDAsIDEpO1xuICAgIGlmICgvXltBLVphLXpdKyQvLnRlc3QoZmlyc3RDaGFyKSkge1xuICAgICAgICByZXR1cm4gZmlyc3RDaGFyLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmIChuYW1lLmxlbmd0aCA9PT0gMykge1xuICAgICAgICByZXR1cm4gbmFtZS5zbGljZSgxLCAzKTtcbiAgICB9XG4gICAgaWYgKG5hbWUubGVuZ3RoID4gMykge1xuICAgICAgICByZXR1cm4gbmFtZS5zbGljZSgwLCAyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG59O1xuXG5BdmF0YXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNsYXNzTmFtZTogJycsXG4gICAgbmFtZTogJycsXG4gICAgc3JjOiAnJyxcbiAgICBkZWZhdWx0Q29sb3I6ICcnLFxuICAgIGNvbG9yczogZ2xvYmFsLmNvbG9ycyB8fCBhdmF0YXJDb2xvcnMsXG4gICAgZGVmYXVsdFNyYzogZ2xvYmFsLmRlZmF1bHRTcmMgfHwgZGVmYXVsdFNyYyxcbiAgICBoYXNoQ29kZTogZ2xvYmFsLmhhc2hDb2RlIHx8IEF2YXRhci5oYXNoQ29kZSxcbiAgICBpc0xvbmc6IGZhbHNlLFxuICAgIHNpemU6IDQwLFxuICAgIGZvbnRTaXplOiAxMlxufTtcblxuLy8gaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3JldXNhYmxlLWNvbXBvbmVudHMuaHRtbFxuQXZhdGFyLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2l6ZTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgIFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIFJlYWN0LlByb3BUeXBlcy5udW1iZXJcbiAgICBdKSxcbiAgICBmb250U2l6ZTogUmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgIFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIFJlYWN0LlByb3BUeXBlcy5udW1iZXJcbiAgICBdKSxcbiAgICBuYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRlZmF1bHRDb2xvcjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZWZhdWx0U3JjOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNyYzogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjb2xvcnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBpc0xvbmc6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGhhc2hDb2RlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY1xufTtcblxuQXZhdGFyLmRpc3BsYXlOYW1lID0gJ0F2YXRhcic7XG5cbm1vZHVsZS5leHBvcnRzID0gQXZhdGFyO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
