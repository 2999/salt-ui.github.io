'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Toast Component for tingle
 * @author minjie
 *
 * Copyright 2014-2016, Tingle Team.
 * All rights reserved.
 */
/* eslint-disable */
var React = require('react');
var ReactDOM = require('react-dom');
var classnames = require('classnames');

var _require = require('@ali/tingle-box');

var VBox = _require.VBox;

var Layer = require('@ali/tingle-layer');
var Icon = require('@ali/tingle-icon');

var _require2 = require('@ali/tingle-context');

var prefixClass = _require2.prefixClass;
var noop = _require2.noop;


var iconNames = {
    success: 'check-round',
    error: 'cross-round',
    fail: 'toast-fail',
    loading: 'toast-loading'
};

var Toast = function (_React$Component) {
    _inherits(Toast, _React$Component);

    function Toast(props) {
        _classCallCheck(this, Toast);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Toast).call(this, props));

        _this.state = {
            visible: props.visible,
            icon: _this.getIconName(props)
        };
        return _this;
    }

    _createClass(Toast, [{
        key: 'getIconName',
        value: function getIconName(props) {
            return props.icon || iconNames[props.type];
        }
    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            this.setState({
                visible: nextProps.visible,
                icon: this.getIconName(nextProps)
            });
        }
    }, {
        key: 'startCountdown',
        value: function startCountdown() {
            var t = this;
            t.timer = setTimeout(function () {
                t.setState({
                    visible: false
                });
                clearTimeout(t.timer);
            }, t.props.duration);
        }
    }, {
        key: 'handleDidHide',
        value: function handleDidHide() {
            this.props.onDidHide();
        }
    }, {
        key: 'renderIcon',
        value: function renderIcon(icon) {
            if (!icon) {
                return null;
            }
            // svg loader 无法解析 loading 的 svg
            // 使用 dangerouslySetInnerHTML={{__html: toastLoading}} 在 uc 内核也有问题
            // 临时方案使用 background
            if (icon === 'toast-loading') {
                return React.createElement('div', { className: prefixClass('toast-icon toast-icon-loading') });
            }
            return React.createElement(Icon, { className: classnames(prefixClass('toast-icon'), _defineProperty({}, icon, !!icon)), name: icon, fill: '#fff' });
        }
    }, {
        key: 'render',
        value: function render() {
            var t = this;
            var _t$state = t.state;
            var visible = _t$state.visible;
            var icon = _t$state.icon;
            var _t$props = t.props;
            var className = _t$props.className;
            var content = _t$props.content;
            var autoHide = _t$props.autoHide;

            var other = _objectWithoutProperties(_t$props, ['className', 'content', 'autoHide']);

            // 如果可见 且 可自动关闭 则开始倒计时


            visible && autoHide && t.startCountdown();

            return React.createElement(
                Layer,
                _extends({ ref: 'root' }, other, { className: classnames(prefixClass('toast'), _defineProperty({}, className, !!className)), visible: visible, onDidHide: t.handleDidHide.bind(t) }),
                React.createElement(
                    VBox,
                    { hAlign: 'center' },
                    this.renderIcon(icon),
                    content && React.createElement(
                        'div',
                        { className: prefixClass('toast-content') },
                        content
                    )
                )
            );
        }
    }]);

    return Toast;
}(React.Component);

Toast.defaultProps = {
    width: 'auto',
    height: 'auto',
    hasMask: false,
    onDidHide: noop,
    visible: false,
    autoHide: true,
    content: '',
    icon: '',
    duration: 1500
};

// http://facebook.github.io/react/docs/reusable-components.html
Toast.propTypes = {
    visible: React.PropTypes.bool,
    hasMask: React.PropTypes.bool,
    autoHide: React.PropTypes.bool,
    onDidHide: React.PropTypes.func,
    width: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number]),
    content: React.PropTypes.string,
    icon: React.PropTypes.string,
    duration: React.PropTypes.number
};

var WRAPPER_ID = '__TingleGlobalToast__';
var doc = document;
var wrapper = doc.getElementById(WRAPPER_ID);
if (!wrapper) {
    wrapper = doc.createElement('div');
    wrapper.id = WRAPPER_ID;
    doc.body.appendChild(wrapper);
}
ReactDOM.render(React.createElement(Toast, { visible: false }), wrapper);

Toast.show = function (props) {
    props.visible = true;
    ReactDOM.render(React.createElement(Toast, props), wrapper);
};

Toast.hide = function (fn) {
    ReactDOM.render(React.createElement(Toast, { visible: false, onDidHide: fn }), wrapper);
};

Toast.displayName = 'Toast';

module.exports = Toast;
//# sourceMappingURL=data:application/json;base64,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QyxLQUFELEVBQVc7QUFDcEIsVUFBTSxPQUFOLEdBQWdCLElBQWhCO0FBQ0EsYUFBUyxNQUFULENBQWdCLG9CQUFDLEtBQUQsRUFBVyxLQUFYLENBQWhCLEVBQXFDLE9BQXJDO0FBQ0gsQ0FIRDs7QUFLQSxNQUFNLElBQU4sR0FBYSxVQUFDLEVBQUQsRUFBUTtBQUNqQixhQUFTLE1BQVQsQ0FBZ0Isb0JBQUMsS0FBRCxJQUFPLFNBQVMsS0FBaEIsRUFBdUIsV0FBVyxFQUFsQyxHQUFoQixFQUF5RCxPQUF6RDtBQUNILENBRkQ7O0FBSUEsTUFBTSxXQUFOLEdBQW9CLE9BQXBCOztBQUVBLE9BQU8sT0FBUCxHQUFpQixLQUFqQiIsImZpbGUiOiJUb2FzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVG9hc3QgQ29tcG9uZW50IGZvciB0aW5nbGVcbiAqIEBhdXRob3IgbWluamllXG4gKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNiwgVGluZ2xlIFRlYW0uXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcbmNvbnN0IGNsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5jb25zdCB7VkJveH0gPSByZXF1aXJlKCdAYWxpL3RpbmdsZS1ib3gnKTtcbmNvbnN0IExheWVyID0gcmVxdWlyZSgnQGFsaS90aW5nbGUtbGF5ZXInKTtcbmNvbnN0IEljb24gPSByZXF1aXJlKCdAYWxpL3RpbmdsZS1pY29uJyk7XG5jb25zdCB7cHJlZml4Q2xhc3MsIG5vb3B9ID0gcmVxdWlyZSgnQGFsaS90aW5nbGUtY29udGV4dCcpO1xuXG5jb25zdCBpY29uTmFtZXMgPSB7XG4gICAgc3VjY2VzczogJ2NoZWNrLXJvdW5kJyxcbiAgICBlcnJvcjogJ2Nyb3NzLXJvdW5kJyxcbiAgICBmYWlsOiAndG9hc3QtZmFpbCcsXG4gICAgbG9hZGluZzogJ3RvYXN0LWxvYWRpbmcnXG59O1xuXG5jbGFzcyBUb2FzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlLFxuICAgICAgICAgICAgaWNvbjogdGhpcy5nZXRJY29uTmFtZShwcm9wcylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEljb25OYW1lKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy5pY29uIHx8IGljb25OYW1lc1twcm9wcy50eXBlXVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdmlzaWJsZTogbmV4dFByb3BzLnZpc2libGUsXG4gICAgICAgICAgICBpY29uOiB0aGlzLmdldEljb25OYW1lKG5leHRQcm9wcylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhcnRDb3VudGRvd24oKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgdC50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHQudGltZXIpO1xuICAgICAgICB9LCB0LnByb3BzLmR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICBoYW5kbGVEaWRIaWRlKCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uRGlkSGlkZSgpO1xuICAgIH1cblxuICAgIHJlbmRlckljb24oaWNvbikge1xuICAgICAgICBpZiAoIWljb24pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN2ZyBsb2FkZXIg5peg5rOV6Kej5p6QIGxvYWRpbmcg55qEIHN2Z1xuICAgICAgICAvLyDkvb/nlKggZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRvYXN0TG9hZGluZ319IOWcqCB1YyDlhoXmoLjkuZ/mnInpl67pophcbiAgICAgICAgLy8g5Li05pe25pa55qGI5L2/55SoIGJhY2tncm91bmRcbiAgICAgICAgaWYoaWNvbiA9PT0gJ3RvYXN0LWxvYWRpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtwcmVmaXhDbGFzcygndG9hc3QtaWNvbiB0b2FzdC1pY29uLWxvYWRpbmcnKX0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhwcmVmaXhDbGFzcygndG9hc3QtaWNvbicpLCB7XG4gICAgICAgICAgICAgICAgW2ljb25dOiAhIWljb25cbiAgICAgICAgICAgIH0pfSBuYW1lPXtpY29ufSBmaWxsPVwiI2ZmZlwiLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgbGV0IHt2aXNpYmxlLCBpY29ufSA9IHQuc3RhdGU7XG5cbiAgICAgICAgbGV0IHtjbGFzc05hbWUsIGNvbnRlbnQsIGF1dG9IaWRlLCAuLi5vdGhlcn0gPSB0LnByb3BzO1xuXG4gICAgICAgIC8vIOWmguaenOWPr+ingSDkuJQg5Y+v6Ieq5Yqo5YWz6ZetIOWImeW8gOWni+WAkuiuoeaXtlxuICAgICAgICB2aXNpYmxlICYmIGF1dG9IaWRlICYmIHQuc3RhcnRDb3VudGRvd24oKTtcblxuICAgICAgICByZXR1cm4gPExheWVyIHJlZj0ncm9vdCcgey4uLm90aGVyfSBjbGFzc05hbWU9e2NsYXNzbmFtZXMocHJlZml4Q2xhc3MoJ3RvYXN0JyksIHtcbiAgICAgICAgICAgIFtjbGFzc05hbWVdOiAhIWNsYXNzTmFtZVxuICAgICAgICB9KX0gdmlzaWJsZT17dmlzaWJsZX0gb25EaWRIaWRlPXt0LmhhbmRsZURpZEhpZGUuYmluZCh0KX0+XG4gICAgICAgICAgICA8VkJveCBoQWxpZ249J2NlbnRlcic+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySWNvbihpY29uKX1cbiAgICAgICAgICAgICAgICB7Y29udGVudCAmJiA8ZGl2IGNsYXNzTmFtZT17cHJlZml4Q2xhc3MoJ3RvYXN0LWNvbnRlbnQnKX0+e2NvbnRlbnR9PC9kaXY+fVxuICAgICAgICAgICAgPC9WQm94PlxuICAgICAgICA8L0xheWVyPjtcbiAgICB9XG59XG5cblRvYXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICB3aWR0aDogJ2F1dG8nLFxuICAgIGhlaWdodDogJ2F1dG8nLFxuICAgIGhhc01hc2s6IGZhbHNlLFxuICAgIG9uRGlkSGlkZTogbm9vcCxcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBhdXRvSGlkZTogdHJ1ZSxcbiAgICBjb250ZW50OiAnJyxcbiAgICBpY29uOiAnJyxcbiAgICBkdXJhdGlvbjogMTUwMFxufVxuXG4vLyBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmV1c2FibGUtY29tcG9uZW50cy5odG1sXG5Ub2FzdC5wcm9wVHlwZXMgPSB7XG4gICAgdmlzaWJsZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgaGFzTWFzazogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgYXV0b0hpZGU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uRGlkSGlkZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgd2lkdGg6IFJlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyXG4gICAgXSksXG4gICAgY29udGVudDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBpY29uOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGR1cmF0aW9uOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyXG59XG5cbmxldCBXUkFQUEVSX0lEID0gJ19fVGluZ2xlR2xvYmFsVG9hc3RfXyc7XG5sZXQgZG9jID0gZG9jdW1lbnQ7XG5sZXQgd3JhcHBlciA9IGRvYy5nZXRFbGVtZW50QnlJZChXUkFQUEVSX0lEKTtcbmlmICghd3JhcHBlcikge1xuICAgIHdyYXBwZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd3JhcHBlci5pZCA9IFdSQVBQRVJfSUQ7XG4gICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG59XG5SZWFjdERPTS5yZW5kZXIoPFRvYXN0IHZpc2libGU9e2ZhbHNlfS8+LCB3cmFwcGVyKTtcblxuVG9hc3Quc2hvdyA9IChwcm9wcykgPT4ge1xuICAgIHByb3BzLnZpc2libGUgPSB0cnVlO1xuICAgIFJlYWN0RE9NLnJlbmRlcig8VG9hc3Qgey4uLnByb3BzfS8+LCB3cmFwcGVyKTtcbn07XG5cblRvYXN0LmhpZGUgPSAoZm4pID0+IHtcbiAgICBSZWFjdERPTS5yZW5kZXIoPFRvYXN0IHZpc2libGU9e2ZhbHNlfSBvbkRpZEhpZGU9e2ZufS8+LCB3cmFwcGVyKTtcbn07XG5cblRvYXN0LmRpc3BsYXlOYW1lID0gJ1RvYXN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBUb2FzdDtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
