'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * List Component for tingle
 * @author muxin
 *
 * Copyright 2014-2016, Tingle Team.
 * All rights reserved.
 */
var React = require('react');
var classnames = require('classnames');
var Context = require('@ali/tingle-context');
var Icon = require('@ali/tingle-icon');
var Group = require('@ali/tingle-group');
var Boxs = require('@ali/tingle-box');
var HBox = Boxs.HBox;
var VBox = Boxs.VBox;
var Box = Boxs.Box;

var TOUCH_START = Context.TOUCH_START,
    TOUCH_MOVE = Context.TOUCH_MOVE,
    TOUCH_END = Context.TOUCH_END,
    TOUCH_CANCEL = Context.TOUCH_CANCEL,
    support3D = Context.support3D,
    supportTouch = Context.supportTouch,
    isPC = Context.isPC,
    noop = Context.noop,
    RESIZE = Context.RESIZE;


var doc = document;

// 获取兼容PC和Device的event对象的page属性
var getCursorPage = supportTouch ? function (event, page) {

    return event.targetTouches[0][page] || event.changedTouches[0][page];
} : function (event, page) {

    return event[page];
};

var List = function (_React$Component) {
    _inherits(List, _React$Component);

    function List(props) {
        _classCallCheck(this, List);

        var _this = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, props));

        var t = _this;
        var datas = t.props.data || [];

        if (datas.length) {

            datas.map(function (d, i) {

                d.keyIndex = "index" + i;
                d.listLeft = 0;
            });
        }

        _this.state = {
            data: datas,
            isCanMove: true, //当前能不能进行滑动
            startX: 0, //鼠标开始的X轴位置
            startY: 0, //鼠标开始的Y轴位置
            endX: 0, //鼠标释放的位置
            delateX: 0, //鼠标滑动的水平距离
            listLeft: 0,
            isMove: false
        };
        return _this;
    }

    _createClass(List, [{
        key: 'componentDidMount',
        value: function componentDidMount() {}
    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProp) {

            if (nextProp.data && nextProp.data.length) {

                nextProp.data.map(function (d, i) {

                    d.keyIndex = "index" + i;
                    d.listLeft = 0;
                });

                this.setState({
                    data: nextProp.data
                });
            }
        }
    }, {
        key: 'touchstartHandle',
        value: function touchstartHandle(e) {

            var t = this;
            var data = t.state.data;
            var id = e.currentTarget.id;
            var isCanMove = t.state.isCanMove;

            data.map(function (d, i) {

                if (d.keyIndex !== id && Math.abs(d.listLeft) > 0) {

                    isCanMove = false;
                }

                d.listLeft = 0;
            });

            // 只响应单指操作
            if (supportTouch && e.touches.length > 1) {

                return;
            }

            e.currentTarget.style.transitionDuration = '.05s';

            // 获取当前触点的X轴的偏移量
            var touchPageX = getCursorPage(e, 'pageX');
            var touchPageY = getCursorPage(e, 'pageY');

            t.setState({
                data: data,
                startX: touchPageX,
                startY: touchPageY,
                isCanMove: isCanMove
            });
        }
    }, {
        key: 'touchmoveHandle',
        value: function touchmoveHandle(e) {

            var t = this;
            var translateX = void 0;
            var data = t.state.data;
            var id = e.currentTarget.id;
            var isCanMove = t.state.isCanMove;
            var deltaX = void 0;
            var deltaY = void 0;

            // 只响应单指操作
            if (supportTouch && e.touches.length > 1) {

                return;
            }

            e.currentTarget.style.transitionDuration = '.1s';

            var touchPageX = getCursorPage(e, 'pageX');
            var touchPageY = getCursorPage(e, 'pageY');

            deltaX = touchPageX - t.state.startX;
            deltaY = touchPageY - t.state.startY;

            var change = Math.min(Math.max(-82, deltaX), 0);

            // 如果X轴的移动距离先达到5px并且Y轴的移动距离小于5px，则执行list的滑动
            // 如果Y轴的移动距离先达到5px，则执行浏览器默认的页面滚动
            if (Math.abs(deltaX) > 5 && Math.abs(deltaY) < 5) {

                data.map(function (d, i) {

                    if (d.keyIndex === id) {

                        if (isCanMove) {

                            d.listLeft = change;
                        } else {

                            d.listLeft = 0;
                            e.currentTarget.addEventListener('touchmove', function (event) {

                                event.preventDefault();
                            }, false);
                        }
                    }
                });

                e.preventDefault();
                e.stopPropagation();

                t.setState({
                    endX: touchPageX,
                    delateX: change,
                    listLeft: change,
                    data: data,
                    isCanMove: isCanMove
                });
            }
        }
    }, {
        key: 'touchendHandle',
        value: function touchendHandle(e) {

            var t = this;
            var left = void 0;
            var data = t.state.data;
            var isCanMove = t.state.isCanMove;
            var id = e.currentTarget.id;
            var new_left = 0;

            // 只响应单指操作
            if (supportTouch && e.touches.length > 1) {

                return;
            }

            e.currentTarget.style.transitionDuration = '.2s';

            data.map(function (d, i) {

                if (d.keyIndex === id) {

                    left = parseInt(d.listLeft);
                }
            });

            if (left < -5) {

                new_left = -82;
            } else if (left = 0) {

                new_left = 0;
            } else if (left > 5) {

                new_left = 82;
            }

            var arr = [];

            data.map(function (d, i) {

                if (d.keyIndex !== id) {

                    d.listLeft = 0;
                    isCanMove = true;
                } else {

                    d.listLeft = new_left;
                }
            });

            t.setState({
                listLeft: new_left,
                data: data,
                isCanMove: isCanMove
            });

            if (new_left < 0) {

                t.setState({
                    isMove: true
                });
            }
        }
    }, {
        key: 'delete',
        value: function _delete(dataItem, e) {

            var t = this;

            e.preventDefault();
            t.props.onDelete(e, dataItem);

            // let data = t.state.data;
            // let id = event.currentTarget.id;

            // data.map((d,i) => {

            //     if(d.keyIndex === id) {

            //         data.splice(i,1);
            //     }
            // })

            // t.setState({
            //     data : data
            // })
        }
    }, {
        key: 'prevent_default',
        value: function prevent_default(e) {

            e.preventDefault();
        }
    }, {
        key: 'clickHandle',
        value: function clickHandle(dataItem, e) {

            var t = this;

            if (t.state.isMove) {

                t.setState({
                    isMove: false
                });
            } else {

                t.props.onClick(e, dataItem);
            }
        }
    }, {
        key: 'clickPhotoHandle',
        value: function clickPhotoHandle(imgUrl, e) {

            var t = this;

            e.stopPropagation();
            t.props.clickPhoto(e, imgUrl);
        }
    }, {
        key: 'render',
        value: function render() {

            var t = this;
            var _t$props = t.props,
                className = _t$props.className,
                layout = _t$props.layout,
                isDelete = _t$props.isDelete,
                hasRightIcon = _t$props.hasRightIcon,
                iconName = _t$props.iconName,
                iconWidth = _t$props.iconWidth,
                demoTitle = _t$props.demoTitle;

            var data = t.state.data;
            var isCanMove = t.state.isCanMove;
            var list = null;
            var Events = {};

            if (isDelete) {

                Events = {
                    onTouchStart: t.touchstartHandle.bind(t),
                    onTouchMove: t.touchmoveHandle.bind(t),
                    onTouchEnd: t.touchendHandle.bind(t)
                };
            }

            if (data.length) {

                list = data.map(function (dataItem, index) {
                    return React.createElement(
                        'div',
                        { key: index },
                        React.createElement(
                            'div',
                            _extends({ className: Context.prefixClass('list-wrap')
                            }, Events, {
                                style: { left: dataItem.listLeft + 'px' },
                                id: dataItem.keyIndex,
                                onClick: t.clickHandle.bind(t, dataItem),
                                ref: 'listItemBox' }),
                            React.createElement(
                                HBox,
                                { vAlign: 'center' },
                                React.createElement(
                                    HBox,
                                    { flex: 1, className: classnames(_defineProperty({}, Context.prefixClass('list-img-right'), layout === 'right')) },
                                    dataItem.imgUrl && React.createElement(
                                        VBox,
                                        { vAlign: 'center', onClick: t.clickPhotoHandle.bind(t, dataItem.imgUrl) },
                                        React.createElement('img', { src: dataItem.imgUrl, className: Context.prefixClass('list-img') })
                                    ),
                                    React.createElement(
                                        Box,
                                        { className: Context.prefixClass('list-text-content'), flex: 1 },
                                        React.createElement(
                                            'p',
                                            { className: Context.prefixClass('list-title omit') },
                                            dataItem.title,
                                            dataItem.date && React.createElement(
                                                'span',
                                                { className: Context.prefixClass('list-title-date') },
                                                dataItem.date
                                            )
                                        ),
                                        dataItem.text && React.createElement(
                                            'p',
                                            { className: Context.prefixClass('list-text omit') },
                                            dataItem.text
                                        )
                                    )
                                ),
                                hasRightIcon && React.createElement(
                                    Box,
                                    null,
                                    React.createElement(Icon, { name: iconName, width: iconWidth, fill: '#ccc', className: Context.prefixClass('list-arrow') })
                                )
                            )
                        ),
                        React.createElement(
                            'div',
                            { className: Context.prefixClass('list-behind') },
                            React.createElement(
                                'a',
                                { href: '#', className: Context.prefixClass('list-delete-btn'), id: dataItem.keyIndex, onClick: t.delete.bind(t, dataItem) },
                                React.createElement(
                                    'span',
                                    { className: Context.prefixClass('list-delete-btn-text') },
                                    '\u5220\u9664'
                                )
                            )
                        )
                    );
                });

                return React.createElement(
                    Group,
                    { className: classnames(Context.prefixClass('list'), _defineProperty({}, className, !!className)) },
                    React.createElement(
                        Group.Head,
                        { className: 't-demo-title' },
                        demoTitle
                    ),
                    React.createElement(
                        Group.List,
                        { lineIndent: 10 },
                        list
                    )
                );
            } else {
                return null;
            }
        }
    }]);

    return List;
}(React.Component);

List.defaultProps = {
    className: '',
    layout: 'left',
    hasRightIcon: true,
    iconName: 'angle-right',
    iconWidth: 20,
    data: [],
    isDelete: false,
    demoTitle: '',
    onClick: function onClick() {},
    clickPhoto: function clickPhoto() {},
    onDelete: function onDelete() {}
};

// http://facebook.github.io/react/docs/reusable-components.html
List.propTypes = {
    className: React.PropTypes.string,
    layout: React.PropTypes.string,
    iconName: React.PropTypes.string,
    iconWidth: React.PropTypes.number,
    data: React.PropTypes.array,
    hasRightIcon: React.PropTypes.bool,
    onClick: React.PropTypes.func,
    clickPhoto: React.PropTypes.func,
    onDelete: React.PropTypes.func
};

List.displayName = 'List';

module.exports = List;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpc3QuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiY2xhc3NuYW1lcyIsIkNvbnRleHQiLCJJY29uIiwiR3JvdXAiLCJCb3hzIiwiSEJveCIsIlZCb3giLCJCb3giLCJUT1VDSF9TVEFSVCIsIlRPVUNIX01PVkUiLCJUT1VDSF9FTkQiLCJUT1VDSF9DQU5DRUwiLCJzdXBwb3J0M0QiLCJzdXBwb3J0VG91Y2giLCJpc1BDIiwibm9vcCIsIlJFU0laRSIsImRvYyIsImRvY3VtZW50IiwiZ2V0Q3Vyc29yUGFnZSIsImV2ZW50IiwicGFnZSIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsIkxpc3QiLCJwcm9wcyIsInQiLCJkYXRhcyIsImRhdGEiLCJsZW5ndGgiLCJtYXAiLCJkIiwiaSIsImtleUluZGV4IiwibGlzdExlZnQiLCJzdGF0ZSIsImlzQ2FuTW92ZSIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJkZWxhdGVYIiwiaXNNb3ZlIiwibmV4dFByb3AiLCJzZXRTdGF0ZSIsImUiLCJpZCIsImN1cnJlbnRUYXJnZXQiLCJNYXRoIiwiYWJzIiwidG91Y2hlcyIsInN0eWxlIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidG91Y2hQYWdlWCIsInRvdWNoUGFnZVkiLCJ0cmFuc2xhdGVYIiwiZGVsdGFYIiwiZGVsdGFZIiwiY2hhbmdlIiwibWluIiwibWF4IiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwibGVmdCIsIm5ld19sZWZ0IiwicGFyc2VJbnQiLCJhcnIiLCJkYXRhSXRlbSIsIm9uRGVsZXRlIiwib25DbGljayIsImltZ1VybCIsImNsaWNrUGhvdG8iLCJjbGFzc05hbWUiLCJsYXlvdXQiLCJpc0RlbGV0ZSIsImhhc1JpZ2h0SWNvbiIsImljb25OYW1lIiwiaWNvbldpZHRoIiwiZGVtb1RpdGxlIiwibGlzdCIsIkV2ZW50cyIsIm9uVG91Y2hTdGFydCIsInRvdWNoc3RhcnRIYW5kbGUiLCJiaW5kIiwib25Ub3VjaE1vdmUiLCJ0b3VjaG1vdmVIYW5kbGUiLCJvblRvdWNoRW5kIiwidG91Y2hlbmRIYW5kbGUiLCJpbmRleCIsInByZWZpeENsYXNzIiwiY2xpY2tIYW5kbGUiLCJjbGlja1Bob3RvSGFuZGxlIiwidGl0bGUiLCJkYXRlIiwidGV4dCIsImRlbGV0ZSIsIkNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInN0cmluZyIsIm51bWJlciIsImFycmF5IiwiYm9vbCIsImZ1bmMiLCJkaXNwbGF5TmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7QUFPQSxJQUFNQSxRQUFRQyxRQUFRLE9BQVIsQ0FBZDtBQUNBLElBQU1DLGFBQWFELFFBQVEsWUFBUixDQUFuQjtBQUNBLElBQUlFLFVBQVVGLFFBQVEscUJBQVIsQ0FBZDtBQUNBLElBQUlHLE9BQU9ILFFBQVEsa0JBQVIsQ0FBWDtBQUNBLElBQUlJLFFBQVFKLFFBQVEsbUJBQVIsQ0FBWjtBQUNBLElBQUlLLE9BQU9MLFFBQVEsaUJBQVIsQ0FBWDtBQUNBLElBQUlNLE9BQU9ELEtBQUtDLElBQWhCO0FBQ0EsSUFBSUMsT0FBT0YsS0FBS0UsSUFBaEI7QUFDQSxJQUFJQyxNQUFNSCxLQUFLRyxHQUFmOztJQUdJQyxXLEdBU0FQLE8sQ0FUQU8sVztJQUNBQyxVLEdBUUFSLE8sQ0FSQVEsVTtJQUNBQyxTLEdBT0FULE8sQ0FQQVMsUztJQUNBQyxZLEdBTUFWLE8sQ0FOQVUsWTtJQUNBQyxTLEdBS0FYLE8sQ0FMQVcsUztJQUNBQyxZLEdBSUFaLE8sQ0FKQVksWTtJQUNBQyxJLEdBR0FiLE8sQ0FIQWEsSTtJQUNBQyxJLEdBRUFkLE8sQ0FGQWMsSTtJQUNBQyxNLEdBQ0FmLE8sQ0FEQWUsTTs7O0FBR0osSUFBSUMsTUFBTUMsUUFBVjs7QUFFQTtBQUNBLElBQUlDLGdCQUFnQk4sZUFBZSxVQUFDTyxLQUFELEVBQVFDLElBQVIs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ZUFBVyxFQURLO0FBRWhCQyxZQUFRLE1BRlE7QUFHaEJFLGtCQUFjLElBSEU7QUFJaEJDLGNBQVUsYUFKTTtBQUtoQkMsZUFBVyxFQUxLO0FBTWhCakQsVUFBTSxFQU5VO0FBT2hCOEMsY0FBVSxLQVBNO0FBUWhCSSxlQUFXLEVBUks7QUFTaEJULGFBQVMsbUJBQVcsQ0FBRSxDQVROO0FBVWhCRSxnQkFBWSxzQkFBVyxDQUFFLENBVlQ7QUFXaEJILGNBQVUsb0JBQVcsQ0FBRTtBQVhQLENBQXBCOztBQWNBO0FBQ0E1QyxLQUFLMEUsU0FBTCxHQUFpQjtBQUNiMUIsZUFBVzFFLE1BQU1xRyxTQUFOLENBQWdCQyxNQURkO0FBRWIzQixZQUFPM0UsTUFBTXFHLFNBQU4sQ0FBZ0JDLE1BRlY7QUFHYnhCLGNBQVM5RSxNQUFNcUcsU0FBTixDQUFnQkMsTUFIWjtBQUlidkIsZUFBVS9FLE1BQU1xRyxTQUFOLENBQWdCRSxNQUpiO0FBS2J6RSxVQUFLOUIsTUFBTXFHLFNBQU4sQ0FBZ0JHLEtBTFI7QUFNYjNCLGtCQUFhN0UsTUFBTXFHLFNBQU4sQ0FBZ0JJLElBTmhCO0FBT2JsQyxhQUFRdkUsTUFBTXFHLFNBQU4sQ0FBZ0JLLElBUFg7QUFRYmpDLGdCQUFXekUsTUFBTXFHLFNBQU4sQ0FBZ0JLLElBUmQ7QUFTYnBDLGNBQVN0RSxNQUFNcUcsU0FBTixDQUFnQks7QUFUWixDQUFqQjs7QUFZQWhGLEtBQUtpRixXQUFMLEdBQW1CLE1BQW5COztBQUVBQyxPQUFPQyxPQUFQLEdBQWlCbkYsSUFBakIiLCJmaWxlIjoiTGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGlzdCBDb21wb25lbnQgZm9yIHRpbmdsZVxuICogQGF1dGhvciBtdXhpblxuICpcbiAqIENvcHlyaWdodCAyMDE0LTIwMTYsIFRpbmdsZSBUZWFtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcbmxldCBDb250ZXh0ID0gcmVxdWlyZSgnQGFsaS90aW5nbGUtY29udGV4dCcpO1xubGV0IEljb24gPSByZXF1aXJlKCdAYWxpL3RpbmdsZS1pY29uJyk7XG5sZXQgR3JvdXAgPSByZXF1aXJlKCdAYWxpL3RpbmdsZS1ncm91cCcpO1xubGV0IEJveHMgPSByZXF1aXJlKCdAYWxpL3RpbmdsZS1ib3gnKTtcbmxldCBIQm94ID0gQm94cy5IQm94O1xubGV0IFZCb3ggPSBCb3hzLlZCb3g7XG5sZXQgQm94ID0gQm94cy5Cb3g7XG5cbmxldCB7XG4gICAgVE9VQ0hfU1RBUlQsXG4gICAgVE9VQ0hfTU9WRSxcbiAgICBUT1VDSF9FTkQsXG4gICAgVE9VQ0hfQ0FOQ0VMLFxuICAgIHN1cHBvcnQzRCxcbiAgICBzdXBwb3J0VG91Y2gsXG4gICAgaXNQQyxcbiAgICBub29wLFxuICAgIFJFU0laRVxufSA9IENvbnRleHQ7XG5cbmxldCBkb2MgPSBkb2N1bWVudDtcblxuLy8g6I635Y+W5YW85a65UEPlkoxEZXZpY2XnmoRldmVudOWvueixoeeahHBhZ2XlsZ7mgKdcbmxldCBnZXRDdXJzb3JQYWdlID0gc3VwcG9ydFRvdWNoID8gKGV2ZW50LCBwYWdlKSA9PiB7XG5cbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0VG91Y2hlc1swXVtwYWdlXSB8fCBldmVudC5jaGFuZ2VkVG91Y2hlc1swXVtwYWdlXTtcbn0gOiAoZXZlbnQsIHBhZ2UpID0+IHtcblxuICAgIHJldHVybiBldmVudFtwYWdlXTtcbn07XG5cbmNsYXNzIExpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgbGV0IHQgPSB0aGlzO1xuICAgICAgICBsZXQgZGF0YXMgPSB0LnByb3BzLmRhdGEgfHwgW107XG5cbiAgICAgICAgaWYoZGF0YXMubGVuZ3RoKXtcblxuICAgICAgICAgICAgZGF0YXMubWFwKChkLGkpID0+IHtcblxuICAgICAgICAgICAgICAgIGQua2V5SW5kZXggPSBcImluZGV4XCIraTtcbiAgICAgICAgICAgICAgICBkLmxpc3RMZWZ0ID0gMFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkYXRhICAgICAgICAgOiBkYXRhcyxcbiAgICAgICAgICAgIGlzQ2FuTW92ZSAgICA6IHRydWUsICAgICAvL+W9k+WJjeiDveS4jeiDvei/m+ihjOa7keWKqFxuICAgICAgICAgICAgc3RhcnRYICAgICAgIDogMCwgICAgICAgIC8v6byg5qCH5byA5aeL55qEWOi9tOS9jee9rlxuICAgICAgICAgICAgc3RhcnRZICAgICAgIDogMCwgICAgICAgIC8v6byg5qCH5byA5aeL55qEWei9tOS9jee9rlxuICAgICAgICAgICAgZW5kWCAgICAgICAgIDogMCwgICAgICAgIC8v6byg5qCH6YeK5pS+55qE5L2N572uXG4gICAgICAgICAgICBkZWxhdGVYICAgICAgOiAwLCAgICAgICAgLy/pvKDmoIfmu5HliqjnmoTmsLTlubPot53nprtcbiAgICAgICAgICAgIGxpc3RMZWZ0ICAgICA6IDAsXG4gICAgICAgICAgICBpc01vdmUgICAgICAgOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuXG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcCkge1xuXG5cbiAgICAgICAgaWYobmV4dFByb3AuZGF0YSAmJiBuZXh0UHJvcC5kYXRhLmxlbmd0aCl7XG5cbiAgICAgICAgICAgIG5leHRQcm9wLmRhdGEubWFwKChkLGkpID0+IHtcblxuICAgICAgICAgICAgICAgIGQua2V5SW5kZXggPSBcImluZGV4XCIraTtcbiAgICAgICAgICAgICAgICBkLmxpc3RMZWZ0ID0gMFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogbmV4dFByb3AuZGF0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b3VjaHN0YXJ0SGFuZGxlKGUpIHtcblxuICAgICAgICBsZXQgdCA9IHRoaXM7XG4gICAgICAgIGxldCBkYXRhID0gdC5zdGF0ZS5kYXRhO1xuICAgICAgICBsZXQgaWQgPSBlLmN1cnJlbnRUYXJnZXQuaWQ7XG4gICAgICAgIGxldCBpc0Nhbk1vdmUgPSB0LnN0YXRlLmlzQ2FuTW92ZTtcblxuICAgICAgICBkYXRhLm1hcCgoZCxpKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKGQua2V5SW5kZXggIT09IGlkICYmIE1hdGguYWJzKGQubGlzdExlZnQpID4gMCkge1xuXG4gICAgICAgICAgICAgICAgaXNDYW5Nb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGQubGlzdExlZnQgPSAwO1xuXG4gICAgICAgIH0pXG5cblxuICAgICAgICAvLyDlj6rlk43lupTljZXmjIfmk43kvZxcbiAgICAgICAgaWYgKHN1cHBvcnRUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJy4wNXMnO1xuXG4gICAgICAgIC8vIOiOt+WPluW9k+WJjeinpueCueeahFjovbTnmoTlgY/np7vph49cbiAgICAgICAgbGV0IHRvdWNoUGFnZVggPSBnZXRDdXJzb3JQYWdlKGUsJ3BhZ2VYJyk7XG4gICAgICAgIGxldCB0b3VjaFBhZ2VZID0gZ2V0Q3Vyc29yUGFnZShlLCdwYWdlWScpO1xuXG4gICAgICAgIHQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIHN0YXJ0WDogdG91Y2hQYWdlWCxcbiAgICAgICAgICAgIHN0YXJ0WTogdG91Y2hQYWdlWSxcbiAgICAgICAgICAgIGlzQ2FuTW92ZTogaXNDYW5Nb3ZlXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICB0b3VjaG1vdmVIYW5kbGUoZSkge1xuXG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgbGV0IHRyYW5zbGF0ZVg7XG4gICAgICAgIGxldCBkYXRhID0gdC5zdGF0ZS5kYXRhO1xuICAgICAgICBsZXQgaWQgPSBlLmN1cnJlbnRUYXJnZXQuaWQ7XG4gICAgICAgIGxldCBpc0Nhbk1vdmUgPSB0LnN0YXRlLmlzQ2FuTW92ZTtcbiAgICAgICAgbGV0IGRlbHRhWDtcbiAgICAgICAgbGV0IGRlbHRhWTtcblxuICAgICAgICAvLyDlj6rlk43lupTljZXmjIfmk43kvZxcbiAgICAgICAgaWYgKHN1cHBvcnRUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJy4xcyc7XG5cbiAgICAgICAgbGV0IHRvdWNoUGFnZVggPSBnZXRDdXJzb3JQYWdlKGUsJ3BhZ2VYJyk7XG4gICAgICAgIGxldCB0b3VjaFBhZ2VZID0gZ2V0Q3Vyc29yUGFnZShlLCdwYWdlWScpO1xuXG4gICAgICAgIGRlbHRhWCA9IHRvdWNoUGFnZVggLSB0LnN0YXRlLnN0YXJ0WDtcbiAgICAgICAgZGVsdGFZID0gdG91Y2hQYWdlWSAtIHQuc3RhdGUuc3RhcnRZO1xuXG4gICAgICAgIGxldCBjaGFuZ2UgPSBNYXRoLm1pbihNYXRoLm1heCgtODIsIGRlbHRhWCksIDApO1xuXG4gICAgICAgIC8vIOWmguaenFjovbTnmoTnp7vliqjot53nprvlhYjovr7liLA1cHjlubbkuJRZ6L2055qE56e75Yqo6Led56a75bCP5LqONXB477yM5YiZ5omn6KGMbGlzdOeahOa7keWKqFxuICAgICAgICAvLyDlpoLmnpxZ6L2055qE56e75Yqo6Led56a75YWI6L6+5YiwNXB477yM5YiZ5omn6KGM5rWP6KeI5Zmo6buY6K6k55qE6aG16Z2i5rua5YqoXG4gICAgICAgIGlmIChNYXRoLmFicyhkZWx0YVgpID4gNSAmJiBNYXRoLmFicyhkZWx0YVkpIDwgNSkge1xuXG4gICAgICAgICAgICBkYXRhLm1hcCgoZCxpKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZihkLmtleUluZGV4ID09PSBpZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQ2FuTW92ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkLmxpc3RMZWZ0ID0gY2hhbmdlO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGQubGlzdExlZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgdC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZW5kWCA6IHRvdWNoUGFnZVgsXG4gICAgICAgICAgICAgICAgZGVsYXRlWCA6IGNoYW5nZSxcbiAgICAgICAgICAgICAgICBsaXN0TGVmdCA6IGNoYW5nZSxcbiAgICAgICAgICAgICAgICBkYXRhIDogZGF0YSxcbiAgICAgICAgICAgICAgICBpc0Nhbk1vdmUgOiBpc0Nhbk1vdmVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgdG91Y2hlbmRIYW5kbGUoZSkge1xuXG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgbGV0IGxlZnQ7XG4gICAgICAgIGxldCBkYXRhID0gdC5zdGF0ZS5kYXRhO1xuICAgICAgICBsZXQgaXNDYW5Nb3ZlID0gdC5zdGF0ZS5pc0Nhbk1vdmU7XG4gICAgICAgIGxldCBpZCA9IGUuY3VycmVudFRhcmdldC5pZDtcbiAgICAgICAgbGV0IG5ld19sZWZ0ID0gMDtcblxuICAgICAgICAvLyDlj6rlk43lupTljZXmjIfmk43kvZxcbiAgICAgICAgaWYgKHN1cHBvcnRUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJy4ycyc7XG5cbiAgICAgICAgZGF0YS5tYXAoKGQsaSkgPT4ge1xuXG4gICAgICAgICAgICBpZihkLmtleUluZGV4ID09PSBpZCkge1xuXG4gICAgICAgICAgICAgICAgbGVmdCA9IHBhcnNlSW50KGQubGlzdExlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChsZWZ0IDwgLTUpIHtcblxuICAgICAgICAgICAgbmV3X2xlZnQgPSAtODI7XG4gICAgICAgIH1lbHNlIGlmKGxlZnQgPSAwKXtcblxuICAgICAgICAgICAgbmV3X2xlZnQgPSAwO1xuICAgICAgICB9ZWxzZSBpZiAobGVmdCA+IDUpIHtcblxuICAgICAgICAgICAgbmV3X2xlZnQgPSA4MjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IGFyciA9IFtdO1xuXG4gICAgICAgIGRhdGEubWFwKChkLGkpID0+IHtcblxuICAgICAgICAgICAgaWYoZC5rZXlJbmRleCAhPT0gaWQpIHtcblxuICAgICAgICAgICAgICAgIGQubGlzdExlZnQgPSAwO1xuICAgICAgICAgICAgICAgIGlzQ2FuTW92ZSA9IHRydWU7XG4gICAgICAgICAgICB9ZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBkLmxpc3RMZWZ0ID0gbmV3X2xlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaXN0TGVmdDogbmV3X2xlZnQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgaXNDYW5Nb3ZlOiBpc0Nhbk1vdmVcbiAgICAgICAgfSlcblxuICAgICAgICBpZihuZXdfbGVmdCA8IDApe1xuXG4gICAgICAgICAgICB0LnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpc01vdmU6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGRlbGV0ZShkYXRhSXRlbSxlKXtcblxuICAgICAgICBsZXQgdCA9IHRoaXM7XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0LnByb3BzLm9uRGVsZXRlKGUsZGF0YUl0ZW0pO1xuXG4gICAgICAgIC8vIGxldCBkYXRhID0gdC5zdGF0ZS5kYXRhO1xuICAgICAgICAvLyBsZXQgaWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmlkO1xuXG4gICAgICAgIC8vIGRhdGEubWFwKChkLGkpID0+IHtcblxuICAgICAgICAvLyAgICAgaWYoZC5rZXlJbmRleCA9PT0gaWQpIHtcblxuICAgICAgICAvLyAgICAgICAgIGRhdGEuc3BsaWNlKGksMSk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0pXG5cbiAgICAgICAgLy8gdC5zZXRTdGF0ZSh7XG4gICAgICAgIC8vICAgICBkYXRhIDogZGF0YVxuICAgICAgICAvLyB9KVxuXG4gICAgfVxuXG4gICAgcHJldmVudF9kZWZhdWx0KGUpIHtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgY2xpY2tIYW5kbGUoZGF0YUl0ZW0sZSkge1xuXG4gICAgICAgIGxldCB0ID0gdGhpcztcblxuICAgICAgICBpZih0LnN0YXRlLmlzTW92ZSl7XG5cbiAgICAgICAgICAgIHQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGlzTW92ZTpmYWxzZVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9ZWxzZXtcblxuICAgICAgICAgICAgdC5wcm9wcy5vbkNsaWNrKGUsZGF0YUl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpY2tQaG90b0hhbmRsZShpbWdVcmwsZSkge1xuXG4gICAgICAgIGxldCB0ID0gdGhpcztcblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0LnByb3BzLmNsaWNrUGhvdG8oZSxpbWdVcmwpO1xuICAgIH1cblxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIGxldCB0ID0gdGhpcztcbiAgICAgICAgbGV0IHtjbGFzc05hbWUsbGF5b3V0LGlzRGVsZXRlLGhhc1JpZ2h0SWNvbixpY29uTmFtZSxpY29uV2lkdGgsZGVtb1RpdGxlfSA9IHQucHJvcHM7XG4gICAgICAgIGxldCBkYXRhID0gdC5zdGF0ZS5kYXRhO1xuICAgICAgICBsZXQgaXNDYW5Nb3ZlID0gdC5zdGF0ZS5pc0Nhbk1vdmU7XG4gICAgICAgIGxldCBsaXN0ID0gbnVsbDtcbiAgICAgICAgbGV0IEV2ZW50cyA9IHt9O1xuXG5cbiAgICAgICAgaWYoaXNEZWxldGUpIHtcblxuICAgICAgICAgICAgRXZlbnRzID0ge1xuICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydCA6IHQudG91Y2hzdGFydEhhbmRsZS5iaW5kKHQpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hNb3ZlIDogdC50b3VjaG1vdmVIYW5kbGUuYmluZCh0KSxcbiAgICAgICAgICAgICAgICBvblRvdWNoRW5kIDogdC50b3VjaGVuZEhhbmRsZS5iaW5kKHQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZihkYXRhLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBsaXN0ID0gZGF0YS5tYXAoKGRhdGFJdGVtLGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtDb250ZXh0LnByZWZpeENsYXNzKCdsaXN0LXdyYXAnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLkV2ZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tsZWZ0OmRhdGFJdGVtLmxpc3RMZWZ0KydweCd9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17ZGF0YUl0ZW0ua2V5SW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3QuY2xpY2tIYW5kbGUuYmluZCh0LGRhdGFJdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPVwibGlzdEl0ZW1Cb3hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhCb3ggdkFsaWduPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SEJveCBmbGV4PXsxfSBjbGFzc05hbWU9e2NsYXNzbmFtZXMoe1tDb250ZXh0LnByZWZpeENsYXNzKCdsaXN0LWltZy1yaWdodCcpXToobGF5b3V0ID09PSAncmlnaHQnKX0pfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YUl0ZW0uaW1nVXJsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWQm94IHZBbGlnbj1cImNlbnRlclwiIG9uQ2xpY2s9e3QuY2xpY2tQaG90b0hhbmRsZS5iaW5kKHQsZGF0YUl0ZW0uaW1nVXJsKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17ZGF0YUl0ZW0uaW1nVXJsfSBjbGFzc05hbWU9e0NvbnRleHQucHJlZml4Q2xhc3MoJ2xpc3QtaW1nJyl9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9WQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGNsYXNzTmFtZT17Q29udGV4dC5wcmVmaXhDbGFzcygnbGlzdC10ZXh0LWNvbnRlbnQnKX0gZmxleD17MX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Q29udGV4dC5wcmVmaXhDbGFzcygnbGlzdC10aXRsZSBvbWl0Jyl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RhdGFJdGVtLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RhdGFJdGVtLmRhdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e0NvbnRleHQucHJlZml4Q2xhc3MoJ2xpc3QtdGl0bGUtZGF0ZScpfT57ZGF0YUl0ZW0uZGF0ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RhdGFJdGVtLnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Q29udGV4dC5wcmVmaXhDbGFzcygnbGlzdC10ZXh0IG9taXQnKX0+e2RhdGFJdGVtLnRleHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0hCb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aGFzUmlnaHRJY29uICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT17aWNvbk5hbWV9IHdpZHRoPXtpY29uV2lkdGh9IGZpbGw9XCIjY2NjXCIgY2xhc3NOYW1lPXtDb250ZXh0LnByZWZpeENsYXNzKCdsaXN0LWFycm93Jyl9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9IQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtDb250ZXh0LnByZWZpeENsYXNzKCdsaXN0LWJlaGluZCcpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9e0NvbnRleHQucHJlZml4Q2xhc3MoJ2xpc3QtZGVsZXRlLWJ0bicpfSBpZD17ZGF0YUl0ZW0ua2V5SW5kZXh9IG9uQ2xpY2s9e3QuZGVsZXRlLmJpbmQodCxkYXRhSXRlbSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtDb250ZXh0LnByZWZpeENsYXNzKCdsaXN0LWRlbGV0ZS1idG4tdGV4dCcpfT7liKDpmaQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEdyb3VwIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhDb250ZXh0LnByZWZpeENsYXNzKCdsaXN0JyksIHtbY2xhc3NOYW1lXTogISFjbGFzc05hbWV9KX0+XG4gICAgICAgICAgICAgICAgICAgIDxHcm91cC5IZWFkIGNsYXNzTmFtZT0ndC1kZW1vLXRpdGxlJz57ZGVtb1RpdGxlfTwvR3JvdXAuSGVhZD5cbiAgICAgICAgICAgICAgICAgICAgPEdyb3VwLkxpc3QgbGluZUluZGVudD17MTB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2xpc3R9XG4gICAgICAgICAgICAgICAgICAgIDwvR3JvdXAuTGlzdD5cbiAgICAgICAgICAgICAgICA8L0dyb3VwPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuXG5MaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIGxheW91dDogJ2xlZnQnLFxuICAgIGhhc1JpZ2h0SWNvbjogdHJ1ZSxcbiAgICBpY29uTmFtZTogJ2FuZ2xlLXJpZ2h0JyxcbiAgICBpY29uV2lkdGg6IDIwLFxuICAgIGRhdGE6IFtdLFxuICAgIGlzRGVsZXRlOiBmYWxzZSxcbiAgICBkZW1vVGl0bGU6ICcnLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uKCkge30sXG4gICAgY2xpY2tQaG90bzogZnVuY3Rpb24oKSB7fSxcbiAgICBvbkRlbGV0ZTogZnVuY3Rpb24oKSB7fVxufVxuXG4vLyBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmV1c2FibGUtY29tcG9uZW50cy5odG1sXG5MaXN0LnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGF5b3V0OlJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgaWNvbk5hbWU6UmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBpY29uV2lkdGg6UmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICBkYXRhOlJlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBoYXNSaWdodEljb246UmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgb25DbGljazpSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBjbGlja1Bob3RvOlJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uRGVsZXRlOlJlYWN0LlByb3BUeXBlcy5mdW5jXG59XG5cbkxpc3QuZGlzcGxheU5hbWUgPSAnTGlzdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gTGlzdDtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
