'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Icon Component for tinglejs
 * @auther hanyu
 *
 * Copyright 2014-2016, Tingle Team.
 * All rights reserved.
 */
var React = require('react');
var classnames = require('classnames');
var svg4everybody = require('./svg4everybody');
var webkitUA = /\bAppleWebKit\/(\d+)\b/;

var _require = require('@ali/tingle-context');

var prefixClass = _require.prefixClass;

var Icon = function (_React$Component) {
    _inherits(Icon, _React$Component);

    function Icon(props) {
        _classCallCheck(this, Icon);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(Icon).call(this, props));
    }

    _createClass(Icon, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            var webkitUAVersion = (navigator.userAgent.match(webkitUA) || [])[1];
            svg4everybody({
                polyfill: webkitUAVersion === '600' || webkitUAVersion < 537
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var t = this;

            var _t$props = t.props;
            var className = _t$props.className;
            var width = _t$props.width;
            var height = _t$props.height;
            var fill = _t$props.fill;

            var other = _objectWithoutProperties(_t$props, ['className', 'width', 'height', 'fill']);

            return React.createElement(
                'div',
                { onClick: t.props.onClick.bind(t), className: classnames(prefixClass('icon'), _defineProperty({}, className, !!className)) },
                React.createElement(
                    'svg',
                    _extends({ className: prefixClass('icon-svg'), fill: fill, width: width, height: height }, other),
                    React.createElement('use', { xlinkHref: '#' + t.props.name })
                ),
                React.createElement('div', { className: prefixClass('icon-mask') })
            );
        }
    }]);

    return Icon;
}(React.Component);

Icon.defaultProps = {
    className: '',
    name: '',
    width: 32,
    height: 32,
    fill: '#000',
    onClick: function onClick() {}
};

// http://facebook.github.io/react/docs/reusable-components.html
Icon.propTypes = {
    className: React.PropTypes.string,
    name: React.PropTypes.string.isRequired,
    width: React.PropTypes.number,
    height: React.PropTypes.number,
    fill: React.PropTypes.string,
    onClick: React.PropTypes.func
};

Icon.displayName = 'Icon';

module.exports = Icon;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkljb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQSxJQUFNLFFBQVEsUUFBUSxPQUFSLENBQVI7QUFDTixJQUFNLGFBQWEsUUFBUSxZQUFSLENBQWI7QUFDTixJQUFJLGdCQUFnQixRQUFRLGlCQUFSLENBQWhCO0FBQ0osSUFBSSxXQUFXLHdCQUFYOztlQUNrQixRQUFRLHFCQUFSOztJQUFmOztJQUVEOzs7QUFFRixhQUZFLElBRUYsQ0FBWSxLQUFaLEVBQW1COzhCQUZqQixNQUVpQjs7c0VBRmpCLGlCQUdRLFFBRFM7S0FBbkI7O2lCQUZFOzs0Q0FNa0I7QUFDaEIsZ0JBQUksa0JBQWtCLENBQUMsVUFBVSxTQUFWLENBQW9CLEtBQXBCLENBQTBCLFFBQTFCLEtBQXVDLEVBQXZDLENBQUQsQ0FBNEMsQ0FBNUMsQ0FBbEIsQ0FEWTtBQUVoQiwwQkFBYztBQUNWLDBCQUFVLG9CQUFvQixLQUFwQixJQUE2QixrQkFBa0IsR0FBbEI7YUFEM0MsRUFGZ0I7Ozs7aUNBT1g7QUFDTCxnQkFBSSxJQUFJLElBQUosQ0FEQzs7MkJBRzRDLEVBQUUsS0FBRixDQUg1QztnQkFHQSwrQkFIQTtnQkFHVyx1QkFIWDtnQkFHa0IseUJBSGxCO2dCQUcwQixxQkFIMUI7O2dCQUdtQyxxRkFIbkM7O0FBS0wsbUJBQ0k7O2tCQUFLLFNBQVMsRUFBRSxLQUFGLENBQVEsT0FBUixDQUFnQixJQUFoQixDQUFxQixDQUFyQixDQUFULEVBQWtDLFdBQVcsV0FBVyxZQUFZLE1BQVosQ0FBWCxzQkFDOUMsV0FBWSxDQUFDLENBQUMsU0FBRCxDQURpQyxDQUFYLEVBQXZDO2dCQUdJOzsrQkFBSyxXQUFXLFlBQVksVUFBWixDQUFYLEVBQW9DLE1BQU0sSUFBTixFQUFZLE9BQU8sS0FBUCxFQUFjLFFBQVEsTUFBUixJQUFvQixNQUF2RjtvQkFDSSw2QkFBSyxXQUFXLE1BQU0sRUFBRSxLQUFGLENBQVEsSUFBUixFQUF0QixDQURKO2lCQUhKO2dCQU1JLDZCQUFLLFdBQVcsWUFBWSxXQUFaLENBQVgsRUFBTCxDQU5KO2FBREosQ0FMSzs7OztXQWJQO0VBQWEsTUFBTSxTQUFOOztBQStCbkIsS0FBSyxZQUFMLEdBQW9CO0FBQ2hCLGVBQVcsRUFBWDtBQUNBLFVBQU0sRUFBTjtBQUNBLFdBQU8sRUFBUDtBQUNBLFlBQVEsRUFBUjtBQUNBLFVBQU0sTUFBTjtBQUNBLGFBQVMsbUJBQU0sRUFBTjtDQU5iOzs7QUFXQSxLQUFLLFNBQUwsR0FBaUI7QUFDYixlQUFXLE1BQU0sU0FBTixDQUFnQixNQUFoQjtBQUNYLFVBQU0sTUFBTSxTQUFOLENBQWdCLE1BQWhCLENBQXVCLFVBQXZCO0FBQ04sV0FBTyxNQUFNLFNBQU4sQ0FBZ0IsTUFBaEI7QUFDUCxZQUFRLE1BQU0sU0FBTixDQUFnQixNQUFoQjtBQUNSLFVBQU0sTUFBTSxTQUFOLENBQWdCLE1BQWhCO0FBQ04sYUFBUyxNQUFNLFNBQU4sQ0FBZ0IsSUFBaEI7Q0FOYjs7QUFTQSxLQUFLLFdBQUwsR0FBbUIsTUFBbkI7O0FBRUEsT0FBTyxPQUFQLEdBQWlCLElBQWpCIiwiZmlsZSI6Ikljb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEljb24gQ29tcG9uZW50IGZvciB0aW5nbGVqc1xuICogQGF1dGhlciBoYW55dVxuICpcbiAqIENvcHlyaWdodCAyMDE0LTIwMTYsIFRpbmdsZSBUZWFtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcbmxldCBzdmc0ZXZlcnlib2R5ID0gcmVxdWlyZSgnLi9zdmc0ZXZlcnlib2R5Jyk7XG5sZXQgd2Via2l0VUEgPSAvXFxiQXBwbGVXZWJLaXRcXC8oXFxkKylcXGIvO1xuY29uc3Qge3ByZWZpeENsYXNzfSA9IHJlcXVpcmUoJ0BhbGkvdGluZ2xlLWNvbnRleHQnKTtcblxuY2xhc3MgSWNvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGxldCB3ZWJraXRVQVZlcnNpb24gPSAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCh3ZWJraXRVQSkgfHwgW10pWzFdO1xuICAgICAgICBzdmc0ZXZlcnlib2R5KHtcbiAgICAgICAgICAgIHBvbHlmaWxsOiB3ZWJraXRVQVZlcnNpb24gPT09ICc2MDAnIHx8IHdlYmtpdFVBVmVyc2lvbiA8IDUzN1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcztcblxuICAgICAgICBsZXQge2NsYXNzTmFtZSwgd2lkdGgsIGhlaWdodCwgZmlsbCwgLi4ub3RoZXJ9ID0gdC5wcm9wcztcbiAgXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9e3QucHJvcHMub25DbGljay5iaW5kKHQpfSBjbGFzc05hbWU9e2NsYXNzbmFtZXMocHJlZml4Q2xhc3MoJ2ljb24nKSwge1xuICAgICAgICAgICAgICAgW2NsYXNzTmFtZV06ICEhY2xhc3NOYW1lXG4gICAgICAgICAgICB9KX0+IFxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPXtwcmVmaXhDbGFzcygnaWNvbi1zdmcnKX0gZmlsbD17ZmlsbH0gd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gey4uLm90aGVyfT5cbiAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGlua0hyZWY9eycjJyArIHQucHJvcHMubmFtZX0vPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtwcmVmaXhDbGFzcygnaWNvbi1tYXNrJyl9PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5JY29uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIG5hbWU6ICcnLFxuICAgIHdpZHRoOiAzMixcbiAgICBoZWlnaHQ6IDMyLFxuICAgIGZpbGw6ICcjMDAwJyxcbiAgICBvbkNsaWNrOiAoKSA9PiB7fVxufTtcblxuXG4vLyBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmV1c2FibGUtY29tcG9uZW50cy5odG1sXG5JY29uLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHdpZHRoOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICAgIGhlaWdodDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICBmaWxsOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jXG59O1xuXG5JY29uLmRpc3BsYXlOYW1lID0gJ0ljb24nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEljb247XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
