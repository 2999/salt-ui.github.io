'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function (window, document, Math) {
	var rAF = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
		window.setTimeout(callback, 1000 / 60);
	};

	var utils = function () {
		var me = {};

		var _elementStyle = document.createElement('div').style;
		var _vendor = function () {
			var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],
			    transform,
			    i = 0,
			    l = vendors.length;

			for (; i < l; i++) {
				transform = vendors[i] + 'ransform';
				if (transform in _elementStyle) return vendors[i].substr(0, vendors[i].length - 1);
			}

			return false;
		}();

		function _prefixStyle(style) {
			if (_vendor === false) return false;
			if (_vendor === '') return style;
			return _vendor + style.charAt(0).toUpperCase() + style.substr(1);
		}

		me.getTime = Date.now || function getTime() {
			return new Date().getTime();
		};

		me.extend = function (target, obj) {
			for (var i in obj) {
				target[i] = obj[i];
			}
		};

		me.addEvent = function (el, type, fn, capture) {
			el.addEventListener(type, fn, !!capture);
		};

		me.removeEvent = function (el, type, fn, capture) {
			el.removeEventListener(type, fn, !!capture);
		};

		me.prefixPointerEvent = function (pointerEvent) {
			return window.MSPointerEvent ? 'MSPointer' + pointerEvent.charAt(9).toUpperCase() + pointerEvent.substr(10) : pointerEvent;
		};

		me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {
			var distance = current - start,
			    speed = Math.abs(distance) / time,
			    destination,
			    duration;

			deceleration = deceleration === undefined ? 0.0006 : deceleration;

			destination = current + speed * speed / (2 * deceleration) * (distance < 0 ? -1 : 1);
			duration = speed / deceleration;

			if (destination < lowerMargin) {
				destination = wrapperSize ? lowerMargin - wrapperSize / 2.5 * (speed / 8) : lowerMargin;
				distance = Math.abs(destination - current);
				duration = distance / speed;
			} else if (destination > 0) {
				destination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;
				distance = Math.abs(current) + destination;
				duration = distance / speed;
			}

			return {
				destination: Math.round(destination),
				duration: duration
			};
		};

		var _transform = _prefixStyle('transform');

		me.extend(me, {
			hasTransform: _transform !== false,
			hasPerspective: _prefixStyle('perspective') in _elementStyle,
			hasTouch: 'ontouchstart' in window,
			hasPointer: window.PointerEvent || window.MSPointerEvent, // IE10 is prefixed
			hasTransition: _prefixStyle('transition') in _elementStyle
		});

		// This should find all Android browsers lower than build 535.19 (both stock browser and webview)
		me.isBadAndroid = /Android /.test(window.navigator.appVersion) && !/Chrome\/\d/.test(window.navigator.appVersion);

		me.extend(me.style = {}, {
			transform: _transform,
			transitionTimingFunction: _prefixStyle('transitionTimingFunction'),
			transitionDuration: _prefixStyle('transitionDuration'),
			transitionDelay: _prefixStyle('transitionDelay'),
			transformOrigin: _prefixStyle('transformOrigin')
		});

		me.hasClass = function (e, c) {
			var re = new RegExp("(^|\\s)" + c + "(\\s|$)");
			return re.test(e.className);
		};

		me.addClass = function (e, c) {
			if (me.hasClass(e, c)) {
				return;
			}

			var newclass = e.className.split(' ');
			newclass.push(c);
			e.className = newclass.join(' ');
		};

		me.removeClass = function (e, c) {
			if (!me.hasClass(e, c)) {
				return;
			}

			var re = new RegExp("(^|\\s)" + c + "(\\s|$)", 'g');
			e.className = e.className.replace(re, ' ');
		};

		me.offset = function (el) {
			var left = -el.offsetLeft,
			    top = -el.offsetTop;

			// jshint -W084
			while (el = el.offsetParent) {
				left -= el.offsetLeft;
				top -= el.offsetTop;
			}
			// jshint +W084

			return {
				left: left,
				top: top
			};
		};

		me.preventDefaultException = function (el, exceptions) {
			for (var i in exceptions) {
				if (exceptions[i].test(el[i])) {
					return true;
				}
			}

			return false;
		};

		me.extend(me.eventType = {}, {
			touchstart: 1,
			touchmove: 1,
			touchend: 1,

			mousedown: 2,
			mousemove: 2,
			mouseup: 2,

			pointerdown: 3,
			pointermove: 3,
			pointerup: 3,

			MSPointerDown: 3,
			MSPointerMove: 3,
			MSPointerUp: 3
		});

		me.extend(me.ease = {}, {
			quadratic: {
				style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
				fn: function fn(k) {
					return k * (2 - k);
				}
			},
			circular: {
				style: 'cubic-bezier(0.1, 0.57, 0.1, 1)', // Not properly "circular" but this looks better, it should be (0.075, 0.82, 0.165, 1)
				fn: function fn(k) {
					return Math.sqrt(1 - --k * k);
				}
			},
			back: {
				style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',
				fn: function fn(k) {
					var b = 4;
					return (k = k - 1) * k * ((b + 1) * k + b) + 1;
				}
			},
			bounce: {
				style: '',
				fn: function fn(k) {
					if ((k /= 1) < 1 / 2.75) {
						return 7.5625 * k * k;
					} else if (k < 2 / 2.75) {
						return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;
					} else if (k < 2.5 / 2.75) {
						return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;
					} else {
						return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;
					}
				}
			},
			elastic: {
				style: '',
				fn: function fn(k) {
					var f = 0.22,
					    e = 0.4;

					if (k === 0) {
						return 0;
					}
					if (k == 1) {
						return 1;
					}

					return e * Math.pow(2, -10 * k) * Math.sin((k - f / 4) * (2 * Math.PI) / f) + 1;
				}
			}
		});

		me.tap = function (e, eventName) {
			var ev = document.createEvent('Event');
			ev.initEvent(eventName, true, true);
			ev.pageX = e.pageX;
			ev.pageY = e.pageY;
			e.target.dispatchEvent(ev);
		};

		me.click = function (e) {
			var target = e.target,
			    ev;

			if (!/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)) {
				ev = document.createEvent('MouseEvents');
				ev.initMouseEvent('click', true, true, e.view, 1, target.screenX, target.screenY, target.clientX, target.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, 0, null);

				ev._constructed = true;
				target.dispatchEvent(ev);
			}
		};

		return me;
	}();

	function IScroll(el, options) {
		this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;
		this.scroller = this.wrapper.children[0];
		this.scrollerStyle = this.scroller.style; // cache style for better performance

		this.options = {

			zoomMin: 1,
			zoomMax: 4, startZoom: 1,

			resizeScrollbars: true,

			mouseWheelSpeed: 20,

			snapThreshold: 0.334,

			// INSERT POINT: OPTIONS

			startX: 0,
			startY: 0,
			scrollY: true,
			directionLockThreshold: 5,
			momentum: true,

			bounce: true,
			bounceTime: 600,
			bounceEasing: '',

			preventDefault: true,
			preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ },

			HWCompositing: true,
			useTransition: true,
			useTransform: true
		};

		for (var i in options) {
			this.options[i] = options[i];
		}

		// Normalize options
		this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';

		this.options.useTransition = utils.hasTransition && this.options.useTransition;
		this.options.useTransform = utils.hasTransform && this.options.useTransform;

		this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;
		this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;

		// If you want eventPassthrough I have to lock one of the axes
		this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;
		this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;

		// With eventPassthrough we also need lockDirection mechanism
		this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;
		this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;

		this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;

		this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;

		if (this.options.tap === true) {
			this.options.tap = 'tap';
		}

		if (this.options.shrinkScrollbars == 'scale') {
			this.options.useTransition = false;
		}

		this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;

		if (this.options.probeType == 3) {
			this.options.useTransition = false;
		}

		// INSERT POINT: NORMALIZATION

		// Some defaults	
		this.x = 0;
		this.y = 0;
		this.directionX = 0;
		this.directionY = 0;
		this._events = {};

		this.scale = Math.min(Math.max(this.options.startZoom, this.options.zoomMin), this.options.zoomMax);

		// INSERT POINT: DEFAULTS

		this._init();
		this.refresh();

		this.scrollTo(this.options.startX, this.options.startY);
		this.enable();
	}

	IScroll.prototype = {
		version: '5.1.3',

		_init: function _init() {
			this._initEvents();

			if (this.options.zoom) {
				this._initZoom();
			}

			if (this.options.scrollbars || this.options.indicators) {
				this._initIndicators();
			}

			if (this.options.mouseWheel) {
				this._initWheel();
			}

			if (this.options.snap) {
				this._initSnap();
			}

			if (this.options.keyBindings) {
				this._initKeys();
			}

			// INSERT POINT: _init
		},

		destroy: function destroy() {
			this._initEvents(true);

			this._execEvent('destroy');
		},

		_transitionEnd: function _transitionEnd(e) {
			if (e.target != this.scroller || !this.isInTransition) {
				return;
			}

			this._transitionTime();
			if (!this.resetPosition(this.options.bounceTime)) {
				this.isInTransition = false;
				this._execEvent('scrollEnd');
			}
		},

		_start: function _start(e) {
			// React to left mouse button only
			if (utils.eventType[e.type] != 1) {
				if (e.button !== 0) {
					return;
				}
			}

			if (!this.enabled || this.initiated && utils.eventType[e.type] !== this.initiated) {
				return;
			}

			if (this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {
				e.preventDefault();
			}

			var point = e.touches ? e.touches[0] : e,
			    pos;

			this.initiated = utils.eventType[e.type];
			this.moved = false;
			this.distX = 0;
			this.distY = 0;
			this.directionX = 0;
			this.directionY = 0;
			this.directionLocked = 0;

			this._transitionTime();

			this.startTime = utils.getTime();

			if (this.options.useTransition && this.isInTransition) {
				this.isInTransition = false;
				pos = this.getComputedPosition();
				this._translate(Math.round(pos.x), Math.round(pos.y));
				this._execEvent('scrollEnd');
			} else if (!this.options.useTransition && this.isAnimating) {
				this.isAnimating = false;
				this._execEvent('scrollEnd');
			}

			this.startX = this.x;
			this.startY = this.y;
			this.absStartX = this.x;
			this.absStartY = this.y;
			this.pointX = point.pageX;
			this.pointY = point.pageY;

			this._execEvent('beforeScrollStart');
		},

		_move: function _move(e) {
			if (!this.enabled || utils.eventType[e.type] !== this.initiated) {
				return;
			}

			if (this.options.preventDefault) {
				// increases performance on Android? TODO: check!
				e.preventDefault();
			}

			var point = e.touches ? e.touches[0] : e,
			    deltaX = point.pageX - this.pointX,
			    deltaY = point.pageY - this.pointY,
			    timestamp = utils.getTime(),
			    newX,
			    newY,
			    absDistX,
			    absDistY;

			this.pointX = point.pageX;
			this.pointY = point.pageY;

			this.distX += deltaX;
			this.distY += deltaY;
			absDistX = Math.abs(this.distX);
			absDistY = Math.abs(this.distY);

			// We need to move at least 10 pixels for the scrolling to initiate
			if (timestamp - this.endTime > 300 && absDistX < 10 && absDistY < 10) {
				return;
			}

			// If you are scrolling in one direction lock the other
			if (!this.directionLocked && !this.options.freeScroll) {
				if (absDistX > absDistY + this.options.directionLockThreshold) {
					this.directionLocked = 'h'; // lock horizontally
				} else if (absDistY >= absDistX + this.options.directionLockThreshold) {
						this.directionLocked = 'v'; // lock vertically
					} else {
							this.directionLocked = 'n'; // no lock
						}
			}

			if (this.directionLocked == 'h') {
				if (this.options.eventPassthrough == 'vertical') {
					e.preventDefault();
				} else if (this.options.eventPassthrough == 'horizontal') {
					this.initiated = false;
					return;
				}

				deltaY = 0;
			} else if (this.directionLocked == 'v') {
				if (this.options.eventPassthrough == 'horizontal') {
					e.preventDefault();
				} else if (this.options.eventPassthrough == 'vertical') {
					this.initiated = false;
					return;
				}

				deltaX = 0;
			}

			deltaX = this.hasHorizontalScroll ? deltaX : 0;
			deltaY = this.hasVerticalScroll ? deltaY : 0;

			newX = this.x + deltaX;
			newY = this.y + deltaY;

			// Slow down if outside of the boundaries
			if (newX > 0 || newX < this.maxScrollX) {
				newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;
			}
			if (newY > 0 || newY < this.maxScrollY) {
				newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;
			}

			this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;
			this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;

			if (!this.moved) {
				this._execEvent('scrollStart');
			}

			this.moved = true;

			this._translate(newX, newY);

			/* REPLACE START: _move */

			if (timestamp - this.startTime > 300) {
				this.startTime = timestamp;
				this.startX = this.x;
				this.startY = this.y;

				if (this.options.probeType == 1) {
					this._execEvent('scroll');
				}
			}

			if (this.options.probeType > 1) {
				this._execEvent('scroll');
			}
			/* REPLACE END: _move */
		},

		_end: function _end(e) {
			if (!this.enabled || utils.eventType[e.type] !== this.initiated) {
				return;
			}

			if (this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {
				e.preventDefault();
			}

			var point = e.changedTouches ? e.changedTouches[0] : e,
			    momentumX,
			    momentumY,
			    duration = utils.getTime() - this.startTime,
			    newX = Math.round(this.x),
			    newY = Math.round(this.y),
			    distanceX = Math.abs(newX - this.startX),
			    distanceY = Math.abs(newY - this.startY),
			    time = 0,
			    easing = '';

			this.isInTransition = 0;
			this.initiated = 0;
			this.endTime = utils.getTime();

			// reset if we are outside of the boundaries
			if (this.resetPosition(this.options.bounceTime)) {
				return;
			}

			this.scrollTo(newX, newY); // ensures that the last position is rounded

			// we scrolled less than 10 pixels
			if (!this.moved) {
				if (this.options.tap) {
					utils.tap(e, this.options.tap);
				}

				if (this.options.click) {
					utils.click(e);
				}

				this._execEvent('scrollCancel');
				return;
			}

			if (this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100) {
				this._execEvent('flick');
				return;
			}

			// start momentum animation if needed
			if (this.options.momentum && duration < 300) {
				momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };
				momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };
				newX = momentumX.destination;
				newY = momentumY.destination;
				time = Math.max(momentumX.duration, momentumY.duration);
				this.isInTransition = 1;
			}

			if (this.options.snap) {
				var snap = this._nearestSnap(newX, newY);
				this.currentPage = snap;
				time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);
				newX = snap.x;
				newY = snap.y;

				this.directionX = 0;
				this.directionY = 0;
				easing = this.options.bounceEasing;
			}

			// INSERT POINT: _end

			if (newX != this.x || newY != this.y) {
				// change easing function when scroller goes out of the boundaries
				if (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {
					easing = utils.ease.quadratic;
				}

				this.scrollTo(newX, newY, time, easing);
				return;
			}

			this._execEvent('scrollEnd');
		},

		_resize: function _resize() {
			var that = this;

			clearTimeout(this.resizeTimeout);

			this.resizeTimeout = setTimeout(function () {
				that.refresh();
			}, this.options.resizePolling);
		},

		resetPosition: function resetPosition(time) {
			var x = this.x,
			    y = this.y;

			time = time || 0;

			if (!this.hasHorizontalScroll || this.x > 0) {
				x = 0;
			} else if (this.x < this.maxScrollX) {
				x = this.maxScrollX;
			}

			if (!this.hasVerticalScroll || this.y > 0) {
				y = 0;
			} else if (this.y < this.maxScrollY) {
				y = this.maxScrollY;
			}

			if (x == this.x && y == this.y) {
				return false;
			}

			this.scrollTo(x, y, time, this.options.bounceEasing);

			return true;
		},

		disable: function disable() {
			this.enabled = false;
		},

		enable: function enable() {
			this.enabled = true;
		},

		refresh: function refresh() {
			var rf = this.wrapper.offsetHeight; // Force reflow

			this.wrapperWidth = this.wrapper.clientWidth;
			this.wrapperHeight = this.wrapper.clientHeight;

			/* REPLACE START: refresh */
			this.scrollerWidth = Math.round(this.scroller.offsetWidth * this.scale);
			this.scrollerHeight = Math.round(this.scroller.offsetHeight * this.scale);

			this.maxScrollX = this.wrapperWidth - this.scrollerWidth;
			this.maxScrollY = this.wrapperHeight - this.scrollerHeight;
			/* REPLACE END: refresh */

			this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;
			this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;

			if (!this.hasHorizontalScroll) {
				this.maxScrollX = 0;
				this.scrollerWidth = this.wrapperWidth;
			}

			if (!this.hasVerticalScroll) {
				this.maxScrollY = 0;
				this.scrollerHeight = this.wrapperHeight;
			}

			this.endTime = 0;
			this.directionX = 0;
			this.directionY = 0;

			this.wrapperOffset = utils.offset(this.wrapper);

			this._execEvent('refresh');

			this.resetPosition();

			// INSERT POINT: _refresh
		},

		on: function on(type, fn) {
			if (!this._events[type]) {
				this._events[type] = [];
			}

			this._events[type].push(fn);
		},

		off: function off(type, fn) {
			if (!this._events[type]) {
				return;
			}

			var index = this._events[type].indexOf(fn);

			if (index > -1) {
				this._events[type].splice(index, 1);
			}
		},

		_execEvent: function _execEvent(type) {
			if (!this._events[type]) {
				return;
			}

			var i = 0,
			    l = this._events[type].length;

			if (!l) {
				return;
			}

			for (; i < l; i++) {
				this._events[type][i].apply(this, [].slice.call(arguments, 1));
			}
		},

		scrollBy: function scrollBy(x, y, time, easing) {
			x = this.x + x;
			y = this.y + y;
			time = time || 0;

			this.scrollTo(x, y, time, easing);
		},

		scrollTo: function scrollTo(x, y, time, easing) {
			easing = easing || utils.ease.circular;

			this.isInTransition = this.options.useTransition && time > 0;

			if (!time || this.options.useTransition && easing.style) {
				this._transitionTimingFunction(easing.style);
				this._transitionTime(time);
				this._translate(x, y);
			} else {
				this._animate(x, y, time, easing.fn);
			}
		},

		scrollToElement: function scrollToElement(el, time, offsetX, offsetY, easing) {
			el = el.nodeType ? el : this.scroller.querySelector(el);

			if (!el) {
				return;
			}

			var pos = utils.offset(el);

			pos.left -= this.wrapperOffset.left;
			pos.top -= this.wrapperOffset.top;

			// if offsetX/Y are true we center the element to the screen
			if (offsetX === true) {
				offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);
			}
			if (offsetY === true) {
				offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);
			}

			pos.left -= offsetX || 0;
			pos.top -= offsetY || 0;

			pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;
			pos.top = pos.top > 0 ? 0 : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;

			time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x - pos.left), Math.abs(this.y - pos.top)) : time;

			this.scrollTo(pos.left, pos.top, time, easing);
		},

		_transitionTime: function _transitionTime(time) {
			time = time || 0;

			this.scrollerStyle[utils.style.transitionDuration] = time + 'ms';

			if (!time && utils.isBadAndroid) {
				this.scrollerStyle[utils.style.transitionDuration] = '0.001s';
			}

			if (this.indicators) {
				for (var i = this.indicators.length; i--;) {
					this.indicators[i].transitionTime(time);
				}
			}

			// INSERT POINT: _transitionTime
		},

		_transitionTimingFunction: function _transitionTimingFunction(easing) {
			this.scrollerStyle[utils.style.transitionTimingFunction] = easing;

			if (this.indicators) {
				for (var i = this.indicators.length; i--;) {
					this.indicators[i].transitionTimingFunction(easing);
				}
			}

			// INSERT POINT: _transitionTimingFunction
		},

		_translate: function _translate(x, y) {
			if (this.options.useTransform) {

				/* REPLACE START: _translate */this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + this.scale + ') ' + this.translateZ; /* REPLACE END: _translate */
			} else {
					x = Math.round(x);
					y = Math.round(y);
					this.scrollerStyle.left = x + 'px';
					this.scrollerStyle.top = y + 'px';
				}

			this.x = x;
			this.y = y;

			if (this.indicators) {
				for (var i = this.indicators.length; i--;) {
					this.indicators[i].updatePosition();
				}
			}

			// INSERT POINT: _translate
		},

		_initEvents: function _initEvents(remove) {
			var eventType = remove ? utils.removeEvent : utils.addEvent,
			    target = this.options.bindToWrapper ? this.wrapper : window;

			eventType(window, 'orientationchange', this);
			eventType(window, 'resize', this);

			if (this.options.click) {
				eventType(this.wrapper, 'click', this, true);
			}

			if (!this.options.disableMouse) {
				eventType(this.wrapper, 'mousedown', this);
				eventType(target, 'mousemove', this);
				eventType(target, 'mousecancel', this);
				eventType(target, 'mouseup', this);
			}

			if (utils.hasPointer && !this.options.disablePointer) {
				eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);
				eventType(target, utils.prefixPointerEvent('pointermove'), this);
				eventType(target, utils.prefixPointerEvent('pointercancel'), this);
				eventType(target, utils.prefixPointerEvent('pointerup'), this);
			}

			if (utils.hasTouch && !this.options.disableTouch) {
				eventType(this.wrapper, 'touchstart', this);
				eventType(target, 'touchmove', this);
				eventType(target, 'touchcancel', this);
				eventType(target, 'touchend', this);
			}

			eventType(this.scroller, 'transitionend', this);
			eventType(this.scroller, 'webkitTransitionEnd', this);
			eventType(this.scroller, 'oTransitionEnd', this);
			eventType(this.scroller, 'MSTransitionEnd', this);
		},

		getComputedPosition: function getComputedPosition() {
			var matrix = window.getComputedStyle(this.scroller, null),
			    x,
			    y;

			if (this.options.useTransform) {
				matrix = matrix[utils.style.transform].split(')')[0].split(', ');
				x = +(matrix[12] || matrix[4]);
				y = +(matrix[13] || matrix[5]);
			} else {
				x = +matrix.left.replace(/[^-\d.]/g, '');
				y = +matrix.top.replace(/[^-\d.]/g, '');
			}

			return { x: x, y: y };
		},

		_initIndicators: function _initIndicators() {
			var interactive = this.options.interactiveScrollbars,
			    customStyle = typeof this.options.scrollbars != 'string',
			    indicators = [],
			    indicator;

			var that = this;

			this.indicators = [];

			if (this.options.scrollbars) {
				// Vertical scrollbar
				if (this.options.scrollY) {
					indicator = {
						el: createDefaultScrollbar('v', interactive, this.options.scrollbars),
						interactive: interactive,
						defaultScrollbars: true,
						customStyle: customStyle,
						resize: this.options.resizeScrollbars,
						shrink: this.options.shrinkScrollbars,
						fade: this.options.fadeScrollbars,
						listenX: false
					};

					this.wrapper.appendChild(indicator.el);
					indicators.push(indicator);
				}

				// Horizontal scrollbar
				if (this.options.scrollX) {
					indicator = {
						el: createDefaultScrollbar('h', interactive, this.options.scrollbars),
						interactive: interactive,
						defaultScrollbars: true,
						customStyle: customStyle,
						resize: this.options.resizeScrollbars,
						shrink: this.options.shrinkScrollbars,
						fade: this.options.fadeScrollbars,
						listenY: false
					};

					this.wrapper.appendChild(indicator.el);
					indicators.push(indicator);
				}
			}

			if (this.options.indicators) {
				// TODO: check concat compatibility
				indicators = indicators.concat(this.options.indicators);
			}

			for (var i = indicators.length; i--;) {
				this.indicators.push(new Indicator(this, indicators[i]));
			}

			// TODO: check if we can use array.map (wide compatibility and performance issues)
			function _indicatorsMap(fn) {
				for (var i = that.indicators.length; i--;) {
					fn.call(that.indicators[i]);
				}
			}

			if (this.options.fadeScrollbars) {
				this.on('scrollEnd', function () {
					_indicatorsMap(function () {
						this.fade();
					});
				});

				this.on('scrollCancel', function () {
					_indicatorsMap(function () {
						this.fade();
					});
				});

				this.on('scrollStart', function () {
					_indicatorsMap(function () {
						this.fade(1);
					});
				});

				this.on('beforeScrollStart', function () {
					_indicatorsMap(function () {
						this.fade(1, true);
					});
				});
			}

			this.on('refresh', function () {
				_indicatorsMap(function () {
					this.refresh();
				});
			});

			this.on('destroy', function () {
				_indicatorsMap(function () {
					this.destroy();
				});

				delete this.indicators;
			});
		},

		_initZoom: function _initZoom() {
			this.scrollerStyle[utils.style.transformOrigin] = '0 0';
		},

		_zoomStart: function _zoomStart(e) {
			var c1 = Math.abs(e.touches[0].pageX - e.touches[1].pageX),
			    c2 = Math.abs(e.touches[0].pageY - e.touches[1].pageY);

			this.touchesDistanceStart = Math.sqrt(c1 * c1 + c2 * c2);
			this.startScale = this.scale;

			this.originX = Math.abs(e.touches[0].pageX + e.touches[1].pageX) / 2 + this.wrapperOffset.left - this.x;
			this.originY = Math.abs(e.touches[0].pageY + e.touches[1].pageY) / 2 + this.wrapperOffset.top - this.y;

			this._execEvent('zoomStart');
		},

		_zoom: function _zoom(e) {
			if (!this.enabled || utils.eventType[e.type] !== this.initiated) {
				return;
			}

			if (this.options.preventDefault) {
				e.preventDefault();
			}

			var c1 = Math.abs(e.touches[0].pageX - e.touches[1].pageX),
			    c2 = Math.abs(e.touches[0].pageY - e.touches[1].pageY),
			    distance = Math.sqrt(c1 * c1 + c2 * c2),
			    scale = 1 / this.touchesDistanceStart * distance * this.startScale,
			    lastScale,
			    x,
			    y;

			this.scaled = true;

			if (scale < this.options.zoomMin) {
				scale = 0.5 * this.options.zoomMin * Math.pow(2.0, scale / this.options.zoomMin);
			} else if (scale > this.options.zoomMax) {
				scale = 2.0 * this.options.zoomMax * Math.pow(0.5, this.options.zoomMax / scale);
			}

			lastScale = scale / this.startScale;
			x = this.originX - this.originX * lastScale + this.startX;
			y = this.originY - this.originY * lastScale + this.startY;

			this.scale = scale;

			this._execEvent('zoom', scale);
			this.scrollTo(x, y, 0);
		},

		_zoomEnd: function _zoomEnd(e) {
			if (!this.enabled || utils.eventType[e.type] !== this.initiated) {
				return;
			}

			if (this.options.preventDefault) {
				e.preventDefault();
			}

			var newX, newY, lastScale;

			this.isInTransition = 0;
			this.initiated = 0;

			if (this.scale > this.options.zoomMax) {
				this.scale = this.options.zoomMax;
			} else if (this.scale < this.options.zoomMin) {
				this.scale = this.options.zoomMin;
			}

			// Update boundaries
			this.refresh();

			lastScale = this.scale / this.startScale;

			newX = this.originX - this.originX * lastScale + this.startX;
			newY = this.originY - this.originY * lastScale + this.startY;

			if (newX > 0) {
				newX = 0;
			} else if (newX < this.maxScrollX) {
				newX = this.maxScrollX;
			}

			if (newY > 0) {
				newY = 0;
			} else if (newY < this.maxScrollY) {
				newY = this.maxScrollY;
			}

			if (this.x != newX || this.y != newY) {
				this.scrollTo(newX, newY, this.options.bounceTime);
			}

			this.scaled = false;

			this._execEvent('zoomEnd');
		},

		zoom: function zoom(scale, x, y, time) {
			if (scale < this.options.zoomMin) {
				scale = this.options.zoomMin;
			} else if (scale > this.options.zoomMax) {
				scale = this.options.zoomMax;
			}

			if (scale == this.scale) {
				return;
			}

			var relScale = scale / this.scale;

			x = x === undefined ? this.wrapperWidth / 2 : x;
			y = y === undefined ? this.wrapperHeight / 2 : y;
			time = time === undefined ? 300 : time;

			x = x + this.wrapperOffset.left - this.x;
			y = y + this.wrapperOffset.top - this.y;

			x = x - x * relScale + this.x;
			y = y - y * relScale + this.y;

			this.scale = scale;

			this.refresh(); // update boundaries

			if (x > 0) {
				x = 0;
			} else if (x < this.maxScrollX) {
				x = this.maxScrollX;
			}

			if (y > 0) {
				y = 0;
			} else if (y < this.maxScrollY) {
				y = this.maxScrollY;
			}

			this.scrollTo(x, y, time);
		},

		_wheelZoom: function _wheelZoom(e) {
			var wheelDeltaY,
			    deltaScale,
			    that = this;

			// Execute the zoomEnd event after 400ms the wheel stopped scrolling
			clearTimeout(this.wheelTimeout);
			this.wheelTimeout = setTimeout(function () {
				that._execEvent('zoomEnd');
			}, 400);

			if ('deltaX' in e) {
				wheelDeltaY = -e.deltaY / Math.abs(e.deltaY);
			} else if ('wheelDeltaX' in e) {
				wheelDeltaY = e.wheelDeltaY / Math.abs(e.wheelDeltaY);
			} else if ('wheelDelta' in e) {
				wheelDeltaY = e.wheelDelta / Math.abs(e.wheelDelta);
			} else if ('detail' in e) {
				wheelDeltaY = -e.detail / Math.abs(e.wheelDelta);
			} else {
				return;
			}

			deltaScale = this.scale + wheelDeltaY / 5;

			this.zoom(deltaScale, e.pageX, e.pageY, 0);
		},

		_initWheel: function _initWheel() {
			utils.addEvent(this.wrapper, 'wheel', this);
			utils.addEvent(this.wrapper, 'mousewheel', this);
			utils.addEvent(this.wrapper, 'DOMMouseScroll', this);

			this.on('destroy', function () {
				utils.removeEvent(this.wrapper, 'wheel', this);
				utils.removeEvent(this.wrapper, 'mousewheel', this);
				utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);
			});
		},

		_wheel: function _wheel(e) {
			if (!this.enabled) {
				return;
			}

			e.preventDefault();
			e.stopPropagation();

			var wheelDeltaX,
			    wheelDeltaY,
			    newX,
			    newY,
			    that = this;

			if (this.wheelTimeout === undefined) {
				that._execEvent('scrollStart');
			}

			// Execute the scrollEnd event after 400ms the wheel stopped scrolling
			clearTimeout(this.wheelTimeout);
			this.wheelTimeout = setTimeout(function () {
				that._execEvent('scrollEnd');
				that.wheelTimeout = undefined;
			}, 400);

			if ('deltaX' in e) {
				if (e.deltaMode === 1) {
					wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;
					wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;
				} else {
					wheelDeltaX = -e.deltaX;
					wheelDeltaY = -e.deltaY;
				}
			} else if ('wheelDeltaX' in e) {
				wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;
				wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;
			} else if ('wheelDelta' in e) {
				wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;
			} else if ('detail' in e) {
				wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;
			} else {
				return;
			}

			wheelDeltaX *= this.options.invertWheelDirection;
			wheelDeltaY *= this.options.invertWheelDirection;

			if (!this.hasVerticalScroll) {
				wheelDeltaX = wheelDeltaY;
				wheelDeltaY = 0;
			}

			if (this.options.snap) {
				newX = this.currentPage.pageX;
				newY = this.currentPage.pageY;

				if (wheelDeltaX > 0) {
					newX--;
				} else if (wheelDeltaX < 0) {
					newX++;
				}

				if (wheelDeltaY > 0) {
					newY--;
				} else if (wheelDeltaY < 0) {
					newY++;
				}

				this.goToPage(newX, newY);

				return;
			}

			newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);
			newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);

			if (newX > 0) {
				newX = 0;
			} else if (newX < this.maxScrollX) {
				newX = this.maxScrollX;
			}

			if (newY > 0) {
				newY = 0;
			} else if (newY < this.maxScrollY) {
				newY = this.maxScrollY;
			}

			this.scrollTo(newX, newY, 0);

			if (this.options.probeType > 1) {
				this._execEvent('scroll');
			}

			// INSERT POINT: _wheel
		},

		_initSnap: function _initSnap() {
			this.currentPage = {};

			if (typeof this.options.snap == 'string') {
				this.options.snap = this.scroller.querySelectorAll(this.options.snap);
			}

			this.on('refresh', function () {
				var i = 0,
				    l,
				    m = 0,
				    n,
				    cx,
				    cy,
				    x = 0,
				    y,
				    stepX = this.options.snapStepX || this.wrapperWidth,
				    stepY = this.options.snapStepY || this.wrapperHeight,
				    el;

				this.pages = [];

				if (!this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight) {
					return;
				}

				if (this.options.snap === true) {
					cx = Math.round(stepX / 2);
					cy = Math.round(stepY / 2);

					while (x > -this.scrollerWidth) {
						this.pages[i] = [];
						l = 0;
						y = 0;

						while (y > -this.scrollerHeight) {
							this.pages[i][l] = {
								x: Math.max(x, this.maxScrollX),
								y: Math.max(y, this.maxScrollY),
								width: stepX,
								height: stepY,
								cx: x - cx,
								cy: y - cy
							};

							y -= stepY;
							l++;
						}

						x -= stepX;
						i++;
					}
				} else {
					el = this.options.snap;
					l = el.length;
					n = -1;

					for (; i < l; i++) {
						if (i === 0 || el[i].offsetLeft <= el[i - 1].offsetLeft) {
							m = 0;
							n++;
						}

						if (!this.pages[m]) {
							this.pages[m] = [];
						}

						x = Math.max(-el[i].offsetLeft, this.maxScrollX);
						y = Math.max(-el[i].offsetTop, this.maxScrollY);
						cx = x - Math.round(el[i].offsetWidth / 2);
						cy = y - Math.round(el[i].offsetHeight / 2);

						this.pages[m][n] = {
							x: x,
							y: y,
							width: el[i].offsetWidth,
							height: el[i].offsetHeight,
							cx: cx,
							cy: cy
						};

						if (x > this.maxScrollX) {
							m++;
						}
					}
				}

				this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);

				// Update snap threshold if needed
				if (this.options.snapThreshold % 1 === 0) {
					this.snapThresholdX = this.options.snapThreshold;
					this.snapThresholdY = this.options.snapThreshold;
				} else {
					this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);
					this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);
				}
			});

			this.on('flick', function () {
				var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.x - this.startX), 1000), Math.min(Math.abs(this.y - this.startY), 1000)), 300);

				this.goToPage(this.currentPage.pageX + this.directionX, this.currentPage.pageY + this.directionY, time);
			});
		},

		_nearestSnap: function _nearestSnap(x, y) {
			if (!this.pages.length) {
				return { x: 0, y: 0, pageX: 0, pageY: 0 };
			}

			var i = 0,
			    l = this.pages.length,
			    m = 0;

			// Check if we exceeded the snap threshold
			if (Math.abs(x - this.absStartX) < this.snapThresholdX && Math.abs(y - this.absStartY) < this.snapThresholdY) {
				return this.currentPage;
			}

			if (x > 0) {
				x = 0;
			} else if (x < this.maxScrollX) {
				x = this.maxScrollX;
			}

			if (y > 0) {
				y = 0;
			} else if (y < this.maxScrollY) {
				y = this.maxScrollY;
			}

			for (; i < l; i++) {
				if (x >= this.pages[i][0].cx) {
					x = this.pages[i][0].x;
					break;
				}
			}

			l = this.pages[i].length;

			for (; m < l; m++) {
				if (y >= this.pages[0][m].cy) {
					y = this.pages[0][m].y;
					break;
				}
			}

			if (i == this.currentPage.pageX) {
				i += this.directionX;

				if (i < 0) {
					i = 0;
				} else if (i >= this.pages.length) {
					i = this.pages.length - 1;
				}

				x = this.pages[i][0].x;
			}

			if (m == this.currentPage.pageY) {
				m += this.directionY;

				if (m < 0) {
					m = 0;
				} else if (m >= this.pages[0].length) {
					m = this.pages[0].length - 1;
				}

				y = this.pages[0][m].y;
			}

			return {
				x: x,
				y: y,
				pageX: i,
				pageY: m
			};
		},

		goToPage: function goToPage(x, y, time, easing) {
			easing = easing || this.options.bounceEasing;

			if (x >= this.pages.length) {
				x = this.pages.length - 1;
			} else if (x < 0) {
				x = 0;
			}

			if (y >= this.pages[x].length) {
				y = this.pages[x].length - 1;
			} else if (y < 0) {
				y = 0;
			}

			var posX = this.pages[x][y].x,
			    posY = this.pages[x][y].y;

			time = time === undefined ? this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;

			this.currentPage = {
				x: posX,
				y: posY,
				pageX: x,
				pageY: y
			};

			this.scrollTo(posX, posY, time, easing);
		},

		next: function next(time, easing) {
			var x = this.currentPage.pageX,
			    y = this.currentPage.pageY;

			x++;

			if (x >= this.pages.length && this.hasVerticalScroll) {
				x = 0;
				y++;
			}

			this.goToPage(x, y, time, easing);
		},

		prev: function prev(time, easing) {
			var x = this.currentPage.pageX,
			    y = this.currentPage.pageY;

			x--;

			if (x < 0 && this.hasVerticalScroll) {
				x = 0;
				y--;
			}

			this.goToPage(x, y, time, easing);
		},

		_initKeys: function _initKeys(e) {
			// default key bindings
			var keys = {
				pageUp: 33,
				pageDown: 34,
				end: 35,
				home: 36,
				left: 37,
				up: 38,
				right: 39,
				down: 40
			};
			var i;

			// if you give me characters I give you keycode
			if (_typeof(this.options.keyBindings) == 'object') {
				for (i in this.options.keyBindings) {
					if (typeof this.options.keyBindings[i] == 'string') {
						this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);
					}
				}
			} else {
				this.options.keyBindings = {};
			}

			for (i in keys) {
				this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];
			}

			utils.addEvent(window, 'keydown', this);

			this.on('destroy', function () {
				utils.removeEvent(window, 'keydown', this);
			});
		},

		_key: function _key(e) {
			if (!this.enabled) {
				return;
			}

			var snap = this.options.snap,
			    // we are using this alot, better to cache it
			newX = snap ? this.currentPage.pageX : this.x,
			    newY = snap ? this.currentPage.pageY : this.y,
			    now = utils.getTime(),
			    prevTime = this.keyTime || 0,
			    acceleration = 0.250,
			    pos;

			if (this.options.useTransition && this.isInTransition) {
				pos = this.getComputedPosition();

				this._translate(Math.round(pos.x), Math.round(pos.y));
				this.isInTransition = false;
			}

			this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;

			switch (e.keyCode) {
				case this.options.keyBindings.pageUp:
					if (this.hasHorizontalScroll && !this.hasVerticalScroll) {
						newX += snap ? 1 : this.wrapperWidth;
					} else {
						newY += snap ? 1 : this.wrapperHeight;
					}
					break;
				case this.options.keyBindings.pageDown:
					if (this.hasHorizontalScroll && !this.hasVerticalScroll) {
						newX -= snap ? 1 : this.wrapperWidth;
					} else {
						newY -= snap ? 1 : this.wrapperHeight;
					}
					break;
				case this.options.keyBindings.end:
					newX = snap ? this.pages.length - 1 : this.maxScrollX;
					newY = snap ? this.pages[0].length - 1 : this.maxScrollY;
					break;
				case this.options.keyBindings.home:
					newX = 0;
					newY = 0;
					break;
				case this.options.keyBindings.left:
					newX += snap ? -1 : 5 + this.keyAcceleration >> 0;
					break;
				case this.options.keyBindings.up:
					newY += snap ? 1 : 5 + this.keyAcceleration >> 0;
					break;
				case this.options.keyBindings.right:
					newX -= snap ? -1 : 5 + this.keyAcceleration >> 0;
					break;
				case this.options.keyBindings.down:
					newY -= snap ? 1 : 5 + this.keyAcceleration >> 0;
					break;
				default:
					return;
			}

			if (snap) {
				this.goToPage(newX, newY);
				return;
			}

			if (newX > 0) {
				newX = 0;
				this.keyAcceleration = 0;
			} else if (newX < this.maxScrollX) {
				newX = this.maxScrollX;
				this.keyAcceleration = 0;
			}

			if (newY > 0) {
				newY = 0;
				this.keyAcceleration = 0;
			} else if (newY < this.maxScrollY) {
				newY = this.maxScrollY;
				this.keyAcceleration = 0;
			}

			this.scrollTo(newX, newY, 0);

			this.keyTime = now;
		},

		_animate: function _animate(destX, destY, duration, easingFn) {
			var that = this,
			    startX = this.x,
			    startY = this.y,
			    startTime = utils.getTime(),
			    destTime = startTime + duration;

			function step() {
				var now = utils.getTime(),
				    newX,
				    newY,
				    easing;

				if (now >= destTime) {
					that.isAnimating = false;
					that._translate(destX, destY);

					if (!that.resetPosition(that.options.bounceTime)) {
						that._execEvent('scrollEnd');
					}

					return;
				}

				now = (now - startTime) / duration;
				easing = easingFn(now);
				newX = (destX - startX) * easing + startX;
				newY = (destY - startY) * easing + startY;
				that._translate(newX, newY);

				if (that.isAnimating) {
					rAF(step);
				}

				if (that.options.probeType == 3) {
					that._execEvent('scroll');
				}
			}

			this.isAnimating = true;
			step();
		},
		handleEvent: function handleEvent(e) {
			switch (e.type) {
				case 'touchstart':
				case 'pointerdown':
				case 'MSPointerDown':
				case 'mousedown':
					this._start(e);

					if (this.options.zoom && e.touches && e.touches.length > 1) {
						this._zoomStart(e);
					}
					break;
				case 'touchmove':
				case 'pointermove':
				case 'MSPointerMove':
				case 'mousemove':
					if (this.options.zoom && e.touches && e.touches[1]) {
						this._zoom(e);
						return;
					}
					this._move(e);
					break;
				case 'touchend':
				case 'pointerup':
				case 'MSPointerUp':
				case 'mouseup':
				case 'touchcancel':
				case 'pointercancel':
				case 'MSPointerCancel':
				case 'mousecancel':
					if (this.scaled) {
						this._zoomEnd(e);
						return;
					}
					this._end(e);
					break;
				case 'orientationchange':
				case 'resize':
					this._resize();
					break;
				case 'transitionend':
				case 'webkitTransitionEnd':
				case 'oTransitionEnd':
				case 'MSTransitionEnd':
					this._transitionEnd(e);
					break;
				case 'wheel':
				case 'DOMMouseScroll':
				case 'mousewheel':
					if (this.options.wheelAction == 'zoom') {
						this._wheelZoom(e);
						return;
					}
					this._wheel(e);
					break;
				case 'keydown':
					this._key(e);
					break;
			}
		}

	};
	function createDefaultScrollbar(direction, interactive, type) {
		var scrollbar = document.createElement('div'),
		    indicator = document.createElement('div');

		if (type === true) {
			scrollbar.style.cssText = 'position:absolute;z-index:9999';
			indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';
		}

		indicator.className = 'iScrollIndicator';

		if (direction == 'h') {
			if (type === true) {
				scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';
				indicator.style.height = '100%';
			}
			scrollbar.className = 'iScrollHorizontalScrollbar';
		} else {
			if (type === true) {
				scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';
				indicator.style.width = '100%';
			}
			scrollbar.className = 'iScrollVerticalScrollbar';
		}

		scrollbar.style.cssText += ';overflow:hidden';

		if (!interactive) {
			scrollbar.style.pointerEvents = 'none';
		}

		scrollbar.appendChild(indicator);

		return scrollbar;
	}

	function Indicator(scroller, options) {
		this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;
		this.wrapperStyle = this.wrapper.style;
		this.indicator = this.wrapper.children[0];
		this.indicatorStyle = this.indicator.style;
		this.scroller = scroller;

		this.options = {
			listenX: true,
			listenY: true,
			interactive: false,
			resize: true,
			defaultScrollbars: false,
			shrink: false,
			fade: false,
			speedRatioX: 0,
			speedRatioY: 0
		};

		for (var i in options) {
			this.options[i] = options[i];
		}

		this.sizeRatioX = 1;
		this.sizeRatioY = 1;
		this.maxPosX = 0;
		this.maxPosY = 0;

		if (this.options.interactive) {
			if (!this.options.disableTouch) {
				utils.addEvent(this.indicator, 'touchstart', this);
				utils.addEvent(window, 'touchend', this);
			}
			if (!this.options.disablePointer) {
				utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);
				utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);
			}
			if (!this.options.disableMouse) {
				utils.addEvent(this.indicator, 'mousedown', this);
				utils.addEvent(window, 'mouseup', this);
			}
		}

		if (this.options.fade) {
			this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;
			this.wrapperStyle[utils.style.transitionDuration] = utils.isBadAndroid ? '0.001s' : '0ms';
			this.wrapperStyle.opacity = '0';
		}
	}

	Indicator.prototype = {
		handleEvent: function handleEvent(e) {
			switch (e.type) {
				case 'touchstart':
				case 'pointerdown':
				case 'MSPointerDown':
				case 'mousedown':
					this._start(e);
					break;
				case 'touchmove':
				case 'pointermove':
				case 'MSPointerMove':
				case 'mousemove':
					this._move(e);
					break;
				case 'touchend':
				case 'pointerup':
				case 'MSPointerUp':
				case 'mouseup':
				case 'touchcancel':
				case 'pointercancel':
				case 'MSPointerCancel':
				case 'mousecancel':
					this._end(e);
					break;
			}
		},

		destroy: function destroy() {
			if (this.options.interactive) {
				utils.removeEvent(this.indicator, 'touchstart', this);
				utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);
				utils.removeEvent(this.indicator, 'mousedown', this);

				utils.removeEvent(window, 'touchmove', this);
				utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);
				utils.removeEvent(window, 'mousemove', this);

				utils.removeEvent(window, 'touchend', this);
				utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);
				utils.removeEvent(window, 'mouseup', this);
			}

			if (this.options.defaultScrollbars) {
				this.wrapper.parentNode.removeChild(this.wrapper);
			}
		},

		_start: function _start(e) {
			var point = e.touches ? e.touches[0] : e;

			e.preventDefault();
			e.stopPropagation();

			this.transitionTime();

			this.initiated = true;
			this.moved = false;
			this.lastPointX = point.pageX;
			this.lastPointY = point.pageY;

			this.startTime = utils.getTime();

			if (!this.options.disableTouch) {
				utils.addEvent(window, 'touchmove', this);
			}
			if (!this.options.disablePointer) {
				utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);
			}
			if (!this.options.disableMouse) {
				utils.addEvent(window, 'mousemove', this);
			}

			this.scroller._execEvent('beforeScrollStart');
		},

		_move: function _move(e) {
			var point = e.touches ? e.touches[0] : e,
			    deltaX,
			    deltaY,
			    newX,
			    newY,
			    timestamp = utils.getTime();

			if (!this.moved) {
				this.scroller._execEvent('scrollStart');
			}

			this.moved = true;

			deltaX = point.pageX - this.lastPointX;
			this.lastPointX = point.pageX;

			deltaY = point.pageY - this.lastPointY;
			this.lastPointY = point.pageY;

			newX = this.x + deltaX;
			newY = this.y + deltaY;

			this._pos(newX, newY);

			if (this.scroller.options.probeType == 1 && timestamp - this.startTime > 300) {
				this.startTime = timestamp;
				this.scroller._execEvent('scroll');
			} else if (this.scroller.options.probeType > 1) {
				this.scroller._execEvent('scroll');
			}

			// INSERT POINT: indicator._move

			e.preventDefault();
			e.stopPropagation();
		},

		_end: function _end(e) {
			if (!this.initiated) {
				return;
			}

			this.initiated = false;

			e.preventDefault();
			e.stopPropagation();

			utils.removeEvent(window, 'touchmove', this);
			utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);
			utils.removeEvent(window, 'mousemove', this);

			if (this.scroller.options.snap) {
				var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);

				var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);

				if (this.scroller.x != snap.x || this.scroller.y != snap.y) {
					this.scroller.directionX = 0;
					this.scroller.directionY = 0;
					this.scroller.currentPage = snap;
					this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);
				}
			}

			if (this.moved) {
				this.scroller._execEvent('scrollEnd');
			}
		},

		transitionTime: function transitionTime(time) {
			time = time || 0;
			this.indicatorStyle[utils.style.transitionDuration] = time + 'ms';

			if (!time && utils.isBadAndroid) {
				this.indicatorStyle[utils.style.transitionDuration] = '0.001s';
			}
		},

		transitionTimingFunction: function transitionTimingFunction(easing) {
			this.indicatorStyle[utils.style.transitionTimingFunction] = easing;
		},

		refresh: function refresh() {
			this.transitionTime();

			if (this.options.listenX && !this.options.listenY) {
				this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';
			} else if (this.options.listenY && !this.options.listenX) {
				this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';
			} else {
				this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';
			}

			if (this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll) {
				utils.addClass(this.wrapper, 'iScrollBothScrollbars');
				utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');

				if (this.options.defaultScrollbars && this.options.customStyle) {
					if (this.options.listenX) {
						this.wrapper.style.right = '8px';
					} else {
						this.wrapper.style.bottom = '8px';
					}
				}
			} else {
				utils.removeClass(this.wrapper, 'iScrollBothScrollbars');
				utils.addClass(this.wrapper, 'iScrollLoneScrollbar');

				if (this.options.defaultScrollbars && this.options.customStyle) {
					if (this.options.listenX) {
						this.wrapper.style.right = '2px';
					} else {
						this.wrapper.style.bottom = '2px';
					}
				}
			}

			var r = this.wrapper.offsetHeight; // force refresh

			if (this.options.listenX) {
				this.wrapperWidth = this.wrapper.clientWidth;
				if (this.options.resize) {
					this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);
					this.indicatorStyle.width = this.indicatorWidth + 'px';
				} else {
					this.indicatorWidth = this.indicator.clientWidth;
				}

				this.maxPosX = this.wrapperWidth - this.indicatorWidth;

				if (this.options.shrink == 'clip') {
					this.minBoundaryX = -this.indicatorWidth + 8;
					this.maxBoundaryX = this.wrapperWidth - 8;
				} else {
					this.minBoundaryX = 0;
					this.maxBoundaryX = this.maxPosX;
				}

				this.sizeRatioX = this.options.speedRatioX || this.scroller.maxScrollX && this.maxPosX / this.scroller.maxScrollX;
			}

			if (this.options.listenY) {
				this.wrapperHeight = this.wrapper.clientHeight;
				if (this.options.resize) {
					this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);
					this.indicatorStyle.height = this.indicatorHeight + 'px';
				} else {
					this.indicatorHeight = this.indicator.clientHeight;
				}

				this.maxPosY = this.wrapperHeight - this.indicatorHeight;

				if (this.options.shrink == 'clip') {
					this.minBoundaryY = -this.indicatorHeight + 8;
					this.maxBoundaryY = this.wrapperHeight - 8;
				} else {
					this.minBoundaryY = 0;
					this.maxBoundaryY = this.maxPosY;
				}

				this.maxPosY = this.wrapperHeight - this.indicatorHeight;
				this.sizeRatioY = this.options.speedRatioY || this.scroller.maxScrollY && this.maxPosY / this.scroller.maxScrollY;
			}

			this.updatePosition();
		},

		updatePosition: function updatePosition() {
			var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,
			    y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;

			if (!this.options.ignoreBoundaries) {
				if (x < this.minBoundaryX) {
					if (this.options.shrink == 'scale') {
						this.width = Math.max(this.indicatorWidth + x, 8);
						this.indicatorStyle.width = this.width + 'px';
					}
					x = this.minBoundaryX;
				} else if (x > this.maxBoundaryX) {
					if (this.options.shrink == 'scale') {
						this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);
						this.indicatorStyle.width = this.width + 'px';
						x = this.maxPosX + this.indicatorWidth - this.width;
					} else {
						x = this.maxBoundaryX;
					}
				} else if (this.options.shrink == 'scale' && this.width != this.indicatorWidth) {
					this.width = this.indicatorWidth;
					this.indicatorStyle.width = this.width + 'px';
				}

				if (y < this.minBoundaryY) {
					if (this.options.shrink == 'scale') {
						this.height = Math.max(this.indicatorHeight + y * 3, 8);
						this.indicatorStyle.height = this.height + 'px';
					}
					y = this.minBoundaryY;
				} else if (y > this.maxBoundaryY) {
					if (this.options.shrink == 'scale') {
						this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);
						this.indicatorStyle.height = this.height + 'px';
						y = this.maxPosY + this.indicatorHeight - this.height;
					} else {
						y = this.maxBoundaryY;
					}
				} else if (this.options.shrink == 'scale' && this.height != this.indicatorHeight) {
					this.height = this.indicatorHeight;
					this.indicatorStyle.height = this.height + 'px';
				}
			}

			this.x = x;
			this.y = y;

			if (this.scroller.options.useTransform) {
				this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;
			} else {
				this.indicatorStyle.left = x + 'px';
				this.indicatorStyle.top = y + 'px';
			}
		},

		_pos: function _pos(x, y) {
			if (x < 0) {
				x = 0;
			} else if (x > this.maxPosX) {
				x = this.maxPosX;
			}

			if (y < 0) {
				y = 0;
			} else if (y > this.maxPosY) {
				y = this.maxPosY;
			}

			x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;
			y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;

			this.scroller.scrollTo(x, y);
		},

		fade: function fade(val, hold) {
			if (hold && !this.visible) {
				return;
			}

			clearTimeout(this.fadeTimeout);
			this.fadeTimeout = null;

			var time = val ? 250 : 500,
			    delay = val ? 0 : 300;

			val = val ? '1' : '0';

			this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';

			this.fadeTimeout = setTimeout(function (val) {
				this.wrapperStyle.opacity = val;
				this.visible = +val;
			}.bind(this, val), delay);
		}
	};

	IScroll.utils = utils;

	if (typeof module != 'undefined' && module.exports) {
		module.exports = IScroll;
	} else {
		window.IScroll = IScroll;
	}
})(window, document, Math);
//# sourceMappingURL=data:application/json;base64,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QUFJQTtBQXJWb0IsRUFBdEI7O0FBd1ZBLFNBQVEsS0FBUixHQUFnQixLQUFoQjs7QUFFQSxLQUFLLE9BQU8sTUFBUCxJQUFpQixXQUFqQixJQUFnQyxPQUFPLE9BQTVDLEVBQXNEO0FBQ3JELFNBQU8sT0FBUCxHQUFpQixPQUFqQjtBQUNBLEVBRkQsTUFFTztBQUNOLFNBQU8sT0FBUCxHQUFpQixPQUFqQjtBQUNBO0FBRUEsQ0E3cUVELEVBNnFFRyxNQTdxRUgsRUE2cUVXLFFBN3FFWCxFQTZxRXFCLElBN3FFckIiLCJmaWxlIjoiaXNjcm9sbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBpU2Nyb2xsIHY1LjEuMyB+IChjKSAyMDA4LTIwMTQgTWF0dGVvIFNwaW5lbGxpIH4gaHR0cDovL2N1YmlxLm9yZy9saWNlbnNlICovXG4oZnVuY3Rpb24gKHdpbmRvdywgZG9jdW1lbnQsIE1hdGgpIHtcbnZhciByQUYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXHR8fFxuXHR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHR8fFxuXHR3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXHRcdHx8XG5cdHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lXHRcdHx8XG5cdHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVx0XHR8fFxuXHRmdW5jdGlvbiAoY2FsbGJhY2spIHsgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7IH07XG5cbnZhciB1dGlscyA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciBtZSA9IHt9O1xuXG5cdHZhciBfZWxlbWVudFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG5cdHZhciBfdmVuZG9yID0gKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdmVuZG9ycyA9IFsndCcsICd3ZWJraXRUJywgJ01velQnLCAnbXNUJywgJ09UJ10sXG5cdFx0XHR0cmFuc2Zvcm0sXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSB2ZW5kb3JzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdHRyYW5zZm9ybSA9IHZlbmRvcnNbaV0gKyAncmFuc2Zvcm0nO1xuXHRcdFx0aWYgKCB0cmFuc2Zvcm0gaW4gX2VsZW1lbnRTdHlsZSApIHJldHVybiB2ZW5kb3JzW2ldLnN1YnN0cigwLCB2ZW5kb3JzW2ldLmxlbmd0aC0xKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0pKCk7XG5cblx0ZnVuY3Rpb24gX3ByZWZpeFN0eWxlIChzdHlsZSkge1xuXHRcdGlmICggX3ZlbmRvciA9PT0gZmFsc2UgKSByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKCBfdmVuZG9yID09PSAnJyApIHJldHVybiBzdHlsZTtcblx0XHRyZXR1cm4gX3ZlbmRvciArIHN0eWxlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGUuc3Vic3RyKDEpO1xuXHR9XG5cblx0bWUuZ2V0VGltZSA9IERhdGUubm93IHx8IGZ1bmN0aW9uIGdldFRpbWUgKCkgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7IH07XG5cblx0bWUuZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCwgb2JqKSB7XG5cdFx0Zm9yICggdmFyIGkgaW4gb2JqICkge1xuXHRcdFx0dGFyZ2V0W2ldID0gb2JqW2ldO1xuXHRcdH1cblx0fTtcblxuXHRtZS5hZGRFdmVudCA9IGZ1bmN0aW9uIChlbCwgdHlwZSwgZm4sIGNhcHR1cmUpIHtcblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCAhIWNhcHR1cmUpO1xuXHR9O1xuXG5cdG1lLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKGVsLCB0eXBlLCBmbiwgY2FwdHVyZSkge1xuXHRcdGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sICEhY2FwdHVyZSk7XG5cdH07XG5cblx0bWUucHJlZml4UG9pbnRlckV2ZW50ID0gZnVuY3Rpb24gKHBvaW50ZXJFdmVudCkge1xuXHRcdHJldHVybiB3aW5kb3cuTVNQb2ludGVyRXZlbnQgPyBcblx0XHRcdCdNU1BvaW50ZXInICsgcG9pbnRlckV2ZW50LmNoYXJBdCg5KS50b1VwcGVyQ2FzZSgpICsgcG9pbnRlckV2ZW50LnN1YnN0cigxMCk6XG5cdFx0XHRwb2ludGVyRXZlbnQ7XG5cdH07XG5cblx0bWUubW9tZW50dW0gPSBmdW5jdGlvbiAoY3VycmVudCwgc3RhcnQsIHRpbWUsIGxvd2VyTWFyZ2luLCB3cmFwcGVyU2l6ZSwgZGVjZWxlcmF0aW9uKSB7XG5cdFx0dmFyIGRpc3RhbmNlID0gY3VycmVudCAtIHN0YXJ0LFxuXHRcdFx0c3BlZWQgPSBNYXRoLmFicyhkaXN0YW5jZSkgLyB0aW1lLFxuXHRcdFx0ZGVzdGluYXRpb24sXG5cdFx0XHRkdXJhdGlvbjtcblxuXHRcdGRlY2VsZXJhdGlvbiA9IGRlY2VsZXJhdGlvbiA9PT0gdW5kZWZpbmVkID8gMC4wMDA2IDogZGVjZWxlcmF0aW9uO1xuXG5cdFx0ZGVzdGluYXRpb24gPSBjdXJyZW50ICsgKCBzcGVlZCAqIHNwZWVkICkgLyAoIDIgKiBkZWNlbGVyYXRpb24gKSAqICggZGlzdGFuY2UgPCAwID8gLTEgOiAxICk7XG5cdFx0ZHVyYXRpb24gPSBzcGVlZCAvIGRlY2VsZXJhdGlvbjtcblxuXHRcdGlmICggZGVzdGluYXRpb24gPCBsb3dlck1hcmdpbiApIHtcblx0XHRcdGRlc3RpbmF0aW9uID0gd3JhcHBlclNpemUgPyBsb3dlck1hcmdpbiAtICggd3JhcHBlclNpemUgLyAyLjUgKiAoIHNwZWVkIC8gOCApICkgOiBsb3dlck1hcmdpbjtcblx0XHRcdGRpc3RhbmNlID0gTWF0aC5hYnMoZGVzdGluYXRpb24gLSBjdXJyZW50KTtcblx0XHRcdGR1cmF0aW9uID0gZGlzdGFuY2UgLyBzcGVlZDtcblx0XHR9IGVsc2UgaWYgKCBkZXN0aW5hdGlvbiA+IDAgKSB7XG5cdFx0XHRkZXN0aW5hdGlvbiA9IHdyYXBwZXJTaXplID8gd3JhcHBlclNpemUgLyAyLjUgKiAoIHNwZWVkIC8gOCApIDogMDtcblx0XHRcdGRpc3RhbmNlID0gTWF0aC5hYnMoY3VycmVudCkgKyBkZXN0aW5hdGlvbjtcblx0XHRcdGR1cmF0aW9uID0gZGlzdGFuY2UgLyBzcGVlZDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZGVzdGluYXRpb246IE1hdGgucm91bmQoZGVzdGluYXRpb24pLFxuXHRcdFx0ZHVyYXRpb246IGR1cmF0aW9uXG5cdFx0fTtcblx0fTtcblxuXHR2YXIgX3RyYW5zZm9ybSA9IF9wcmVmaXhTdHlsZSgndHJhbnNmb3JtJyk7XG5cblx0bWUuZXh0ZW5kKG1lLCB7XG5cdFx0aGFzVHJhbnNmb3JtOiBfdHJhbnNmb3JtICE9PSBmYWxzZSxcblx0XHRoYXNQZXJzcGVjdGl2ZTogX3ByZWZpeFN0eWxlKCdwZXJzcGVjdGl2ZScpIGluIF9lbGVtZW50U3R5bGUsXG5cdFx0aGFzVG91Y2g6ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyxcblx0XHRoYXNQb2ludGVyOiB3aW5kb3cuUG9pbnRlckV2ZW50IHx8IHdpbmRvdy5NU1BvaW50ZXJFdmVudCwgLy8gSUUxMCBpcyBwcmVmaXhlZFxuXHRcdGhhc1RyYW5zaXRpb246IF9wcmVmaXhTdHlsZSgndHJhbnNpdGlvbicpIGluIF9lbGVtZW50U3R5bGVcblx0fSk7XG5cblx0Ly8gVGhpcyBzaG91bGQgZmluZCBhbGwgQW5kcm9pZCBicm93c2VycyBsb3dlciB0aGFuIGJ1aWxkIDUzNS4xOSAoYm90aCBzdG9jayBicm93c2VyIGFuZCB3ZWJ2aWV3KVxuXHRtZS5pc0JhZEFuZHJvaWQgPSAvQW5kcm9pZCAvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uKSAmJiAhKC9DaHJvbWVcXC9cXGQvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uKSk7XG5cblx0bWUuZXh0ZW5kKG1lLnN0eWxlID0ge30sIHtcblx0XHR0cmFuc2Zvcm06IF90cmFuc2Zvcm0sXG5cdFx0dHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBfcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbicpLFxuXHRcdHRyYW5zaXRpb25EdXJhdGlvbjogX3ByZWZpeFN0eWxlKCd0cmFuc2l0aW9uRHVyYXRpb24nKSxcblx0XHR0cmFuc2l0aW9uRGVsYXk6IF9wcmVmaXhTdHlsZSgndHJhbnNpdGlvbkRlbGF5JyksXG5cdFx0dHJhbnNmb3JtT3JpZ2luOiBfcHJlZml4U3R5bGUoJ3RyYW5zZm9ybU9yaWdpbicpXG5cdH0pO1xuXG5cdG1lLmhhc0NsYXNzID0gZnVuY3Rpb24gKGUsIGMpIHtcblx0XHR2YXIgcmUgPSBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBjICsgXCIoXFxcXHN8JClcIik7XG5cdFx0cmV0dXJuIHJlLnRlc3QoZS5jbGFzc05hbWUpO1xuXHR9O1xuXG5cdG1lLmFkZENsYXNzID0gZnVuY3Rpb24gKGUsIGMpIHtcblx0XHRpZiAoIG1lLmhhc0NsYXNzKGUsIGMpICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBuZXdjbGFzcyA9IGUuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG5cdFx0bmV3Y2xhc3MucHVzaChjKTtcblx0XHRlLmNsYXNzTmFtZSA9IG5ld2NsYXNzLmpvaW4oJyAnKTtcblx0fTtcblxuXHRtZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChlLCBjKSB7XG5cdFx0aWYgKCAhbWUuaGFzQ2xhc3MoZSwgYykgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHJlID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgYyArIFwiKFxcXFxzfCQpXCIsICdnJyk7XG5cdFx0ZS5jbGFzc05hbWUgPSBlLmNsYXNzTmFtZS5yZXBsYWNlKHJlLCAnICcpO1xuXHR9O1xuXG5cdG1lLm9mZnNldCA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdHZhciBsZWZ0ID0gLWVsLm9mZnNldExlZnQsXG5cdFx0XHR0b3AgPSAtZWwub2Zmc2V0VG9wO1xuXG5cdFx0Ly8ganNoaW50IC1XMDg0XG5cdFx0d2hpbGUgKGVsID0gZWwub2Zmc2V0UGFyZW50KSB7XG5cdFx0XHRsZWZ0IC09IGVsLm9mZnNldExlZnQ7XG5cdFx0XHR0b3AgLT0gZWwub2Zmc2V0VG9wO1xuXHRcdH1cblx0XHQvLyBqc2hpbnQgK1cwODRcblxuXHRcdHJldHVybiB7XG5cdFx0XHRsZWZ0OiBsZWZ0LFxuXHRcdFx0dG9wOiB0b3Bcblx0XHR9O1xuXHR9O1xuXG5cdG1lLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uID0gZnVuY3Rpb24gKGVsLCBleGNlcHRpb25zKSB7XG5cdFx0Zm9yICggdmFyIGkgaW4gZXhjZXB0aW9ucyApIHtcblx0XHRcdGlmICggZXhjZXB0aW9uc1tpXS50ZXN0KGVsW2ldKSApIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xuXG5cdG1lLmV4dGVuZChtZS5ldmVudFR5cGUgPSB7fSwge1xuXHRcdHRvdWNoc3RhcnQ6IDEsXG5cdFx0dG91Y2htb3ZlOiAxLFxuXHRcdHRvdWNoZW5kOiAxLFxuXG5cdFx0bW91c2Vkb3duOiAyLFxuXHRcdG1vdXNlbW92ZTogMixcblx0XHRtb3VzZXVwOiAyLFxuXG5cdFx0cG9pbnRlcmRvd246IDMsXG5cdFx0cG9pbnRlcm1vdmU6IDMsXG5cdFx0cG9pbnRlcnVwOiAzLFxuXG5cdFx0TVNQb2ludGVyRG93bjogMyxcblx0XHRNU1BvaW50ZXJNb3ZlOiAzLFxuXHRcdE1TUG9pbnRlclVwOiAzXG5cdH0pO1xuXG5cdG1lLmV4dGVuZChtZS5lYXNlID0ge30sIHtcblx0XHRxdWFkcmF0aWM6IHtcblx0XHRcdHN0eWxlOiAnY3ViaWMtYmV6aWVyKDAuMjUsIDAuNDYsIDAuNDUsIDAuOTQpJyxcblx0XHRcdGZuOiBmdW5jdGlvbiAoaykge1xuXHRcdFx0XHRyZXR1cm4gayAqICggMiAtIGsgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGNpcmN1bGFyOiB7XG5cdFx0XHRzdHlsZTogJ2N1YmljLWJlemllcigwLjEsIDAuNTcsIDAuMSwgMSknLFx0Ly8gTm90IHByb3Blcmx5IFwiY2lyY3VsYXJcIiBidXQgdGhpcyBsb29rcyBiZXR0ZXIsIGl0IHNob3VsZCBiZSAoMC4wNzUsIDAuODIsIDAuMTY1LCAxKVxuXHRcdFx0Zm46IGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdHJldHVybiBNYXRoLnNxcnQoIDEgLSAoIC0tayAqIGsgKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0YmFjazoge1xuXHRcdFx0c3R5bGU6ICdjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSknLFxuXHRcdFx0Zm46IGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdHZhciBiID0gNDtcblx0XHRcdFx0cmV0dXJuICggayA9IGsgLSAxICkgKiBrICogKCAoIGIgKyAxICkgKiBrICsgYiApICsgMTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJvdW5jZToge1xuXHRcdFx0c3R5bGU6ICcnLFxuXHRcdFx0Zm46IGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdGlmICggKCBrIC89IDEgKSA8ICggMSAvIDIuNzUgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gNy41NjI1ICogayAqIGs7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGsgPCAoIDIgLyAyLjc1ICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDEuNSAvIDIuNzUgKSApICogayArIDAuNzU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGsgPCAoIDIuNSAvIDIuNzUgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gNy41NjI1ICogKCBrIC09ICggMi4yNSAvIDIuNzUgKSApICogayArIDAuOTM3NTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gNy41NjI1ICogKCBrIC09ICggMi42MjUgLyAyLjc1ICkgKSAqIGsgKyAwLjk4NDM3NTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZWxhc3RpYzoge1xuXHRcdFx0c3R5bGU6ICcnLFxuXHRcdFx0Zm46IGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdHZhciBmID0gMC4yMixcblx0XHRcdFx0XHRlID0gMC40O1xuXG5cdFx0XHRcdGlmICggayA9PT0gMCApIHsgcmV0dXJuIDA7IH1cblx0XHRcdFx0aWYgKCBrID09IDEgKSB7IHJldHVybiAxOyB9XG5cblx0XHRcdFx0cmV0dXJuICggZSAqIE1hdGgucG93KCAyLCAtIDEwICogayApICogTWF0aC5zaW4oICggayAtIGYgLyA0ICkgKiAoIDIgKiBNYXRoLlBJICkgLyBmICkgKyAxICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRtZS50YXAgPSBmdW5jdGlvbiAoZSwgZXZlbnROYW1lKSB7XG5cdFx0dmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0ZXYuaW5pdEV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgdHJ1ZSk7XG5cdFx0ZXYucGFnZVggPSBlLnBhZ2VYO1xuXHRcdGV2LnBhZ2VZID0gZS5wYWdlWTtcblx0XHRlLnRhcmdldC5kaXNwYXRjaEV2ZW50KGV2KTtcblx0fTtcblxuXHRtZS5jbGljayA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHRhcmdldCA9IGUudGFyZ2V0LFxuXHRcdFx0ZXY7XG5cblx0XHRpZiAoICEoLyhTRUxFQ1R8SU5QVVR8VEVYVEFSRUEpL2kpLnRlc3QodGFyZ2V0LnRhZ05hbWUpICkge1xuXHRcdFx0ZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcblx0XHRcdGV2LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIHRydWUsIGUudmlldywgMSxcblx0XHRcdFx0dGFyZ2V0LnNjcmVlblgsIHRhcmdldC5zY3JlZW5ZLCB0YXJnZXQuY2xpZW50WCwgdGFyZ2V0LmNsaWVudFksXG5cdFx0XHRcdGUuY3RybEtleSwgZS5hbHRLZXksIGUuc2hpZnRLZXksIGUubWV0YUtleSxcblx0XHRcdFx0MCwgbnVsbCk7XG5cblx0XHRcdGV2Ll9jb25zdHJ1Y3RlZCA9IHRydWU7XG5cdFx0XHR0YXJnZXQuZGlzcGF0Y2hFdmVudChldik7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBtZTtcbn0pKCk7XG5cbmZ1bmN0aW9uIElTY3JvbGwgKGVsLCBvcHRpb25zKSB7XG5cdHRoaXMud3JhcHBlciA9IHR5cGVvZiBlbCA9PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpIDogZWw7XG5cdHRoaXMuc2Nyb2xsZXIgPSB0aGlzLndyYXBwZXIuY2hpbGRyZW5bMF07XG5cdHRoaXMuc2Nyb2xsZXJTdHlsZSA9IHRoaXMuc2Nyb2xsZXIuc3R5bGU7XHRcdC8vIGNhY2hlIHN0eWxlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcblxuXHR0aGlzLm9wdGlvbnMgPSB7XG5cblx0XHR6b29tTWluOiAxLFxuXHRcdHpvb21NYXg6IDQsIHN0YXJ0Wm9vbTogMSxcblxuXHRcdHJlc2l6ZVNjcm9sbGJhcnM6IHRydWUsXG5cblx0XHRtb3VzZVdoZWVsU3BlZWQ6IDIwLFxuXG5cdFx0c25hcFRocmVzaG9sZDogMC4zMzQsXG5cbi8vIElOU0VSVCBQT0lOVDogT1BUSU9OUyBcblxuXHRcdHN0YXJ0WDogMCxcblx0XHRzdGFydFk6IDAsXG5cdFx0c2Nyb2xsWTogdHJ1ZSxcblx0XHRkaXJlY3Rpb25Mb2NrVGhyZXNob2xkOiA1LFxuXHRcdG1vbWVudHVtOiB0cnVlLFxuXG5cdFx0Ym91bmNlOiB0cnVlLFxuXHRcdGJvdW5jZVRpbWU6IDYwMCxcblx0XHRib3VuY2VFYXNpbmc6ICcnLFxuXG5cdFx0cHJldmVudERlZmF1bHQ6IHRydWUsXG5cdFx0cHJldmVudERlZmF1bHRFeGNlcHRpb246IHsgdGFnTmFtZTogL14oSU5QVVR8VEVYVEFSRUF8QlVUVE9OfFNFTEVDVCkkLyB9LFxuXG5cdFx0SFdDb21wb3NpdGluZzogdHJ1ZSxcblx0XHR1c2VUcmFuc2l0aW9uOiB0cnVlLFxuXHRcdHVzZVRyYW5zZm9ybTogdHJ1ZVxuXHR9O1xuXG5cdGZvciAoIHZhciBpIGluIG9wdGlvbnMgKSB7XG5cdFx0dGhpcy5vcHRpb25zW2ldID0gb3B0aW9uc1tpXTtcblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBvcHRpb25zXG5cdHRoaXMudHJhbnNsYXRlWiA9IHRoaXMub3B0aW9ucy5IV0NvbXBvc2l0aW5nICYmIHV0aWxzLmhhc1BlcnNwZWN0aXZlID8gJyB0cmFuc2xhdGVaKDApJyA6ICcnO1xuXG5cdHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uID0gdXRpbHMuaGFzVHJhbnNpdGlvbiAmJiB0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbjtcblx0dGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSA9IHV0aWxzLmhhc1RyYW5zZm9ybSAmJiB0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtO1xuXG5cdHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID0gdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT09IHRydWUgPyAndmVydGljYWwnIDogdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2g7XG5cdHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9ICF0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCAmJiB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQ7XG5cblx0Ly8gSWYgeW91IHdhbnQgZXZlbnRQYXNzdGhyb3VnaCBJIGhhdmUgdG8gbG9jayBvbmUgb2YgdGhlIGF4ZXNcblx0dGhpcy5vcHRpb25zLnNjcm9sbFkgPSB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PSAndmVydGljYWwnID8gZmFsc2UgOiB0aGlzLm9wdGlvbnMuc2Nyb2xsWTtcblx0dGhpcy5vcHRpb25zLnNjcm9sbFggPSB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PSAnaG9yaXpvbnRhbCcgPyBmYWxzZSA6IHRoaXMub3B0aW9ucy5zY3JvbGxYO1xuXG5cdC8vIFdpdGggZXZlbnRQYXNzdGhyb3VnaCB3ZSBhbHNvIG5lZWQgbG9ja0RpcmVjdGlvbiBtZWNoYW5pc21cblx0dGhpcy5vcHRpb25zLmZyZWVTY3JvbGwgPSB0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCAmJiAhdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2g7XG5cdHRoaXMub3B0aW9ucy5kaXJlY3Rpb25Mb2NrVGhyZXNob2xkID0gdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPyAwIDogdGhpcy5vcHRpb25zLmRpcmVjdGlvbkxvY2tUaHJlc2hvbGQ7XG5cblx0dGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyA9IHR5cGVvZiB0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nID09ICdzdHJpbmcnID8gdXRpbHMuZWFzZVt0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nXSB8fCB1dGlscy5lYXNlLmNpcmN1bGFyIDogdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZztcblxuXHR0aGlzLm9wdGlvbnMucmVzaXplUG9sbGluZyA9IHRoaXMub3B0aW9ucy5yZXNpemVQb2xsaW5nID09PSB1bmRlZmluZWQgPyA2MCA6IHRoaXMub3B0aW9ucy5yZXNpemVQb2xsaW5nO1xuXG5cdGlmICggdGhpcy5vcHRpb25zLnRhcCA9PT0gdHJ1ZSApIHtcblx0XHR0aGlzLm9wdGlvbnMudGFwID0gJ3RhcCc7XG5cdH1cblxuXHRpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmtTY3JvbGxiYXJzID09ICdzY2FsZScgKSB7XG5cdFx0dGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gPSBmYWxzZTtcblx0fVxuXG5cdHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbiA/IC0xIDogMTtcblxuXHRpZiAoIHRoaXMub3B0aW9ucy5wcm9iZVR5cGUgPT0gMyApIHtcblx0XHR0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiA9IGZhbHNlO1x0fVxuXG4vLyBJTlNFUlQgUE9JTlQ6IE5PUk1BTElaQVRJT05cblxuXHQvLyBTb21lIGRlZmF1bHRzXHRcblx0dGhpcy54ID0gMDtcblx0dGhpcy55ID0gMDtcblx0dGhpcy5kaXJlY3Rpb25YID0gMDtcblx0dGhpcy5kaXJlY3Rpb25ZID0gMDtcblx0dGhpcy5fZXZlbnRzID0ge307XG5cblx0dGhpcy5zY2FsZSA9IE1hdGgubWluKE1hdGgubWF4KHRoaXMub3B0aW9ucy5zdGFydFpvb20sIHRoaXMub3B0aW9ucy56b29tTWluKSwgdGhpcy5vcHRpb25zLnpvb21NYXgpO1xuXG4vLyBJTlNFUlQgUE9JTlQ6IERFRkFVTFRTXG5cblx0dGhpcy5faW5pdCgpO1xuXHR0aGlzLnJlZnJlc2goKTtcblxuXHR0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9ucy5zdGFydFgsIHRoaXMub3B0aW9ucy5zdGFydFkpO1xuXHR0aGlzLmVuYWJsZSgpO1xufVxuXG5JU2Nyb2xsLnByb3RvdHlwZSA9IHtcblx0dmVyc2lvbjogJzUuMS4zJyxcblxuXHRfaW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2luaXRFdmVudHMoKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnpvb20gKSB7XG5cdFx0XHR0aGlzLl9pbml0Wm9vbSgpO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnNjcm9sbGJhcnMgfHwgdGhpcy5vcHRpb25zLmluZGljYXRvcnMgKSB7XG5cdFx0XHR0aGlzLl9pbml0SW5kaWNhdG9ycygpO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLm1vdXNlV2hlZWwgKSB7XG5cdFx0XHR0aGlzLl9pbml0V2hlZWwoKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zbmFwICkge1xuXHRcdFx0dGhpcy5faW5pdFNuYXAoKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncyApIHtcblx0XHRcdHRoaXMuX2luaXRLZXlzKCk7XG5cdFx0fVxuXG4vLyBJTlNFUlQgUE9JTlQ6IF9pbml0XG5cblx0fSxcblxuXHRkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5faW5pdEV2ZW50cyh0cnVlKTtcblxuXHRcdHRoaXMuX2V4ZWNFdmVudCgnZGVzdHJveScpO1xuXHR9LFxuXG5cdF90cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICggZS50YXJnZXQgIT0gdGhpcy5zY3JvbGxlciB8fCAhdGhpcy5pc0luVHJhbnNpdGlvbiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl90cmFuc2l0aW9uVGltZSgpO1xuXHRcdGlmICggIXRoaXMucmVzZXRQb3NpdGlvbih0aGlzLm9wdGlvbnMuYm91bmNlVGltZSkgKSB7XG5cdFx0XHR0aGlzLmlzSW5UcmFuc2l0aW9uID0gZmFsc2U7XG5cdFx0XHR0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xuXHRcdH1cblx0fSxcblxuXHRfc3RhcnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0Ly8gUmVhY3QgdG8gbGVmdCBtb3VzZSBidXR0b24gb25seVxuXHRcdGlmICggdXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT0gMSApIHtcblx0XHRcdGlmICggZS5idXR0b24gIT09IDAgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICF0aGlzLmVuYWJsZWQgfHwgKHRoaXMuaW5pdGlhdGVkICYmIHV0aWxzLmV2ZW50VHlwZVtlLnR5cGVdICE9PSB0aGlzLmluaXRpYXRlZCkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQgJiYgIXV0aWxzLmlzQmFkQW5kcm9pZCAmJiAhdXRpbHMucHJldmVudERlZmF1bHRFeGNlcHRpb24oZS50YXJnZXQsIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbikgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0dmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZSxcblx0XHRcdHBvcztcblxuXHRcdHRoaXMuaW5pdGlhdGVkXHQ9IHV0aWxzLmV2ZW50VHlwZVtlLnR5cGVdO1xuXHRcdHRoaXMubW92ZWRcdFx0PSBmYWxzZTtcblx0XHR0aGlzLmRpc3RYXHRcdD0gMDtcblx0XHR0aGlzLmRpc3RZXHRcdD0gMDtcblx0XHR0aGlzLmRpcmVjdGlvblggPSAwO1xuXHRcdHRoaXMuZGlyZWN0aW9uWSA9IDA7XG5cdFx0dGhpcy5kaXJlY3Rpb25Mb2NrZWQgPSAwO1xuXG5cdFx0dGhpcy5fdHJhbnNpdGlvblRpbWUoKTtcblxuXHRcdHRoaXMuc3RhcnRUaW1lID0gdXRpbHMuZ2V0VGltZSgpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiAmJiB0aGlzLmlzSW5UcmFuc2l0aW9uICkge1xuXHRcdFx0dGhpcy5pc0luVHJhbnNpdGlvbiA9IGZhbHNlO1xuXHRcdFx0cG9zID0gdGhpcy5nZXRDb21wdXRlZFBvc2l0aW9uKCk7XG5cdFx0XHR0aGlzLl90cmFuc2xhdGUoTWF0aC5yb3VuZChwb3MueCksIE1hdGgucm91bmQocG9zLnkpKTtcblx0XHRcdHRoaXMuX2V4ZWNFdmVudCgnc2Nyb2xsRW5kJyk7XG5cdFx0fSBlbHNlIGlmICggIXRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uICYmIHRoaXMuaXNBbmltYXRpbmcgKSB7XG5cdFx0XHR0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0XHR0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RhcnRYICAgID0gdGhpcy54O1xuXHRcdHRoaXMuc3RhcnRZICAgID0gdGhpcy55O1xuXHRcdHRoaXMuYWJzU3RhcnRYID0gdGhpcy54O1xuXHRcdHRoaXMuYWJzU3RhcnRZID0gdGhpcy55O1xuXHRcdHRoaXMucG9pbnRYICAgID0gcG9pbnQucGFnZVg7XG5cdFx0dGhpcy5wb2ludFkgICAgPSBwb2ludC5wYWdlWTtcblxuXHRcdHRoaXMuX2V4ZWNFdmVudCgnYmVmb3JlU2Nyb2xsU3RhcnQnKTtcblx0fSxcblxuXHRfbW92ZTogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoICF0aGlzLmVuYWJsZWQgfHwgdXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT09IHRoaXMuaW5pdGlhdGVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ICkge1x0Ly8gaW5jcmVhc2VzIHBlcmZvcm1hbmNlIG9uIEFuZHJvaWQ/IFRPRE86IGNoZWNrIVxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHZhciBwb2ludFx0XHQ9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGUsXG5cdFx0XHRkZWx0YVhcdFx0PSBwb2ludC5wYWdlWCAtIHRoaXMucG9pbnRYLFxuXHRcdFx0ZGVsdGFZXHRcdD0gcG9pbnQucGFnZVkgLSB0aGlzLnBvaW50WSxcblx0XHRcdHRpbWVzdGFtcFx0PSB1dGlscy5nZXRUaW1lKCksXG5cdFx0XHRuZXdYLCBuZXdZLFxuXHRcdFx0YWJzRGlzdFgsIGFic0Rpc3RZO1xuXG5cdFx0dGhpcy5wb2ludFhcdFx0PSBwb2ludC5wYWdlWDtcblx0XHR0aGlzLnBvaW50WVx0XHQ9IHBvaW50LnBhZ2VZO1xuXG5cdFx0dGhpcy5kaXN0WFx0XHQrPSBkZWx0YVg7XG5cdFx0dGhpcy5kaXN0WVx0XHQrPSBkZWx0YVk7XG5cdFx0YWJzRGlzdFhcdFx0PSBNYXRoLmFicyh0aGlzLmRpc3RYKTtcblx0XHRhYnNEaXN0WVx0XHQ9IE1hdGguYWJzKHRoaXMuZGlzdFkpO1xuXG5cdFx0Ly8gV2UgbmVlZCB0byBtb3ZlIGF0IGxlYXN0IDEwIHBpeGVscyBmb3IgdGhlIHNjcm9sbGluZyB0byBpbml0aWF0ZVxuXHRcdGlmICggdGltZXN0YW1wIC0gdGhpcy5lbmRUaW1lID4gMzAwICYmIChhYnNEaXN0WCA8IDEwICYmIGFic0Rpc3RZIDwgMTApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHlvdSBhcmUgc2Nyb2xsaW5nIGluIG9uZSBkaXJlY3Rpb24gbG9jayB0aGUgb3RoZXJcblx0XHRpZiAoICF0aGlzLmRpcmVjdGlvbkxvY2tlZCAmJiAhdGhpcy5vcHRpb25zLmZyZWVTY3JvbGwgKSB7XG5cdFx0XHRpZiAoIGFic0Rpc3RYID4gYWJzRGlzdFkgKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCApIHtcblx0XHRcdFx0dGhpcy5kaXJlY3Rpb25Mb2NrZWQgPSAnaCc7XHRcdC8vIGxvY2sgaG9yaXpvbnRhbGx5XG5cdFx0XHR9IGVsc2UgaWYgKCBhYnNEaXN0WSA+PSBhYnNEaXN0WCArIHRoaXMub3B0aW9ucy5kaXJlY3Rpb25Mb2NrVGhyZXNob2xkICkge1xuXHRcdFx0XHR0aGlzLmRpcmVjdGlvbkxvY2tlZCA9ICd2JztcdFx0Ly8gbG9jayB2ZXJ0aWNhbGx5XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmRpcmVjdGlvbkxvY2tlZCA9ICduJztcdFx0Ly8gbm8gbG9ja1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggdGhpcy5kaXJlY3Rpb25Mb2NrZWQgPT0gJ2gnICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PSAndmVydGljYWwnICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PSAnaG9yaXpvbnRhbCcgKSB7XG5cdFx0XHRcdHRoaXMuaW5pdGlhdGVkID0gZmFsc2U7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGFZID0gMDtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9PSAndicgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID09ICdob3Jpem9udGFsJyApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT0gJ3ZlcnRpY2FsJyApIHtcblx0XHRcdFx0dGhpcy5pbml0aWF0ZWQgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YVggPSAwO1xuXHRcdH1cblxuXHRcdGRlbHRhWCA9IHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IGRlbHRhWCA6IDA7XG5cdFx0ZGVsdGFZID0gdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IGRlbHRhWSA6IDA7XG5cblx0XHRuZXdYID0gdGhpcy54ICsgZGVsdGFYO1xuXHRcdG5ld1kgPSB0aGlzLnkgKyBkZWx0YVk7XG5cblx0XHQvLyBTbG93IGRvd24gaWYgb3V0c2lkZSBvZiB0aGUgYm91bmRhcmllc1xuXHRcdGlmICggbmV3WCA+IDAgfHwgbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcblx0XHRcdG5ld1ggPSB0aGlzLm9wdGlvbnMuYm91bmNlID8gdGhpcy54ICsgZGVsdGFYIC8gMyA6IG5ld1ggPiAwID8gMCA6IHRoaXMubWF4U2Nyb2xsWDtcblx0XHR9XG5cdFx0aWYgKCBuZXdZID4gMCB8fCBuZXdZIDwgdGhpcy5tYXhTY3JvbGxZICkge1xuXHRcdFx0bmV3WSA9IHRoaXMub3B0aW9ucy5ib3VuY2UgPyB0aGlzLnkgKyBkZWx0YVkgLyAzIDogbmV3WSA+IDAgPyAwIDogdGhpcy5tYXhTY3JvbGxZO1xuXHRcdH1cblxuXHRcdHRoaXMuZGlyZWN0aW9uWCA9IGRlbHRhWCA+IDAgPyAtMSA6IGRlbHRhWCA8IDAgPyAxIDogMDtcblx0XHR0aGlzLmRpcmVjdGlvblkgPSBkZWx0YVkgPiAwID8gLTEgOiBkZWx0YVkgPCAwID8gMSA6IDA7XG5cblx0XHRpZiAoICF0aGlzLm1vdmVkICkge1xuXHRcdFx0dGhpcy5fZXhlY0V2ZW50KCdzY3JvbGxTdGFydCcpO1xuXHRcdH1cblxuXHRcdHRoaXMubW92ZWQgPSB0cnVlO1xuXG5cdFx0dGhpcy5fdHJhbnNsYXRlKG5ld1gsIG5ld1kpO1xuXG4vKiBSRVBMQUNFIFNUQVJUOiBfbW92ZSAqL1xuXG5cdFx0aWYgKCB0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZSA+IDMwMCApIHtcblx0XHRcdHRoaXMuc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuXHRcdFx0dGhpcy5zdGFydFggPSB0aGlzLng7XG5cdFx0XHR0aGlzLnN0YXJ0WSA9IHRoaXMueTtcblxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMucHJvYmVUeXBlID09IDEgKSB7XG5cdFx0XHRcdHRoaXMuX2V4ZWNFdmVudCgnc2Nyb2xsJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMucHJvYmVUeXBlID4gMSApIHtcblx0XHRcdHRoaXMuX2V4ZWNFdmVudCgnc2Nyb2xsJyk7XG5cdFx0fVxuLyogUkVQTEFDRSBFTkQ6IF9tb3ZlICovXG5cblx0fSxcblxuXHRfZW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICggIXRoaXMuZW5hYmxlZCB8fCB1dGlscy5ldmVudFR5cGVbZS50eXBlXSAhPT0gdGhpcy5pbml0aWF0ZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQgJiYgIXV0aWxzLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKGUudGFyZ2V0LCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHRFeGNlcHRpb24pICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHZhciBwb2ludCA9IGUuY2hhbmdlZFRvdWNoZXMgPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogZSxcblx0XHRcdG1vbWVudHVtWCxcblx0XHRcdG1vbWVudHVtWSxcblx0XHRcdGR1cmF0aW9uID0gdXRpbHMuZ2V0VGltZSgpIC0gdGhpcy5zdGFydFRpbWUsXG5cdFx0XHRuZXdYID0gTWF0aC5yb3VuZCh0aGlzLngpLFxuXHRcdFx0bmV3WSA9IE1hdGgucm91bmQodGhpcy55KSxcblx0XHRcdGRpc3RhbmNlWCA9IE1hdGguYWJzKG5ld1ggLSB0aGlzLnN0YXJ0WCksXG5cdFx0XHRkaXN0YW5jZVkgPSBNYXRoLmFicyhuZXdZIC0gdGhpcy5zdGFydFkpLFxuXHRcdFx0dGltZSA9IDAsXG5cdFx0XHRlYXNpbmcgPSAnJztcblxuXHRcdHRoaXMuaXNJblRyYW5zaXRpb24gPSAwO1xuXHRcdHRoaXMuaW5pdGlhdGVkID0gMDtcblx0XHR0aGlzLmVuZFRpbWUgPSB1dGlscy5nZXRUaW1lKCk7XG5cblx0XHQvLyByZXNldCBpZiB3ZSBhcmUgb3V0c2lkZSBvZiB0aGUgYm91bmRhcmllc1xuXHRcdGlmICggdGhpcy5yZXNldFBvc2l0aW9uKHRoaXMub3B0aW9ucy5ib3VuY2VUaW1lKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1kpO1x0Ly8gZW5zdXJlcyB0aGF0IHRoZSBsYXN0IHBvc2l0aW9uIGlzIHJvdW5kZWRcblxuXHRcdC8vIHdlIHNjcm9sbGVkIGxlc3MgdGhhbiAxMCBwaXhlbHNcblx0XHRpZiAoICF0aGlzLm1vdmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMudGFwICkge1xuXHRcdFx0XHR1dGlscy50YXAoZSwgdGhpcy5vcHRpb25zLnRhcCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmNsaWNrICkge1xuXHRcdFx0XHR1dGlscy5jbGljayhlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fZXhlY0V2ZW50KCdzY3JvbGxDYW5jZWwnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuX2V2ZW50cy5mbGljayAmJiBkdXJhdGlvbiA8IDIwMCAmJiBkaXN0YW5jZVggPCAxMDAgJiYgZGlzdGFuY2VZIDwgMTAwICkge1xuXHRcdFx0dGhpcy5fZXhlY0V2ZW50KCdmbGljaycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHN0YXJ0IG1vbWVudHVtIGFuaW1hdGlvbiBpZiBuZWVkZWRcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5tb21lbnR1bSAmJiBkdXJhdGlvbiA8IDMwMCApIHtcblx0XHRcdG1vbWVudHVtWCA9IHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IHV0aWxzLm1vbWVudHVtKHRoaXMueCwgdGhpcy5zdGFydFgsIGR1cmF0aW9uLCB0aGlzLm1heFNjcm9sbFgsIHRoaXMub3B0aW9ucy5ib3VuY2UgPyB0aGlzLndyYXBwZXJXaWR0aCA6IDAsIHRoaXMub3B0aW9ucy5kZWNlbGVyYXRpb24pIDogeyBkZXN0aW5hdGlvbjogbmV3WCwgZHVyYXRpb246IDAgfTtcblx0XHRcdG1vbWVudHVtWSA9IHRoaXMuaGFzVmVydGljYWxTY3JvbGwgPyB1dGlscy5tb21lbnR1bSh0aGlzLnksIHRoaXMuc3RhcnRZLCBkdXJhdGlvbiwgdGhpcy5tYXhTY3JvbGxZLCB0aGlzLm9wdGlvbnMuYm91bmNlID8gdGhpcy53cmFwcGVySGVpZ2h0IDogMCwgdGhpcy5vcHRpb25zLmRlY2VsZXJhdGlvbikgOiB7IGRlc3RpbmF0aW9uOiBuZXdZLCBkdXJhdGlvbjogMCB9O1xuXHRcdFx0bmV3WCA9IG1vbWVudHVtWC5kZXN0aW5hdGlvbjtcblx0XHRcdG5ld1kgPSBtb21lbnR1bVkuZGVzdGluYXRpb247XG5cdFx0XHR0aW1lID0gTWF0aC5tYXgobW9tZW50dW1YLmR1cmF0aW9uLCBtb21lbnR1bVkuZHVyYXRpb24pO1xuXHRcdFx0dGhpcy5pc0luVHJhbnNpdGlvbiA9IDE7XG5cdFx0fVxuXG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zbmFwICkge1xuXHRcdFx0dmFyIHNuYXAgPSB0aGlzLl9uZWFyZXN0U25hcChuZXdYLCBuZXdZKTtcblx0XHRcdHRoaXMuY3VycmVudFBhZ2UgPSBzbmFwO1xuXHRcdFx0dGltZSA9IHRoaXMub3B0aW9ucy5zbmFwU3BlZWQgfHwgTWF0aC5tYXgoXG5cdFx0XHRcdFx0TWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRNYXRoLm1pbihNYXRoLmFicyhuZXdYIC0gc25hcC54KSwgMTAwMCksXG5cdFx0XHRcdFx0XHRNYXRoLm1pbihNYXRoLmFicyhuZXdZIC0gc25hcC55KSwgMTAwMClcblx0XHRcdFx0XHQpLCAzMDApO1xuXHRcdFx0bmV3WCA9IHNuYXAueDtcblx0XHRcdG5ld1kgPSBzbmFwLnk7XG5cblx0XHRcdHRoaXMuZGlyZWN0aW9uWCA9IDA7XG5cdFx0XHR0aGlzLmRpcmVjdGlvblkgPSAwO1xuXHRcdFx0ZWFzaW5nID0gdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZztcblx0XHR9XG5cbi8vIElOU0VSVCBQT0lOVDogX2VuZFxuXG5cdFx0aWYgKCBuZXdYICE9IHRoaXMueCB8fCBuZXdZICE9IHRoaXMueSApIHtcblx0XHRcdC8vIGNoYW5nZSBlYXNpbmcgZnVuY3Rpb24gd2hlbiBzY3JvbGxlciBnb2VzIG91dCBvZiB0aGUgYm91bmRhcmllc1xuXHRcdFx0aWYgKCBuZXdYID4gMCB8fCBuZXdYIDwgdGhpcy5tYXhTY3JvbGxYIHx8IG5ld1kgPiAwIHx8IG5ld1kgPCB0aGlzLm1heFNjcm9sbFkgKSB7XG5cdFx0XHRcdGVhc2luZyA9IHV0aWxzLmVhc2UucXVhZHJhdGljO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1ksIHRpbWUsIGVhc2luZyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fZXhlY0V2ZW50KCdzY3JvbGxFbmQnKTtcblx0fSxcblxuXHRfcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCk7XG5cblx0XHR0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoYXQucmVmcmVzaCgpO1xuXHRcdH0sIHRoaXMub3B0aW9ucy5yZXNpemVQb2xsaW5nKTtcblx0fSxcblxuXHRyZXNldFBvc2l0aW9uOiBmdW5jdGlvbiAodGltZSkge1xuXHRcdHZhciB4ID0gdGhpcy54LFxuXHRcdFx0eSA9IHRoaXMueTtcblxuXHRcdHRpbWUgPSB0aW1lIHx8IDA7XG5cblx0XHRpZiAoICF0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgfHwgdGhpcy54ID4gMCApIHtcblx0XHRcdHggPSAwO1xuXHRcdH0gZWxzZSBpZiAoIHRoaXMueCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcblx0XHRcdHggPSB0aGlzLm1heFNjcm9sbFg7XG5cdFx0fVxuXG5cdFx0aWYgKCAhdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCB8fCB0aGlzLnkgPiAwICkge1xuXHRcdFx0eSA9IDA7XG5cdFx0fSBlbHNlIGlmICggdGhpcy55IDwgdGhpcy5tYXhTY3JvbGxZICkge1xuXHRcdFx0eSA9IHRoaXMubWF4U2Nyb2xsWTtcblx0XHR9XG5cblx0XHRpZiAoIHggPT0gdGhpcy54ICYmIHkgPT0gdGhpcy55ICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMuc2Nyb2xsVG8oeCwgeSwgdGltZSwgdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5lbmFibGVkID0gZmFsc2U7XG5cdH0sXG5cblx0ZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5lbmFibGVkID0gdHJ1ZTtcblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJmID0gdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodDtcdFx0Ly8gRm9yY2UgcmVmbG93XG5cblx0XHR0aGlzLndyYXBwZXJXaWR0aFx0PSB0aGlzLndyYXBwZXIuY2xpZW50V2lkdGg7XG5cdFx0dGhpcy53cmFwcGVySGVpZ2h0XHQ9IHRoaXMud3JhcHBlci5jbGllbnRIZWlnaHQ7XG5cbi8qIFJFUExBQ0UgU1RBUlQ6IHJlZnJlc2ggKi9cblx0dGhpcy5zY3JvbGxlcldpZHRoXHQ9IE1hdGgucm91bmQodGhpcy5zY3JvbGxlci5vZmZzZXRXaWR0aCAqIHRoaXMuc2NhbGUpO1xuXHR0aGlzLnNjcm9sbGVySGVpZ2h0XHQ9IE1hdGgucm91bmQodGhpcy5zY3JvbGxlci5vZmZzZXRIZWlnaHQgKiB0aGlzLnNjYWxlKTtcblxuXHR0aGlzLm1heFNjcm9sbFhcdFx0PSB0aGlzLndyYXBwZXJXaWR0aCAtIHRoaXMuc2Nyb2xsZXJXaWR0aDtcblx0dGhpcy5tYXhTY3JvbGxZXHRcdD0gdGhpcy53cmFwcGVySGVpZ2h0IC0gdGhpcy5zY3JvbGxlckhlaWdodDtcbi8qIFJFUExBQ0UgRU5EOiByZWZyZXNoICovXG5cblx0XHR0aGlzLmhhc0hvcml6b250YWxTY3JvbGxcdD0gdGhpcy5vcHRpb25zLnNjcm9sbFggJiYgdGhpcy5tYXhTY3JvbGxYIDwgMDtcblx0XHR0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsXHRcdD0gdGhpcy5vcHRpb25zLnNjcm9sbFkgJiYgdGhpcy5tYXhTY3JvbGxZIDwgMDtcblxuXHRcdGlmICggIXRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCApIHtcblx0XHRcdHRoaXMubWF4U2Nyb2xsWCA9IDA7XG5cdFx0XHR0aGlzLnNjcm9sbGVyV2lkdGggPSB0aGlzLndyYXBwZXJXaWR0aDtcblx0XHR9XG5cblx0XHRpZiAoICF0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsICkge1xuXHRcdFx0dGhpcy5tYXhTY3JvbGxZID0gMDtcblx0XHRcdHRoaXMuc2Nyb2xsZXJIZWlnaHQgPSB0aGlzLndyYXBwZXJIZWlnaHQ7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbmRUaW1lID0gMDtcblx0XHR0aGlzLmRpcmVjdGlvblggPSAwO1xuXHRcdHRoaXMuZGlyZWN0aW9uWSA9IDA7XG5cblx0XHR0aGlzLndyYXBwZXJPZmZzZXQgPSB1dGlscy5vZmZzZXQodGhpcy53cmFwcGVyKTtcblxuXHRcdHRoaXMuX2V4ZWNFdmVudCgncmVmcmVzaCcpO1xuXG5cdFx0dGhpcy5yZXNldFBvc2l0aW9uKCk7XG5cbi8vIElOU0VSVCBQT0lOVDogX3JlZnJlc2hcblxuXHR9LFxuXG5cdG9uOiBmdW5jdGlvbiAodHlwZSwgZm4pIHtcblx0XHRpZiAoICF0aGlzLl9ldmVudHNbdHlwZV0gKSB7XG5cdFx0XHR0aGlzLl9ldmVudHNbdHlwZV0gPSBbXTtcblx0XHR9XG5cblx0XHR0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChmbik7XG5cdH0sXG5cblx0b2ZmOiBmdW5jdGlvbiAodHlwZSwgZm4pIHtcblx0XHRpZiAoICF0aGlzLl9ldmVudHNbdHlwZV0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGluZGV4ID0gdGhpcy5fZXZlbnRzW3R5cGVdLmluZGV4T2YoZm4pO1xuXG5cdFx0aWYgKCBpbmRleCA+IC0xICkge1xuXHRcdFx0dGhpcy5fZXZlbnRzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9leGVjRXZlbnQ6IGZ1bmN0aW9uICh0eXBlKSB7XG5cdFx0aWYgKCAhdGhpcy5fZXZlbnRzW3R5cGVdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBpID0gMCxcblx0XHRcdGwgPSB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoO1xuXG5cdFx0aWYgKCAhbCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHR0aGlzLl9ldmVudHNbdHlwZV1baV0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblx0XHR9XG5cdH0sXG5cblx0c2Nyb2xsQnk6IGZ1bmN0aW9uICh4LCB5LCB0aW1lLCBlYXNpbmcpIHtcblx0XHR4ID0gdGhpcy54ICsgeDtcblx0XHR5ID0gdGhpcy55ICsgeTtcblx0XHR0aW1lID0gdGltZSB8fCAwO1xuXG5cdFx0dGhpcy5zY3JvbGxUbyh4LCB5LCB0aW1lLCBlYXNpbmcpO1xuXHR9LFxuXG5cdHNjcm9sbFRvOiBmdW5jdGlvbiAoeCwgeSwgdGltZSwgZWFzaW5nKSB7XG5cdFx0ZWFzaW5nID0gZWFzaW5nIHx8IHV0aWxzLmVhc2UuY2lyY3VsYXI7XG5cblx0XHR0aGlzLmlzSW5UcmFuc2l0aW9uID0gdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGltZSA+IDA7XG5cblx0XHRpZiAoICF0aW1lIHx8ICh0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiAmJiBlYXNpbmcuc3R5bGUpICkge1xuXHRcdFx0dGhpcy5fdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uKGVhc2luZy5zdHlsZSk7XG5cdFx0XHR0aGlzLl90cmFuc2l0aW9uVGltZSh0aW1lKTtcblx0XHRcdHRoaXMuX3RyYW5zbGF0ZSh4LCB5KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fYW5pbWF0ZSh4LCB5LCB0aW1lLCBlYXNpbmcuZm4pO1xuXHRcdH1cblx0fSxcblxuXHRzY3JvbGxUb0VsZW1lbnQ6IGZ1bmN0aW9uIChlbCwgdGltZSwgb2Zmc2V0WCwgb2Zmc2V0WSwgZWFzaW5nKSB7XG5cdFx0ZWwgPSBlbC5ub2RlVHlwZSA/IGVsIDogdGhpcy5zY3JvbGxlci5xdWVyeVNlbGVjdG9yKGVsKTtcblxuXHRcdGlmICggIWVsICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBwb3MgPSB1dGlscy5vZmZzZXQoZWwpO1xuXG5cdFx0cG9zLmxlZnQgLT0gdGhpcy53cmFwcGVyT2Zmc2V0LmxlZnQ7XG5cdFx0cG9zLnRvcCAgLT0gdGhpcy53cmFwcGVyT2Zmc2V0LnRvcDtcblxuXHRcdC8vIGlmIG9mZnNldFgvWSBhcmUgdHJ1ZSB3ZSBjZW50ZXIgdGhlIGVsZW1lbnQgdG8gdGhlIHNjcmVlblxuXHRcdGlmICggb2Zmc2V0WCA9PT0gdHJ1ZSApIHtcblx0XHRcdG9mZnNldFggPSBNYXRoLnJvdW5kKGVsLm9mZnNldFdpZHRoIC8gMiAtIHRoaXMud3JhcHBlci5vZmZzZXRXaWR0aCAvIDIpO1xuXHRcdH1cblx0XHRpZiAoIG9mZnNldFkgPT09IHRydWUgKSB7XG5cdFx0XHRvZmZzZXRZID0gTWF0aC5yb3VuZChlbC5vZmZzZXRIZWlnaHQgLyAyIC0gdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodCAvIDIpO1xuXHRcdH1cblxuXHRcdHBvcy5sZWZ0IC09IG9mZnNldFggfHwgMDtcblx0XHRwb3MudG9wICAtPSBvZmZzZXRZIHx8IDA7XG5cblx0XHRwb3MubGVmdCA9IHBvcy5sZWZ0ID4gMCA/IDAgOiBwb3MubGVmdCA8IHRoaXMubWF4U2Nyb2xsWCA/IHRoaXMubWF4U2Nyb2xsWCA6IHBvcy5sZWZ0O1xuXHRcdHBvcy50b3AgID0gcG9zLnRvcCAgPiAwID8gMCA6IHBvcy50b3AgIDwgdGhpcy5tYXhTY3JvbGxZID8gdGhpcy5tYXhTY3JvbGxZIDogcG9zLnRvcDtcblxuXHRcdHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgfHwgdGltZSA9PT0gbnVsbCB8fCB0aW1lID09PSAnYXV0bycgPyBNYXRoLm1heChNYXRoLmFicyh0aGlzLngtcG9zLmxlZnQpLCBNYXRoLmFicyh0aGlzLnktcG9zLnRvcCkpIDogdGltZTtcblxuXHRcdHRoaXMuc2Nyb2xsVG8ocG9zLmxlZnQsIHBvcy50b3AsIHRpbWUsIGVhc2luZyk7XG5cdH0sXG5cblx0X3RyYW5zaXRpb25UaW1lOiBmdW5jdGlvbiAodGltZSkge1xuXHRcdHRpbWUgPSB0aW1lIHx8IDA7XG5cblx0XHR0aGlzLnNjcm9sbGVyU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWUgKyAnbXMnO1xuXG5cdFx0aWYgKCAhdGltZSAmJiB1dGlscy5pc0JhZEFuZHJvaWQgKSB7XG5cdFx0XHR0aGlzLnNjcm9sbGVyU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uXSA9ICcwLjAwMXMnO1xuXHRcdH1cblxuXG5cdFx0aWYgKCB0aGlzLmluZGljYXRvcnMgKSB7XG5cdFx0XHRmb3IgKCB2YXIgaSA9IHRoaXMuaW5kaWNhdG9ycy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9yc1tpXS50cmFuc2l0aW9uVGltZSh0aW1lKTtcblx0XHRcdH1cblx0XHR9XG5cblxuLy8gSU5TRVJUIFBPSU5UOiBfdHJhbnNpdGlvblRpbWVcblxuXHR9LFxuXG5cdF90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246IGZ1bmN0aW9uIChlYXNpbmcpIHtcblx0XHR0aGlzLnNjcm9sbGVyU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXSA9IGVhc2luZztcblxuXG5cdFx0aWYgKCB0aGlzLmluZGljYXRvcnMgKSB7XG5cdFx0XHRmb3IgKCB2YXIgaSA9IHRoaXMuaW5kaWNhdG9ycy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9yc1tpXS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24oZWFzaW5nKTtcblx0XHRcdH1cblx0XHR9XG5cblxuLy8gSU5TRVJUIFBPSU5UOiBfdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXG5cblx0fSxcblxuXHRfdHJhbnNsYXRlOiBmdW5jdGlvbiAoeCwgeSkge1xuXHRcdGlmICggdGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSApIHtcblxuLyogUkVQTEFDRSBTVEFSVDogX3RyYW5zbGF0ZSAqL1x0XHRcdHRoaXMuc2Nyb2xsZXJTdHlsZVt1dGlscy5zdHlsZS50cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgeCArICdweCwnICsgeSArICdweCkgc2NhbGUoJyArIHRoaXMuc2NhbGUgKyAnKSAnICsgdGhpcy50cmFuc2xhdGVaOy8qIFJFUExBQ0UgRU5EOiBfdHJhbnNsYXRlICovXG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0eCA9IE1hdGgucm91bmQoeCk7XG5cdFx0XHR5ID0gTWF0aC5yb3VuZCh5KTtcblx0XHRcdHRoaXMuc2Nyb2xsZXJTdHlsZS5sZWZ0ID0geCArICdweCc7XG5cdFx0XHR0aGlzLnNjcm9sbGVyU3R5bGUudG9wID0geSArICdweCc7XG5cdFx0fVxuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXG5cblx0aWYgKCB0aGlzLmluZGljYXRvcnMgKSB7XG5cdFx0Zm9yICggdmFyIGkgPSB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0dGhpcy5pbmRpY2F0b3JzW2ldLnVwZGF0ZVBvc2l0aW9uKCk7XG5cdFx0fVxuXHR9XG5cblxuLy8gSU5TRVJUIFBPSU5UOiBfdHJhbnNsYXRlXG5cblx0fSxcblxuXHRfaW5pdEV2ZW50czogZnVuY3Rpb24gKHJlbW92ZSkge1xuXHRcdHZhciBldmVudFR5cGUgPSByZW1vdmUgPyB1dGlscy5yZW1vdmVFdmVudCA6IHV0aWxzLmFkZEV2ZW50LFxuXHRcdFx0dGFyZ2V0ID0gdGhpcy5vcHRpb25zLmJpbmRUb1dyYXBwZXIgPyB0aGlzLndyYXBwZXIgOiB3aW5kb3c7XG5cblx0XHRldmVudFR5cGUod2luZG93LCAnb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzKTtcblx0XHRldmVudFR5cGUod2luZG93LCAncmVzaXplJywgdGhpcyk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5jbGljayApIHtcblx0XHRcdGV2ZW50VHlwZSh0aGlzLndyYXBwZXIsICdjbGljaycsIHRoaXMsIHRydWUpO1xuXHRcdH1cblxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlTW91c2UgKSB7XG5cdFx0XHRldmVudFR5cGUodGhpcy53cmFwcGVyLCAnbW91c2Vkb3duJywgdGhpcyk7XG5cdFx0XHRldmVudFR5cGUodGFyZ2V0LCAnbW91c2Vtb3ZlJywgdGhpcyk7XG5cdFx0XHRldmVudFR5cGUodGFyZ2V0LCAnbW91c2VjYW5jZWwnLCB0aGlzKTtcblx0XHRcdGV2ZW50VHlwZSh0YXJnZXQsICdtb3VzZXVwJywgdGhpcyk7XG5cdFx0fVxuXG5cdFx0aWYgKCB1dGlscy5oYXNQb2ludGVyICYmICF0aGlzLm9wdGlvbnMuZGlzYWJsZVBvaW50ZXIgKSB7XG5cdFx0XHRldmVudFR5cGUodGhpcy53cmFwcGVyLCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJkb3duJyksIHRoaXMpO1xuXHRcdFx0ZXZlbnRUeXBlKHRhcmdldCwgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLCB0aGlzKTtcblx0XHRcdGV2ZW50VHlwZSh0YXJnZXQsIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcmNhbmNlbCcpLCB0aGlzKTtcblx0XHRcdGV2ZW50VHlwZSh0YXJnZXQsIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcnVwJyksIHRoaXMpO1xuXHRcdH1cblxuXHRcdGlmICggdXRpbHMuaGFzVG91Y2ggJiYgIXRoaXMub3B0aW9ucy5kaXNhYmxlVG91Y2ggKSB7XG5cdFx0XHRldmVudFR5cGUodGhpcy53cmFwcGVyLCAndG91Y2hzdGFydCcsIHRoaXMpO1xuXHRcdFx0ZXZlbnRUeXBlKHRhcmdldCwgJ3RvdWNobW92ZScsIHRoaXMpO1xuXHRcdFx0ZXZlbnRUeXBlKHRhcmdldCwgJ3RvdWNoY2FuY2VsJywgdGhpcyk7XG5cdFx0XHRldmVudFR5cGUodGFyZ2V0LCAndG91Y2hlbmQnLCB0aGlzKTtcblx0XHR9XG5cblx0XHRldmVudFR5cGUodGhpcy5zY3JvbGxlciwgJ3RyYW5zaXRpb25lbmQnLCB0aGlzKTtcblx0XHRldmVudFR5cGUodGhpcy5zY3JvbGxlciwgJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCB0aGlzKTtcblx0XHRldmVudFR5cGUodGhpcy5zY3JvbGxlciwgJ29UcmFuc2l0aW9uRW5kJywgdGhpcyk7XG5cdFx0ZXZlbnRUeXBlKHRoaXMuc2Nyb2xsZXIsICdNU1RyYW5zaXRpb25FbmQnLCB0aGlzKTtcblx0fSxcblxuXHRnZXRDb21wdXRlZFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG1hdHJpeCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuc2Nyb2xsZXIsIG51bGwpLFxuXHRcdFx0eCwgeTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSApIHtcblx0XHRcdG1hdHJpeCA9IG1hdHJpeFt1dGlscy5zdHlsZS50cmFuc2Zvcm1dLnNwbGl0KCcpJylbMF0uc3BsaXQoJywgJyk7XG5cdFx0XHR4ID0gKyhtYXRyaXhbMTJdIHx8IG1hdHJpeFs0XSk7XG5cdFx0XHR5ID0gKyhtYXRyaXhbMTNdIHx8IG1hdHJpeFs1XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHggPSArbWF0cml4LmxlZnQucmVwbGFjZSgvW14tXFxkLl0vZywgJycpO1xuXHRcdFx0eSA9ICttYXRyaXgudG9wLnJlcGxhY2UoL1teLVxcZC5dL2csICcnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyB4OiB4LCB5OiB5IH07XG5cdH0sXG5cblx0X2luaXRJbmRpY2F0b3JzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGludGVyYWN0aXZlID0gdGhpcy5vcHRpb25zLmludGVyYWN0aXZlU2Nyb2xsYmFycyxcblx0XHRcdGN1c3RvbVN0eWxlID0gdHlwZW9mIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJzICE9ICdzdHJpbmcnLFxuXHRcdFx0aW5kaWNhdG9ycyA9IFtdLFxuXHRcdFx0aW5kaWNhdG9yO1xuXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhpcy5pbmRpY2F0b3JzID0gW107XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJzICkge1xuXHRcdFx0Ly8gVmVydGljYWwgc2Nyb2xsYmFyXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5zY3JvbGxZICkge1xuXHRcdFx0XHRpbmRpY2F0b3IgPSB7XG5cdFx0XHRcdFx0ZWw6IGNyZWF0ZURlZmF1bHRTY3JvbGxiYXIoJ3YnLCBpbnRlcmFjdGl2ZSwgdGhpcy5vcHRpb25zLnNjcm9sbGJhcnMpLFxuXHRcdFx0XHRcdGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZSxcblx0XHRcdFx0XHRkZWZhdWx0U2Nyb2xsYmFyczogdHJ1ZSxcblx0XHRcdFx0XHRjdXN0b21TdHlsZTogY3VzdG9tU3R5bGUsXG5cdFx0XHRcdFx0cmVzaXplOiB0aGlzLm9wdGlvbnMucmVzaXplU2Nyb2xsYmFycyxcblx0XHRcdFx0XHRzaHJpbms6IHRoaXMub3B0aW9ucy5zaHJpbmtTY3JvbGxiYXJzLFxuXHRcdFx0XHRcdGZhZGU6IHRoaXMub3B0aW9ucy5mYWRlU2Nyb2xsYmFycyxcblx0XHRcdFx0XHRsaXN0ZW5YOiBmYWxzZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChpbmRpY2F0b3IuZWwpO1xuXHRcdFx0XHRpbmRpY2F0b3JzLnB1c2goaW5kaWNhdG9yKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9yaXpvbnRhbCBzY3JvbGxiYXJcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnNjcm9sbFggKSB7XG5cdFx0XHRcdGluZGljYXRvciA9IHtcblx0XHRcdFx0XHRlbDogY3JlYXRlRGVmYXVsdFNjcm9sbGJhcignaCcsIGludGVyYWN0aXZlLCB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFycyksXG5cdFx0XHRcdFx0aW50ZXJhY3RpdmU6IGludGVyYWN0aXZlLFxuXHRcdFx0XHRcdGRlZmF1bHRTY3JvbGxiYXJzOiB0cnVlLFxuXHRcdFx0XHRcdGN1c3RvbVN0eWxlOiBjdXN0b21TdHlsZSxcblx0XHRcdFx0XHRyZXNpemU6IHRoaXMub3B0aW9ucy5yZXNpemVTY3JvbGxiYXJzLFxuXHRcdFx0XHRcdHNocmluazogdGhpcy5vcHRpb25zLnNocmlua1Njcm9sbGJhcnMsXG5cdFx0XHRcdFx0ZmFkZTogdGhpcy5vcHRpb25zLmZhZGVTY3JvbGxiYXJzLFxuXHRcdFx0XHRcdGxpc3Rlblk6IGZhbHNlXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGluZGljYXRvci5lbCk7XG5cdFx0XHRcdGluZGljYXRvcnMucHVzaChpbmRpY2F0b3IpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmluZGljYXRvcnMgKSB7XG5cdFx0XHQvLyBUT0RPOiBjaGVjayBjb25jYXQgY29tcGF0aWJpbGl0eVxuXHRcdFx0aW5kaWNhdG9ycyA9IGluZGljYXRvcnMuY29uY2F0KHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKTtcblx0XHR9XG5cblx0XHRmb3IgKCB2YXIgaSA9IGluZGljYXRvcnMubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0dGhpcy5pbmRpY2F0b3JzLnB1c2goIG5ldyBJbmRpY2F0b3IodGhpcywgaW5kaWNhdG9yc1tpXSkgKTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBjaGVjayBpZiB3ZSBjYW4gdXNlIGFycmF5Lm1hcCAod2lkZSBjb21wYXRpYmlsaXR5IGFuZCBwZXJmb3JtYW5jZSBpc3N1ZXMpXG5cdFx0ZnVuY3Rpb24gX2luZGljYXRvcnNNYXAgKGZuKSB7XG5cdFx0XHRmb3IgKCB2YXIgaSA9IHRoYXQuaW5kaWNhdG9ycy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdGZuLmNhbGwodGhhdC5pbmRpY2F0b3JzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5mYWRlU2Nyb2xsYmFycyApIHtcblx0XHRcdHRoaXMub24oJ3Njcm9sbEVuZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0X2luZGljYXRvcnNNYXAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHRoaXMuZmFkZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLm9uKCdzY3JvbGxDYW5jZWwnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdF9pbmRpY2F0b3JzTWFwKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0aGlzLmZhZGUoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5vbignc2Nyb2xsU3RhcnQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdF9pbmRpY2F0b3JzTWFwKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0aGlzLmZhZGUoMSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRfaW5kaWNhdG9yc01hcChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dGhpcy5mYWRlKDEsIHRydWUpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXG5cdFx0dGhpcy5vbigncmVmcmVzaCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdF9pbmRpY2F0b3JzTWFwKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhpcy5yZWZyZXNoKCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRfaW5kaWNhdG9yc01hcChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGRlbGV0ZSB0aGlzLmluZGljYXRvcnM7XG5cdFx0fSk7XG5cdH0sXG5cblx0X2luaXRab29tOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5zY3JvbGxlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zZm9ybU9yaWdpbl0gPSAnMCAwJztcblx0fSxcblxuXHRfem9vbVN0YXJ0OiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciBjMSA9IE1hdGguYWJzKCBlLnRvdWNoZXNbMF0ucGFnZVggLSBlLnRvdWNoZXNbMV0ucGFnZVggKSxcblx0XHRcdGMyID0gTWF0aC5hYnMoIGUudG91Y2hlc1swXS5wYWdlWSAtIGUudG91Y2hlc1sxXS5wYWdlWSApO1xuXG5cdFx0dGhpcy50b3VjaGVzRGlzdGFuY2VTdGFydCA9IE1hdGguc3FydChjMSAqIGMxICsgYzIgKiBjMik7XG5cdFx0dGhpcy5zdGFydFNjYWxlID0gdGhpcy5zY2FsZTtcblxuXHRcdHRoaXMub3JpZ2luWCA9IE1hdGguYWJzKGUudG91Y2hlc1swXS5wYWdlWCArIGUudG91Y2hlc1sxXS5wYWdlWCkgLyAyICsgdGhpcy53cmFwcGVyT2Zmc2V0LmxlZnQgLSB0aGlzLng7XG5cdFx0dGhpcy5vcmlnaW5ZID0gTWF0aC5hYnMoZS50b3VjaGVzWzBdLnBhZ2VZICsgZS50b3VjaGVzWzFdLnBhZ2VZKSAvIDIgKyB0aGlzLndyYXBwZXJPZmZzZXQudG9wIC0gdGhpcy55O1xuXG5cdFx0dGhpcy5fZXhlY0V2ZW50KCd6b29tU3RhcnQnKTtcblx0fSxcblxuXHRfem9vbTogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoICF0aGlzLmVuYWJsZWQgfHwgdXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT09IHRoaXMuaW5pdGlhdGVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHZhciBjMSA9IE1hdGguYWJzKCBlLnRvdWNoZXNbMF0ucGFnZVggLSBlLnRvdWNoZXNbMV0ucGFnZVggKSxcblx0XHRcdGMyID0gTWF0aC5hYnMoIGUudG91Y2hlc1swXS5wYWdlWSAtIGUudG91Y2hlc1sxXS5wYWdlWSApLFxuXHRcdFx0ZGlzdGFuY2UgPSBNYXRoLnNxcnQoIGMxICogYzEgKyBjMiAqIGMyICksXG5cdFx0XHRzY2FsZSA9IDEgLyB0aGlzLnRvdWNoZXNEaXN0YW5jZVN0YXJ0ICogZGlzdGFuY2UgKiB0aGlzLnN0YXJ0U2NhbGUsXG5cdFx0XHRsYXN0U2NhbGUsXG5cdFx0XHR4LCB5O1xuXG5cdFx0dGhpcy5zY2FsZWQgPSB0cnVlO1xuXG5cdFx0aWYgKCBzY2FsZSA8IHRoaXMub3B0aW9ucy56b29tTWluICkge1xuXHRcdFx0c2NhbGUgPSAwLjUgKiB0aGlzLm9wdGlvbnMuem9vbU1pbiAqIE1hdGgucG93KDIuMCwgc2NhbGUgLyB0aGlzLm9wdGlvbnMuem9vbU1pbik7XG5cdFx0fSBlbHNlIGlmICggc2NhbGUgPiB0aGlzLm9wdGlvbnMuem9vbU1heCApIHtcblx0XHRcdHNjYWxlID0gMi4wICogdGhpcy5vcHRpb25zLnpvb21NYXggKiBNYXRoLnBvdygwLjUsIHRoaXMub3B0aW9ucy56b29tTWF4IC8gc2NhbGUpO1xuXHRcdH1cblxuXHRcdGxhc3RTY2FsZSA9IHNjYWxlIC8gdGhpcy5zdGFydFNjYWxlO1xuXHRcdHggPSB0aGlzLm9yaWdpblggLSB0aGlzLm9yaWdpblggKiBsYXN0U2NhbGUgKyB0aGlzLnN0YXJ0WDtcblx0XHR5ID0gdGhpcy5vcmlnaW5ZIC0gdGhpcy5vcmlnaW5ZICogbGFzdFNjYWxlICsgdGhpcy5zdGFydFk7XG5cblx0XHR0aGlzLnNjYWxlID0gc2NhbGU7XG5cblx0XHR0aGlzLl9leGVjRXZlbnQoJ3pvb20nLCBzY2FsZSk7XG5cdFx0dGhpcy5zY3JvbGxUbyh4LCB5LCAwKTtcblx0fSxcblxuXHRfem9vbUVuZDogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoICF0aGlzLmVuYWJsZWQgfHwgdXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT09IHRoaXMuaW5pdGlhdGVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHZhciBuZXdYLCBuZXdZLFxuXHRcdFx0bGFzdFNjYWxlO1xuXG5cdFx0dGhpcy5pc0luVHJhbnNpdGlvbiA9IDA7XG5cdFx0dGhpcy5pbml0aWF0ZWQgPSAwO1xuXG5cdFx0aWYgKCB0aGlzLnNjYWxlID4gdGhpcy5vcHRpb25zLnpvb21NYXggKSB7XG5cdFx0XHR0aGlzLnNjYWxlID0gdGhpcy5vcHRpb25zLnpvb21NYXg7XG5cdFx0fSBlbHNlIGlmICggdGhpcy5zY2FsZSA8IHRoaXMub3B0aW9ucy56b29tTWluICkge1xuXHRcdFx0dGhpcy5zY2FsZSA9IHRoaXMub3B0aW9ucy56b29tTWluO1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBib3VuZGFyaWVzXG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cblx0XHRsYXN0U2NhbGUgPSB0aGlzLnNjYWxlIC8gdGhpcy5zdGFydFNjYWxlO1xuXG5cdFx0bmV3WCA9IHRoaXMub3JpZ2luWCAtIHRoaXMub3JpZ2luWCAqIGxhc3RTY2FsZSArIHRoaXMuc3RhcnRYO1xuXHRcdG5ld1kgPSB0aGlzLm9yaWdpblkgLSB0aGlzLm9yaWdpblkgKiBsYXN0U2NhbGUgKyB0aGlzLnN0YXJ0WTtcblxuXHRcdGlmICggbmV3WCA+IDAgKSB7XG5cdFx0XHRuZXdYID0gMDtcblx0XHR9IGVsc2UgaWYgKCBuZXdYIDwgdGhpcy5tYXhTY3JvbGxYICkge1xuXHRcdFx0bmV3WCA9IHRoaXMubWF4U2Nyb2xsWDtcblx0XHR9XG5cblx0XHRpZiAoIG5ld1kgPiAwICkge1xuXHRcdFx0bmV3WSA9IDA7XG5cdFx0fSBlbHNlIGlmICggbmV3WSA8IHRoaXMubWF4U2Nyb2xsWSApIHtcblx0XHRcdG5ld1kgPSB0aGlzLm1heFNjcm9sbFk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnggIT0gbmV3WCB8fCB0aGlzLnkgIT0gbmV3WSApIHtcblx0XHRcdHRoaXMuc2Nyb2xsVG8obmV3WCwgbmV3WSwgdGhpcy5vcHRpb25zLmJvdW5jZVRpbWUpO1xuXHRcdH1cblxuXHRcdHRoaXMuc2NhbGVkID0gZmFsc2U7XG5cblx0XHR0aGlzLl9leGVjRXZlbnQoJ3pvb21FbmQnKTtcblx0fSxcblxuXHR6b29tOiBmdW5jdGlvbiAoc2NhbGUsIHgsIHksIHRpbWUpIHtcblx0XHRpZiAoIHNjYWxlIDwgdGhpcy5vcHRpb25zLnpvb21NaW4gKSB7XG5cdFx0XHRzY2FsZSA9IHRoaXMub3B0aW9ucy56b29tTWluO1xuXHRcdH0gZWxzZSBpZiAoIHNjYWxlID4gdGhpcy5vcHRpb25zLnpvb21NYXggKSB7XG5cdFx0XHRzY2FsZSA9IHRoaXMub3B0aW9ucy56b29tTWF4O1xuXHRcdH1cblxuXHRcdGlmICggc2NhbGUgPT0gdGhpcy5zY2FsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgcmVsU2NhbGUgPSBzY2FsZSAvIHRoaXMuc2NhbGU7XG5cblx0XHR4ID0geCA9PT0gdW5kZWZpbmVkID8gdGhpcy53cmFwcGVyV2lkdGggLyAyIDogeDtcblx0XHR5ID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy53cmFwcGVySGVpZ2h0IC8gMiA6IHk7XG5cdFx0dGltZSA9IHRpbWUgPT09IHVuZGVmaW5lZCA/IDMwMCA6IHRpbWU7XG5cblx0XHR4ID0geCArIHRoaXMud3JhcHBlck9mZnNldC5sZWZ0IC0gdGhpcy54O1xuXHRcdHkgPSB5ICsgdGhpcy53cmFwcGVyT2Zmc2V0LnRvcCAtIHRoaXMueTtcblxuXHRcdHggPSB4IC0geCAqIHJlbFNjYWxlICsgdGhpcy54O1xuXHRcdHkgPSB5IC0geSAqIHJlbFNjYWxlICsgdGhpcy55O1xuXG5cdFx0dGhpcy5zY2FsZSA9IHNjYWxlO1xuXG5cdFx0dGhpcy5yZWZyZXNoKCk7XHRcdC8vIHVwZGF0ZSBib3VuZGFyaWVzXG5cblx0XHRpZiAoIHggPiAwICkge1xuXHRcdFx0eCA9IDA7XG5cdFx0fSBlbHNlIGlmICggeCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcblx0XHRcdHggPSB0aGlzLm1heFNjcm9sbFg7XG5cdFx0fVxuXG5cdFx0aWYgKCB5ID4gMCApIHtcblx0XHRcdHkgPSAwO1xuXHRcdH0gZWxzZSBpZiAoIHkgPCB0aGlzLm1heFNjcm9sbFkgKSB7XG5cdFx0XHR5ID0gdGhpcy5tYXhTY3JvbGxZO1xuXHRcdH1cblxuXHRcdHRoaXMuc2Nyb2xsVG8oeCwgeSwgdGltZSk7XG5cdH0sXG5cblx0X3doZWVsWm9vbTogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgd2hlZWxEZWx0YVksXG5cdFx0XHRkZWx0YVNjYWxlLFxuXHRcdFx0dGhhdCA9IHRoaXM7XG5cblx0XHQvLyBFeGVjdXRlIHRoZSB6b29tRW5kIGV2ZW50IGFmdGVyIDQwMG1zIHRoZSB3aGVlbCBzdG9wcGVkIHNjcm9sbGluZ1xuXHRcdGNsZWFyVGltZW91dCh0aGlzLndoZWVsVGltZW91dCk7XG5cdFx0dGhpcy53aGVlbFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoYXQuX2V4ZWNFdmVudCgnem9vbUVuZCcpO1xuXHRcdH0sIDQwMCk7XG5cblx0XHRpZiAoICdkZWx0YVgnIGluIGUgKSB7XG5cdFx0XHR3aGVlbERlbHRhWSA9IC1lLmRlbHRhWSAvIE1hdGguYWJzKGUuZGVsdGFZKTtcblx0XHR9IGVsc2UgaWYgKCd3aGVlbERlbHRhWCcgaW4gZSkge1xuXHRcdFx0d2hlZWxEZWx0YVkgPSBlLndoZWVsRGVsdGFZIC8gTWF0aC5hYnMoZS53aGVlbERlbHRhWSk7XG5cdFx0fSBlbHNlIGlmKCd3aGVlbERlbHRhJyBpbiBlKSB7XG5cdFx0XHR3aGVlbERlbHRhWSA9IGUud2hlZWxEZWx0YSAvIE1hdGguYWJzKGUud2hlZWxEZWx0YSk7XG5cdFx0fSBlbHNlIGlmICgnZGV0YWlsJyBpbiBlKSB7XG5cdFx0XHR3aGVlbERlbHRhWSA9IC1lLmRldGFpbCAvIE1hdGguYWJzKGUud2hlZWxEZWx0YSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkZWx0YVNjYWxlID0gdGhpcy5zY2FsZSArIHdoZWVsRGVsdGFZIC8gNTtcblxuXHRcdHRoaXMuem9vbShkZWx0YVNjYWxlLCBlLnBhZ2VYLCBlLnBhZ2VZLCAwKTtcblx0fSxcblxuXHRfaW5pdFdoZWVsOiBmdW5jdGlvbiAoKSB7XG5cdFx0dXRpbHMuYWRkRXZlbnQodGhpcy53cmFwcGVyLCAnd2hlZWwnLCB0aGlzKTtcblx0XHR1dGlscy5hZGRFdmVudCh0aGlzLndyYXBwZXIsICdtb3VzZXdoZWVsJywgdGhpcyk7XG5cdFx0dXRpbHMuYWRkRXZlbnQodGhpcy53cmFwcGVyLCAnRE9NTW91c2VTY3JvbGwnLCB0aGlzKTtcblxuXHRcdHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR1dGlscy5yZW1vdmVFdmVudCh0aGlzLndyYXBwZXIsICd3aGVlbCcsIHRoaXMpO1xuXHRcdFx0dXRpbHMucmVtb3ZlRXZlbnQodGhpcy53cmFwcGVyLCAnbW91c2V3aGVlbCcsIHRoaXMpO1xuXHRcdFx0dXRpbHMucmVtb3ZlRXZlbnQodGhpcy53cmFwcGVyLCAnRE9NTW91c2VTY3JvbGwnLCB0aGlzKTtcblx0XHR9KTtcblx0fSxcblxuXHRfd2hlZWw6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKCAhdGhpcy5lbmFibGVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0dmFyIHdoZWVsRGVsdGFYLCB3aGVlbERlbHRhWSxcblx0XHRcdG5ld1gsIG5ld1ksXG5cdFx0XHR0aGF0ID0gdGhpcztcblxuXHRcdGlmICggdGhpcy53aGVlbFRpbWVvdXQgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRoYXQuX2V4ZWNFdmVudCgnc2Nyb2xsU3RhcnQnKTtcblx0XHR9XG5cblx0XHQvLyBFeGVjdXRlIHRoZSBzY3JvbGxFbmQgZXZlbnQgYWZ0ZXIgNDAwbXMgdGhlIHdoZWVsIHN0b3BwZWQgc2Nyb2xsaW5nXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMud2hlZWxUaW1lb3V0KTtcblx0XHR0aGlzLndoZWVsVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhhdC5fZXhlY0V2ZW50KCdzY3JvbGxFbmQnKTtcblx0XHRcdHRoYXQud2hlZWxUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXHRcdH0sIDQwMCk7XG5cblx0XHRpZiAoICdkZWx0YVgnIGluIGUgKSB7XG5cdFx0XHRpZiAoZS5kZWx0YU1vZGUgPT09IDEpIHtcblx0XHRcdFx0d2hlZWxEZWx0YVggPSAtZS5kZWx0YVggKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xuXHRcdFx0XHR3aGVlbERlbHRhWSA9IC1lLmRlbHRhWSAqIHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsU3BlZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aGVlbERlbHRhWCA9IC1lLmRlbHRhWDtcblx0XHRcdFx0d2hlZWxEZWx0YVkgPSAtZS5kZWx0YVk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggJ3doZWVsRGVsdGFYJyBpbiBlICkge1xuXHRcdFx0d2hlZWxEZWx0YVggPSBlLndoZWVsRGVsdGFYIC8gMTIwICogdGhpcy5vcHRpb25zLm1vdXNlV2hlZWxTcGVlZDtcblx0XHRcdHdoZWVsRGVsdGFZID0gZS53aGVlbERlbHRhWSAvIDEyMCAqIHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsU3BlZWQ7XG5cdFx0fSBlbHNlIGlmICggJ3doZWVsRGVsdGEnIGluIGUgKSB7XG5cdFx0XHR3aGVlbERlbHRhWCA9IHdoZWVsRGVsdGFZID0gZS53aGVlbERlbHRhIC8gMTIwICogdGhpcy5vcHRpb25zLm1vdXNlV2hlZWxTcGVlZDtcblx0XHR9IGVsc2UgaWYgKCAnZGV0YWlsJyBpbiBlICkge1xuXHRcdFx0d2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWSA9IC1lLmRldGFpbCAvIDMgKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0d2hlZWxEZWx0YVggKj0gdGhpcy5vcHRpb25zLmludmVydFdoZWVsRGlyZWN0aW9uO1xuXHRcdHdoZWVsRGVsdGFZICo9IHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbjtcblxuXHRcdGlmICggIXRoaXMuaGFzVmVydGljYWxTY3JvbGwgKSB7XG5cdFx0XHR3aGVlbERlbHRhWCA9IHdoZWVsRGVsdGFZO1xuXHRcdFx0d2hlZWxEZWx0YVkgPSAwO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnNuYXAgKSB7XG5cdFx0XHRuZXdYID0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWDtcblx0XHRcdG5ld1kgPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZO1xuXG5cdFx0XHRpZiAoIHdoZWVsRGVsdGFYID4gMCApIHtcblx0XHRcdFx0bmV3WC0tO1xuXHRcdFx0fSBlbHNlIGlmICggd2hlZWxEZWx0YVggPCAwICkge1xuXHRcdFx0XHRuZXdYKys7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2hlZWxEZWx0YVkgPiAwICkge1xuXHRcdFx0XHRuZXdZLS07XG5cdFx0XHR9IGVsc2UgaWYgKCB3aGVlbERlbHRhWSA8IDAgKSB7XG5cdFx0XHRcdG5ld1krKztcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5nb1RvUGFnZShuZXdYLCBuZXdZKTtcblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG5ld1ggPSB0aGlzLnggKyBNYXRoLnJvdW5kKHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IHdoZWVsRGVsdGFYIDogMCk7XG5cdFx0bmV3WSA9IHRoaXMueSArIE1hdGgucm91bmQodGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IHdoZWVsRGVsdGFZIDogMCk7XG5cblx0XHRpZiAoIG5ld1ggPiAwICkge1xuXHRcdFx0bmV3WCA9IDA7XG5cdFx0fSBlbHNlIGlmICggbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcblx0XHRcdG5ld1ggPSB0aGlzLm1heFNjcm9sbFg7XG5cdFx0fVxuXG5cdFx0aWYgKCBuZXdZID4gMCApIHtcblx0XHRcdG5ld1kgPSAwO1xuXHRcdH0gZWxzZSBpZiAoIG5ld1kgPCB0aGlzLm1heFNjcm9sbFkgKSB7XG5cdFx0XHRuZXdZID0gdGhpcy5tYXhTY3JvbGxZO1xuXHRcdH1cblxuXHRcdHRoaXMuc2Nyb2xsVG8obmV3WCwgbmV3WSwgMCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5wcm9iZVR5cGUgPiAxICkge1xuXHRcdFx0dGhpcy5fZXhlY0V2ZW50KCdzY3JvbGwnKTtcblx0XHR9XG5cbi8vIElOU0VSVCBQT0lOVDogX3doZWVsXG5cdH0sXG5cblx0X2luaXRTbmFwOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5jdXJyZW50UGFnZSA9IHt9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdGhpcy5vcHRpb25zLnNuYXAgPT0gJ3N0cmluZycgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc25hcCA9IHRoaXMuc2Nyb2xsZXIucXVlcnlTZWxlY3RvckFsbCh0aGlzLm9wdGlvbnMuc25hcCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vbigncmVmcmVzaCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBpID0gMCwgbCxcblx0XHRcdFx0bSA9IDAsIG4sXG5cdFx0XHRcdGN4LCBjeSxcblx0XHRcdFx0eCA9IDAsIHksXG5cdFx0XHRcdHN0ZXBYID0gdGhpcy5vcHRpb25zLnNuYXBTdGVwWCB8fCB0aGlzLndyYXBwZXJXaWR0aCxcblx0XHRcdFx0c3RlcFkgPSB0aGlzLm9wdGlvbnMuc25hcFN0ZXBZIHx8IHRoaXMud3JhcHBlckhlaWdodCxcblx0XHRcdFx0ZWw7XG5cblx0XHRcdHRoaXMucGFnZXMgPSBbXTtcblxuXHRcdFx0aWYgKCAhdGhpcy53cmFwcGVyV2lkdGggfHwgIXRoaXMud3JhcHBlckhlaWdodCB8fCAhdGhpcy5zY3JvbGxlcldpZHRoIHx8ICF0aGlzLnNjcm9sbGVySGVpZ2h0ICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnNuYXAgPT09IHRydWUgKSB7XG5cdFx0XHRcdGN4ID0gTWF0aC5yb3VuZCggc3RlcFggLyAyICk7XG5cdFx0XHRcdGN5ID0gTWF0aC5yb3VuZCggc3RlcFkgLyAyICk7XG5cblx0XHRcdFx0d2hpbGUgKCB4ID4gLXRoaXMuc2Nyb2xsZXJXaWR0aCApIHtcblx0XHRcdFx0XHR0aGlzLnBhZ2VzW2ldID0gW107XG5cdFx0XHRcdFx0bCA9IDA7XG5cdFx0XHRcdFx0eSA9IDA7XG5cblx0XHRcdFx0XHR3aGlsZSAoIHkgPiAtdGhpcy5zY3JvbGxlckhlaWdodCApIHtcblx0XHRcdFx0XHRcdHRoaXMucGFnZXNbaV1bbF0gPSB7XG5cdFx0XHRcdFx0XHRcdHg6IE1hdGgubWF4KHgsIHRoaXMubWF4U2Nyb2xsWCksXG5cdFx0XHRcdFx0XHRcdHk6IE1hdGgubWF4KHksIHRoaXMubWF4U2Nyb2xsWSksXG5cdFx0XHRcdFx0XHRcdHdpZHRoOiBzdGVwWCxcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBzdGVwWSxcblx0XHRcdFx0XHRcdFx0Y3g6IHggLSBjeCxcblx0XHRcdFx0XHRcdFx0Y3k6IHkgLSBjeVxuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0eSAtPSBzdGVwWTtcblx0XHRcdFx0XHRcdGwrKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR4IC09IHN0ZXBYO1xuXHRcdFx0XHRcdGkrKztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWwgPSB0aGlzLm9wdGlvbnMuc25hcDtcblx0XHRcdFx0bCA9IGVsLmxlbmd0aDtcblx0XHRcdFx0biA9IC0xO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGkgPT09IDAgfHwgZWxbaV0ub2Zmc2V0TGVmdCA8PSBlbFtpLTFdLm9mZnNldExlZnQgKSB7XG5cdFx0XHRcdFx0XHRtID0gMDtcblx0XHRcdFx0XHRcdG4rKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICF0aGlzLnBhZ2VzW21dICkge1xuXHRcdFx0XHRcdFx0dGhpcy5wYWdlc1ttXSA9IFtdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHggPSBNYXRoLm1heCgtZWxbaV0ub2Zmc2V0TGVmdCwgdGhpcy5tYXhTY3JvbGxYKTtcblx0XHRcdFx0XHR5ID0gTWF0aC5tYXgoLWVsW2ldLm9mZnNldFRvcCwgdGhpcy5tYXhTY3JvbGxZKTtcblx0XHRcdFx0XHRjeCA9IHggLSBNYXRoLnJvdW5kKGVsW2ldLm9mZnNldFdpZHRoIC8gMik7XG5cdFx0XHRcdFx0Y3kgPSB5IC0gTWF0aC5yb3VuZChlbFtpXS5vZmZzZXRIZWlnaHQgLyAyKTtcblxuXHRcdFx0XHRcdHRoaXMucGFnZXNbbV1bbl0gPSB7XG5cdFx0XHRcdFx0XHR4OiB4LFxuXHRcdFx0XHRcdFx0eTogeSxcblx0XHRcdFx0XHRcdHdpZHRoOiBlbFtpXS5vZmZzZXRXaWR0aCxcblx0XHRcdFx0XHRcdGhlaWdodDogZWxbaV0ub2Zmc2V0SGVpZ2h0LFxuXHRcdFx0XHRcdFx0Y3g6IGN4LFxuXHRcdFx0XHRcdFx0Y3k6IGN5XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGlmICggeCA+IHRoaXMubWF4U2Nyb2xsWCApIHtcblx0XHRcdFx0XHRcdG0rKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy5nb1RvUGFnZSh0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYIHx8IDAsIHRoaXMuY3VycmVudFBhZ2UucGFnZVkgfHwgMCwgMCk7XG5cblx0XHRcdC8vIFVwZGF0ZSBzbmFwIHRocmVzaG9sZCBpZiBuZWVkZWRcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQgJSAxID09PSAwICkge1xuXHRcdFx0XHR0aGlzLnNuYXBUaHJlc2hvbGRYID0gdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQ7XG5cdFx0XHRcdHRoaXMuc25hcFRocmVzaG9sZFkgPSB0aGlzLm9wdGlvbnMuc25hcFRocmVzaG9sZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc25hcFRocmVzaG9sZFggPSBNYXRoLnJvdW5kKHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZS5wYWdlWF1bdGhpcy5jdXJyZW50UGFnZS5wYWdlWV0ud2lkdGggKiB0aGlzLm9wdGlvbnMuc25hcFRocmVzaG9sZCk7XG5cdFx0XHRcdHRoaXMuc25hcFRocmVzaG9sZFkgPSBNYXRoLnJvdW5kKHRoaXMucGFnZXNbdGhpcy5jdXJyZW50UGFnZS5wYWdlWF1bdGhpcy5jdXJyZW50UGFnZS5wYWdlWV0uaGVpZ2h0ICogdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5vbignZmxpY2snLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgdGltZSA9IHRoaXMub3B0aW9ucy5zbmFwU3BlZWQgfHwgTWF0aC5tYXgoXG5cdFx0XHRcdFx0TWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRNYXRoLm1pbihNYXRoLmFicyh0aGlzLnggLSB0aGlzLnN0YXJ0WCksIDEwMDApLFxuXHRcdFx0XHRcdFx0TWF0aC5taW4oTWF0aC5hYnModGhpcy55IC0gdGhpcy5zdGFydFkpLCAxMDAwKVxuXHRcdFx0XHRcdCksIDMwMCk7XG5cblx0XHRcdHRoaXMuZ29Ub1BhZ2UoXG5cdFx0XHRcdHRoaXMuY3VycmVudFBhZ2UucGFnZVggKyB0aGlzLmRpcmVjdGlvblgsXG5cdFx0XHRcdHRoaXMuY3VycmVudFBhZ2UucGFnZVkgKyB0aGlzLmRpcmVjdGlvblksXG5cdFx0XHRcdHRpbWVcblx0XHRcdCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X25lYXJlc3RTbmFwOiBmdW5jdGlvbiAoeCwgeSkge1xuXHRcdGlmICggIXRoaXMucGFnZXMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHsgeDogMCwgeTogMCwgcGFnZVg6IDAsIHBhZ2VZOiAwIH07XG5cdFx0fVxuXG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMucGFnZXMubGVuZ3RoLFxuXHRcdFx0bSA9IDA7XG5cblx0XHQvLyBDaGVjayBpZiB3ZSBleGNlZWRlZCB0aGUgc25hcCB0aHJlc2hvbGRcblx0XHRpZiAoIE1hdGguYWJzKHggLSB0aGlzLmFic1N0YXJ0WCkgPCB0aGlzLnNuYXBUaHJlc2hvbGRYICYmXG5cdFx0XHRNYXRoLmFicyh5IC0gdGhpcy5hYnNTdGFydFkpIDwgdGhpcy5zbmFwVGhyZXNob2xkWSApIHtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnRQYWdlO1xuXHRcdH1cblxuXHRcdGlmICggeCA+IDAgKSB7XG5cdFx0XHR4ID0gMDtcblx0XHR9IGVsc2UgaWYgKCB4IDwgdGhpcy5tYXhTY3JvbGxYICkge1xuXHRcdFx0eCA9IHRoaXMubWF4U2Nyb2xsWDtcblx0XHR9XG5cblx0XHRpZiAoIHkgPiAwICkge1xuXHRcdFx0eSA9IDA7XG5cdFx0fSBlbHNlIGlmICggeSA8IHRoaXMubWF4U2Nyb2xsWSApIHtcblx0XHRcdHkgPSB0aGlzLm1heFNjcm9sbFk7XG5cdFx0fVxuXG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0aWYgKCB4ID49IHRoaXMucGFnZXNbaV1bMF0uY3ggKSB7XG5cdFx0XHRcdHggPSB0aGlzLnBhZ2VzW2ldWzBdLng7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGwgPSB0aGlzLnBhZ2VzW2ldLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgbSA8IGw7IG0rKyApIHtcblx0XHRcdGlmICggeSA+PSB0aGlzLnBhZ2VzWzBdW21dLmN5ICkge1xuXHRcdFx0XHR5ID0gdGhpcy5wYWdlc1swXVttXS55O1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGkgPT0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWCApIHtcblx0XHRcdGkgKz0gdGhpcy5kaXJlY3Rpb25YO1xuXG5cdFx0XHRpZiAoIGkgPCAwICkge1xuXHRcdFx0XHRpID0gMDtcblx0XHRcdH0gZWxzZSBpZiAoIGkgPj0gdGhpcy5wYWdlcy5sZW5ndGggKSB7XG5cdFx0XHRcdGkgPSB0aGlzLnBhZ2VzLmxlbmd0aCAtIDE7XG5cdFx0XHR9XG5cblx0XHRcdHggPSB0aGlzLnBhZ2VzW2ldWzBdLng7XG5cdFx0fVxuXG5cdFx0aWYgKCBtID09IHRoaXMuY3VycmVudFBhZ2UucGFnZVkgKSB7XG5cdFx0XHRtICs9IHRoaXMuZGlyZWN0aW9uWTtcblxuXHRcdFx0aWYgKCBtIDwgMCApIHtcblx0XHRcdFx0bSA9IDA7XG5cdFx0XHR9IGVsc2UgaWYgKCBtID49IHRoaXMucGFnZXNbMF0ubGVuZ3RoICkge1xuXHRcdFx0XHRtID0gdGhpcy5wYWdlc1swXS5sZW5ndGggLSAxO1xuXHRcdFx0fVxuXG5cdFx0XHR5ID0gdGhpcy5wYWdlc1swXVttXS55O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR4OiB4LFxuXHRcdFx0eTogeSxcblx0XHRcdHBhZ2VYOiBpLFxuXHRcdFx0cGFnZVk6IG1cblx0XHR9O1xuXHR9LFxuXG5cdGdvVG9QYWdlOiBmdW5jdGlvbiAoeCwgeSwgdGltZSwgZWFzaW5nKSB7XG5cdFx0ZWFzaW5nID0gZWFzaW5nIHx8IHRoaXMub3B0aW9ucy5ib3VuY2VFYXNpbmc7XG5cblx0XHRpZiAoIHggPj0gdGhpcy5wYWdlcy5sZW5ndGggKSB7XG5cdFx0XHR4ID0gdGhpcy5wYWdlcy5sZW5ndGggLSAxO1xuXHRcdH0gZWxzZSBpZiAoIHggPCAwICkge1xuXHRcdFx0eCA9IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCB5ID49IHRoaXMucGFnZXNbeF0ubGVuZ3RoICkge1xuXHRcdFx0eSA9IHRoaXMucGFnZXNbeF0ubGVuZ3RoIC0gMTtcblx0XHR9IGVsc2UgaWYgKCB5IDwgMCApIHtcblx0XHRcdHkgPSAwO1xuXHRcdH1cblxuXHRcdHZhciBwb3NYID0gdGhpcy5wYWdlc1t4XVt5XS54LFxuXHRcdFx0cG9zWSA9IHRoaXMucGFnZXNbeF1beV0ueTtcblxuXHRcdHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMuc25hcFNwZWVkIHx8IE1hdGgubWF4KFxuXHRcdFx0TWF0aC5tYXgoXG5cdFx0XHRcdE1hdGgubWluKE1hdGguYWJzKHBvc1ggLSB0aGlzLngpLCAxMDAwKSxcblx0XHRcdFx0TWF0aC5taW4oTWF0aC5hYnMocG9zWSAtIHRoaXMueSksIDEwMDApXG5cdFx0XHQpLCAzMDApIDogdGltZTtcblxuXHRcdHRoaXMuY3VycmVudFBhZ2UgPSB7XG5cdFx0XHR4OiBwb3NYLFxuXHRcdFx0eTogcG9zWSxcblx0XHRcdHBhZ2VYOiB4LFxuXHRcdFx0cGFnZVk6IHlcblx0XHR9O1xuXG5cdFx0dGhpcy5zY3JvbGxUbyhwb3NYLCBwb3NZLCB0aW1lLCBlYXNpbmcpO1xuXHR9LFxuXG5cdG5leHQ6IGZ1bmN0aW9uICh0aW1lLCBlYXNpbmcpIHtcblx0XHR2YXIgeCA9IHRoaXMuY3VycmVudFBhZ2UucGFnZVgsXG5cdFx0XHR5ID0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWTtcblxuXHRcdHgrKztcblxuXHRcdGlmICggeCA+PSB0aGlzLnBhZ2VzLmxlbmd0aCAmJiB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsICkge1xuXHRcdFx0eCA9IDA7XG5cdFx0XHR5Kys7XG5cdFx0fVxuXG5cdFx0dGhpcy5nb1RvUGFnZSh4LCB5LCB0aW1lLCBlYXNpbmcpO1xuXHR9LFxuXG5cdHByZXY6IGZ1bmN0aW9uICh0aW1lLCBlYXNpbmcpIHtcblx0XHR2YXIgeCA9IHRoaXMuY3VycmVudFBhZ2UucGFnZVgsXG5cdFx0XHR5ID0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWTtcblxuXHRcdHgtLTtcblxuXHRcdGlmICggeCA8IDAgJiYgdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCApIHtcblx0XHRcdHggPSAwO1xuXHRcdFx0eS0tO1xuXHRcdH1cblxuXHRcdHRoaXMuZ29Ub1BhZ2UoeCwgeSwgdGltZSwgZWFzaW5nKTtcblx0fSxcblxuXHRfaW5pdEtleXM6IGZ1bmN0aW9uIChlKSB7XG5cdFx0Ly8gZGVmYXVsdCBrZXkgYmluZGluZ3Ncblx0XHR2YXIga2V5cyA9IHtcblx0XHRcdHBhZ2VVcDogMzMsXG5cdFx0XHRwYWdlRG93bjogMzQsXG5cdFx0XHRlbmQ6IDM1LFxuXHRcdFx0aG9tZTogMzYsXG5cdFx0XHRsZWZ0OiAzNyxcblx0XHRcdHVwOiAzOCxcblx0XHRcdHJpZ2h0OiAzOSxcblx0XHRcdGRvd246IDQwXG5cdFx0fTtcblx0XHR2YXIgaTtcblxuXHRcdC8vIGlmIHlvdSBnaXZlIG1lIGNoYXJhY3RlcnMgSSBnaXZlIHlvdSBrZXljb2RlXG5cdFx0aWYgKCB0eXBlb2YgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzID09ICdvYmplY3QnICkge1xuXHRcdFx0Zm9yICggaSBpbiB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MgKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXSA9PSAnc3RyaW5nJyApIHtcblx0XHRcdFx0XHR0aGlzLm9wdGlvbnMua2V5QmluZGluZ3NbaV0gPSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3NbaV0udG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncyA9IHt9O1xuXHRcdH1cblxuXHRcdGZvciAoIGkgaW4ga2V5cyApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXSA9IHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXSB8fCBrZXlzW2ldO1xuXHRcdH1cblxuXHRcdHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgJ2tleWRvd24nLCB0aGlzKTtcblxuXHRcdHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdrZXlkb3duJywgdGhpcyk7XG5cdFx0fSk7XG5cdH0sXG5cblx0X2tleTogZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoICF0aGlzLmVuYWJsZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHNuYXAgPSB0aGlzLm9wdGlvbnMuc25hcCxcdC8vIHdlIGFyZSB1c2luZyB0aGlzIGFsb3QsIGJldHRlciB0byBjYWNoZSBpdFxuXHRcdFx0bmV3WCA9IHNuYXAgPyB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYIDogdGhpcy54LFxuXHRcdFx0bmV3WSA9IHNuYXAgPyB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZIDogdGhpcy55LFxuXHRcdFx0bm93ID0gdXRpbHMuZ2V0VGltZSgpLFxuXHRcdFx0cHJldlRpbWUgPSB0aGlzLmtleVRpbWUgfHwgMCxcblx0XHRcdGFjY2VsZXJhdGlvbiA9IDAuMjUwLFxuXHRcdFx0cG9zO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiAmJiB0aGlzLmlzSW5UcmFuc2l0aW9uICkge1xuXHRcdFx0cG9zID0gdGhpcy5nZXRDb21wdXRlZFBvc2l0aW9uKCk7XG5cblx0XHRcdHRoaXMuX3RyYW5zbGF0ZShNYXRoLnJvdW5kKHBvcy54KSwgTWF0aC5yb3VuZChwb3MueSkpO1xuXHRcdFx0dGhpcy5pc0luVHJhbnNpdGlvbiA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMua2V5QWNjZWxlcmF0aW9uID0gbm93IC0gcHJldlRpbWUgPCAyMDAgPyBNYXRoLm1pbih0aGlzLmtleUFjY2VsZXJhdGlvbiArIGFjY2VsZXJhdGlvbiwgNTApIDogMDtcblxuXHRcdHN3aXRjaCAoIGUua2V5Q29kZSApIHtcblx0XHRcdGNhc2UgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzLnBhZ2VVcDpcblx0XHRcdFx0aWYgKCB0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgJiYgIXRoaXMuaGFzVmVydGljYWxTY3JvbGwgKSB7XG5cdFx0XHRcdFx0bmV3WCArPSBzbmFwID8gMSA6IHRoaXMud3JhcHBlcldpZHRoO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ld1kgKz0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5wYWdlRG93bjpcblx0XHRcdFx0aWYgKCB0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgJiYgIXRoaXMuaGFzVmVydGljYWxTY3JvbGwgKSB7XG5cdFx0XHRcdFx0bmV3WCAtPSBzbmFwID8gMSA6IHRoaXMud3JhcHBlcldpZHRoO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ld1kgLT0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5lbmQ6XG5cdFx0XHRcdG5ld1ggPSBzbmFwID8gdGhpcy5wYWdlcy5sZW5ndGgtMSA6IHRoaXMubWF4U2Nyb2xsWDtcblx0XHRcdFx0bmV3WSA9IHNuYXAgPyB0aGlzLnBhZ2VzWzBdLmxlbmd0aC0xIDogdGhpcy5tYXhTY3JvbGxZO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzLmhvbWU6XG5cdFx0XHRcdG5ld1ggPSAwO1xuXHRcdFx0XHRuZXdZID0gMDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5sZWZ0OlxuXHRcdFx0XHRuZXdYICs9IHNuYXAgPyAtMSA6IDUgKyB0aGlzLmtleUFjY2VsZXJhdGlvbj4+MDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy51cDpcblx0XHRcdFx0bmV3WSArPSBzbmFwID8gMSA6IDUgKyB0aGlzLmtleUFjY2VsZXJhdGlvbj4+MDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5yaWdodDpcblx0XHRcdFx0bmV3WCAtPSBzbmFwID8gLTEgOiA1ICsgdGhpcy5rZXlBY2NlbGVyYXRpb24+PjA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MuZG93bjpcblx0XHRcdFx0bmV3WSAtPSBzbmFwID8gMSA6IDUgKyB0aGlzLmtleUFjY2VsZXJhdGlvbj4+MDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBzbmFwICkge1xuXHRcdFx0dGhpcy5nb1RvUGFnZShuZXdYLCBuZXdZKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5ld1ggPiAwICkge1xuXHRcdFx0bmV3WCA9IDA7XG5cdFx0XHR0aGlzLmtleUFjY2VsZXJhdGlvbiA9IDA7XG5cdFx0fSBlbHNlIGlmICggbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcblx0XHRcdG5ld1ggPSB0aGlzLm1heFNjcm9sbFg7XG5cdFx0XHR0aGlzLmtleUFjY2VsZXJhdGlvbiA9IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBuZXdZID4gMCApIHtcblx0XHRcdG5ld1kgPSAwO1xuXHRcdFx0dGhpcy5rZXlBY2NlbGVyYXRpb24gPSAwO1xuXHRcdH0gZWxzZSBpZiAoIG5ld1kgPCB0aGlzLm1heFNjcm9sbFkgKSB7XG5cdFx0XHRuZXdZID0gdGhpcy5tYXhTY3JvbGxZO1xuXHRcdFx0dGhpcy5rZXlBY2NlbGVyYXRpb24gPSAwO1xuXHRcdH1cblxuXHRcdHRoaXMuc2Nyb2xsVG8obmV3WCwgbmV3WSwgMCk7XG5cblx0XHR0aGlzLmtleVRpbWUgPSBub3c7XG5cdH0sXG5cblx0X2FuaW1hdGU6IGZ1bmN0aW9uIChkZXN0WCwgZGVzdFksIGR1cmF0aW9uLCBlYXNpbmdGbikge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHN0YXJ0WCA9IHRoaXMueCxcblx0XHRcdHN0YXJ0WSA9IHRoaXMueSxcblx0XHRcdHN0YXJ0VGltZSA9IHV0aWxzLmdldFRpbWUoKSxcblx0XHRcdGRlc3RUaW1lID0gc3RhcnRUaW1lICsgZHVyYXRpb247XG5cblx0XHRmdW5jdGlvbiBzdGVwICgpIHtcblx0XHRcdHZhciBub3cgPSB1dGlscy5nZXRUaW1lKCksXG5cdFx0XHRcdG5ld1gsIG5ld1ksXG5cdFx0XHRcdGVhc2luZztcblxuXHRcdFx0aWYgKCBub3cgPj0gZGVzdFRpbWUgKSB7XG5cdFx0XHRcdHRoYXQuaXNBbmltYXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0dGhhdC5fdHJhbnNsYXRlKGRlc3RYLCBkZXN0WSk7XG5cblx0XHRcdFx0aWYgKCAhdGhhdC5yZXNldFBvc2l0aW9uKHRoYXQub3B0aW9ucy5ib3VuY2VUaW1lKSApIHtcblx0XHRcdFx0XHR0aGF0Ll9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRub3cgPSAoIG5vdyAtIHN0YXJ0VGltZSApIC8gZHVyYXRpb247XG5cdFx0XHRlYXNpbmcgPSBlYXNpbmdGbihub3cpO1xuXHRcdFx0bmV3WCA9ICggZGVzdFggLSBzdGFydFggKSAqIGVhc2luZyArIHN0YXJ0WDtcblx0XHRcdG5ld1kgPSAoIGRlc3RZIC0gc3RhcnRZICkgKiBlYXNpbmcgKyBzdGFydFk7XG5cdFx0XHR0aGF0Ll90cmFuc2xhdGUobmV3WCwgbmV3WSk7XG5cblx0XHRcdGlmICggdGhhdC5pc0FuaW1hdGluZyApIHtcblx0XHRcdFx0ckFGKHN0ZXApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHRoYXQub3B0aW9ucy5wcm9iZVR5cGUgPT0gMyApIHtcblx0XHRcdFx0dGhhdC5fZXhlY0V2ZW50KCdzY3JvbGwnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcblx0XHRzdGVwKCk7XG5cdH0sXG5cdGhhbmRsZUV2ZW50OiBmdW5jdGlvbiAoZSkge1xuXHRcdHN3aXRjaCAoIGUudHlwZSApIHtcblx0XHRcdGNhc2UgJ3RvdWNoc3RhcnQnOlxuXHRcdFx0Y2FzZSAncG9pbnRlcmRvd24nOlxuXHRcdFx0Y2FzZSAnTVNQb2ludGVyRG93bic6XG5cdFx0XHRjYXNlICdtb3VzZWRvd24nOlxuXHRcdFx0XHR0aGlzLl9zdGFydChlKTtcblxuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy56b29tICYmIGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0XHR0aGlzLl96b29tU3RhcnQoZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd0b3VjaG1vdmUnOlxuXHRcdFx0Y2FzZSAncG9pbnRlcm1vdmUnOlxuXHRcdFx0Y2FzZSAnTVNQb2ludGVyTW92ZSc6XG5cdFx0XHRjYXNlICdtb3VzZW1vdmUnOlxuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy56b29tICYmIGUudG91Y2hlcyAmJiBlLnRvdWNoZXNbMV0gKSB7XG5cdFx0XHRcdFx0dGhpcy5fem9vbShlKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fbW92ZShlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd0b3VjaGVuZCc6XG5cdFx0XHRjYXNlICdwb2ludGVydXAnOlxuXHRcdFx0Y2FzZSAnTVNQb2ludGVyVXAnOlxuXHRcdFx0Y2FzZSAnbW91c2V1cCc6XG5cdFx0XHRjYXNlICd0b3VjaGNhbmNlbCc6XG5cdFx0XHRjYXNlICdwb2ludGVyY2FuY2VsJzpcblx0XHRcdGNhc2UgJ01TUG9pbnRlckNhbmNlbCc6XG5cdFx0XHRjYXNlICdtb3VzZWNhbmNlbCc6XG5cdFx0XHRcdGlmICggdGhpcy5zY2FsZWQgKSB7XG5cdFx0XHRcdFx0dGhpcy5fem9vbUVuZChlKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fZW5kKGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ29yaWVudGF0aW9uY2hhbmdlJzpcblx0XHRcdGNhc2UgJ3Jlc2l6ZSc6XG5cdFx0XHRcdHRoaXMuX3Jlc2l6ZSgpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3RyYW5zaXRpb25lbmQnOlxuXHRcdFx0Y2FzZSAnd2Via2l0VHJhbnNpdGlvbkVuZCc6XG5cdFx0XHRjYXNlICdvVHJhbnNpdGlvbkVuZCc6XG5cdFx0XHRjYXNlICdNU1RyYW5zaXRpb25FbmQnOlxuXHRcdFx0XHR0aGlzLl90cmFuc2l0aW9uRW5kKGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3doZWVsJzpcblx0XHRcdGNhc2UgJ0RPTU1vdXNlU2Nyb2xsJzpcblx0XHRcdGNhc2UgJ21vdXNld2hlZWwnOlxuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy53aGVlbEFjdGlvbiA9PSAnem9vbScgKSB7XG5cdFx0XHRcdFx0dGhpcy5fd2hlZWxab29tKGUpO1xuXHRcdFx0XHRcdHJldHVybjtcdFxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX3doZWVsKGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2tleWRvd24nOlxuXHRcdFx0XHR0aGlzLl9rZXkoZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG59O1xuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFNjcm9sbGJhciAoZGlyZWN0aW9uLCBpbnRlcmFjdGl2ZSwgdHlwZSkge1xuXHR2YXIgc2Nyb2xsYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG5cdFx0aW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblx0aWYgKCB0eXBlID09PSB0cnVlICkge1xuXHRcdHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTk5OSc7XG5cdFx0aW5kaWNhdG9yLnN0eWxlLmNzc1RleHQgPSAnLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjUpO2JvcmRlcjoxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjkpO2JvcmRlci1yYWRpdXM6M3B4Jztcblx0fVxuXG5cdGluZGljYXRvci5jbGFzc05hbWUgPSAnaVNjcm9sbEluZGljYXRvcic7XG5cblx0aWYgKCBkaXJlY3Rpb24gPT0gJ2gnICkge1xuXHRcdGlmICggdHlwZSA9PT0gdHJ1ZSApIHtcblx0XHRcdHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ICs9ICc7aGVpZ2h0OjdweDtsZWZ0OjJweDtyaWdodDoycHg7Ym90dG9tOjAnO1xuXHRcdFx0aW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblx0XHR9XG5cdFx0c2Nyb2xsYmFyLmNsYXNzTmFtZSA9ICdpU2Nyb2xsSG9yaXpvbnRhbFNjcm9sbGJhcic7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKCB0eXBlID09PSB0cnVlICkge1xuXHRcdFx0c2Nyb2xsYmFyLnN0eWxlLmNzc1RleHQgKz0gJzt3aWR0aDo3cHg7Ym90dG9tOjJweDt0b3A6MnB4O3JpZ2h0OjFweCc7XG5cdFx0XHRpbmRpY2F0b3Iuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0fVxuXHRcdHNjcm9sbGJhci5jbGFzc05hbWUgPSAnaVNjcm9sbFZlcnRpY2FsU2Nyb2xsYmFyJztcblx0fVxuXG5cdHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ICs9ICc7b3ZlcmZsb3c6aGlkZGVuJztcblxuXHRpZiAoICFpbnRlcmFjdGl2ZSApIHtcblx0XHRzY3JvbGxiYXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblx0fVxuXG5cdHNjcm9sbGJhci5hcHBlbmRDaGlsZChpbmRpY2F0b3IpO1xuXG5cdHJldHVybiBzY3JvbGxiYXI7XG59XG5cbmZ1bmN0aW9uIEluZGljYXRvciAoc2Nyb2xsZXIsIG9wdGlvbnMpIHtcblx0dGhpcy53cmFwcGVyID0gdHlwZW9mIG9wdGlvbnMuZWwgPT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuZWwpIDogb3B0aW9ucy5lbDtcblx0dGhpcy53cmFwcGVyU3R5bGUgPSB0aGlzLndyYXBwZXIuc3R5bGU7XG5cdHRoaXMuaW5kaWNhdG9yID0gdGhpcy53cmFwcGVyLmNoaWxkcmVuWzBdO1xuXHR0aGlzLmluZGljYXRvclN0eWxlID0gdGhpcy5pbmRpY2F0b3Iuc3R5bGU7XG5cdHRoaXMuc2Nyb2xsZXIgPSBzY3JvbGxlcjtcblxuXHR0aGlzLm9wdGlvbnMgPSB7XG5cdFx0bGlzdGVuWDogdHJ1ZSxcblx0XHRsaXN0ZW5ZOiB0cnVlLFxuXHRcdGludGVyYWN0aXZlOiBmYWxzZSxcblx0XHRyZXNpemU6IHRydWUsXG5cdFx0ZGVmYXVsdFNjcm9sbGJhcnM6IGZhbHNlLFxuXHRcdHNocmluazogZmFsc2UsXG5cdFx0ZmFkZTogZmFsc2UsXG5cdFx0c3BlZWRSYXRpb1g6IDAsXG5cdFx0c3BlZWRSYXRpb1k6IDBcblx0fTtcblxuXHRmb3IgKCB2YXIgaSBpbiBvcHRpb25zICkge1xuXHRcdHRoaXMub3B0aW9uc1tpXSA9IG9wdGlvbnNbaV07XG5cdH1cblxuXHR0aGlzLnNpemVSYXRpb1ggPSAxO1xuXHR0aGlzLnNpemVSYXRpb1kgPSAxO1xuXHR0aGlzLm1heFBvc1ggPSAwO1xuXHR0aGlzLm1heFBvc1kgPSAwO1xuXG5cdGlmICggdGhpcy5vcHRpb25zLmludGVyYWN0aXZlICkge1xuXHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlVG91Y2ggKSB7XG5cdFx0XHR1dGlscy5hZGRFdmVudCh0aGlzLmluZGljYXRvciwgJ3RvdWNoc3RhcnQnLCB0aGlzKTtcblx0XHRcdHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgJ3RvdWNoZW5kJywgdGhpcyk7XG5cdFx0fVxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlUG9pbnRlciApIHtcblx0XHRcdHV0aWxzLmFkZEV2ZW50KHRoaXMuaW5kaWNhdG9yLCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJkb3duJyksIHRoaXMpO1xuXHRcdFx0dXRpbHMuYWRkRXZlbnQod2luZG93LCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJ1cCcpLCB0aGlzKTtcblx0XHR9XG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVNb3VzZSApIHtcblx0XHRcdHV0aWxzLmFkZEV2ZW50KHRoaXMuaW5kaWNhdG9yLCAnbW91c2Vkb3duJywgdGhpcyk7XG5cdFx0XHR1dGlscy5hZGRFdmVudCh3aW5kb3csICdtb3VzZXVwJywgdGhpcyk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCB0aGlzLm9wdGlvbnMuZmFkZSApIHtcblx0XHR0aGlzLndyYXBwZXJTdHlsZVt1dGlscy5zdHlsZS50cmFuc2Zvcm1dID0gdGhpcy5zY3JvbGxlci50cmFuc2xhdGVaO1xuXHRcdHRoaXMud3JhcHBlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbl0gPSB1dGlscy5pc0JhZEFuZHJvaWQgPyAnMC4wMDFzJyA6ICcwbXMnO1xuXHRcdHRoaXMud3JhcHBlclN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cdH1cbn1cblxuSW5kaWNhdG9yLnByb3RvdHlwZSA9IHtcblx0aGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0c3dpdGNoICggZS50eXBlICkge1xuXHRcdFx0Y2FzZSAndG91Y2hzdGFydCc6XG5cdFx0XHRjYXNlICdwb2ludGVyZG93bic6XG5cdFx0XHRjYXNlICdNU1BvaW50ZXJEb3duJzpcblx0XHRcdGNhc2UgJ21vdXNlZG93bic6XG5cdFx0XHRcdHRoaXMuX3N0YXJ0KGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3RvdWNobW92ZSc6XG5cdFx0XHRjYXNlICdwb2ludGVybW92ZSc6XG5cdFx0XHRjYXNlICdNU1BvaW50ZXJNb3ZlJzpcblx0XHRcdGNhc2UgJ21vdXNlbW92ZSc6XG5cdFx0XHRcdHRoaXMuX21vdmUoZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndG91Y2hlbmQnOlxuXHRcdFx0Y2FzZSAncG9pbnRlcnVwJzpcblx0XHRcdGNhc2UgJ01TUG9pbnRlclVwJzpcblx0XHRcdGNhc2UgJ21vdXNldXAnOlxuXHRcdFx0Y2FzZSAndG91Y2hjYW5jZWwnOlxuXHRcdFx0Y2FzZSAncG9pbnRlcmNhbmNlbCc6XG5cdFx0XHRjYXNlICdNU1BvaW50ZXJDYW5jZWwnOlxuXHRcdFx0Y2FzZSAnbW91c2VjYW5jZWwnOlxuXHRcdFx0XHR0aGlzLl9lbmQoZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fSxcblxuXHRkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUgKSB7XG5cdFx0XHR1dGlscy5yZW1vdmVFdmVudCh0aGlzLmluZGljYXRvciwgJ3RvdWNoc3RhcnQnLCB0aGlzKTtcblx0XHRcdHV0aWxzLnJlbW92ZUV2ZW50KHRoaXMuaW5kaWNhdG9yLCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJkb3duJyksIHRoaXMpO1xuXHRcdFx0dXRpbHMucmVtb3ZlRXZlbnQodGhpcy5pbmRpY2F0b3IsICdtb3VzZWRvd24nLCB0aGlzKTtcblxuXHRcdFx0dXRpbHMucmVtb3ZlRXZlbnQod2luZG93LCAndG91Y2htb3ZlJywgdGhpcyk7XG5cdFx0XHR1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcm1vdmUnKSwgdGhpcyk7XG5cdFx0XHR1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzKTtcblxuXHRcdFx0dXRpbHMucmVtb3ZlRXZlbnQod2luZG93LCAndG91Y2hlbmQnLCB0aGlzKTtcblx0XHRcdHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVydXAnKSwgdGhpcyk7XG5cdFx0XHR1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdtb3VzZXVwJywgdGhpcyk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGVmYXVsdFNjcm9sbGJhcnMgKSB7XG5cdFx0XHR0aGlzLndyYXBwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpO1xuXHRcdH1cblx0fSxcblxuXHRfc3RhcnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0dGhpcy50cmFuc2l0aW9uVGltZSgpO1xuXG5cdFx0dGhpcy5pbml0aWF0ZWQgPSB0cnVlO1xuXHRcdHRoaXMubW92ZWQgPSBmYWxzZTtcblx0XHR0aGlzLmxhc3RQb2ludFhcdD0gcG9pbnQucGFnZVg7XG5cdFx0dGhpcy5sYXN0UG9pbnRZXHQ9IHBvaW50LnBhZ2VZO1xuXG5cdFx0dGhpcy5zdGFydFRpbWVcdD0gdXRpbHMuZ2V0VGltZSgpO1xuXG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVUb3VjaCApIHtcblx0XHRcdHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIHRoaXMpO1xuXHRcdH1cblx0XHRpZiAoICF0aGlzLm9wdGlvbnMuZGlzYWJsZVBvaW50ZXIgKSB7XG5cdFx0XHR1dGlscy5hZGRFdmVudCh3aW5kb3csIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcm1vdmUnKSwgdGhpcyk7XG5cdFx0fVxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlTW91c2UgKSB7XG5cdFx0XHR1dGlscy5hZGRFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzKTtcblx0XHR9XG5cblx0XHR0aGlzLnNjcm9sbGVyLl9leGVjRXZlbnQoJ2JlZm9yZVNjcm9sbFN0YXJ0Jyk7XG5cdH0sXG5cblx0X21vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZSxcblx0XHRcdGRlbHRhWCwgZGVsdGFZLFxuXHRcdFx0bmV3WCwgbmV3WSxcblx0XHRcdHRpbWVzdGFtcCA9IHV0aWxzLmdldFRpbWUoKTtcblxuXHRcdGlmICggIXRoaXMubW92ZWQgKSB7XG5cdFx0XHR0aGlzLnNjcm9sbGVyLl9leGVjRXZlbnQoJ3Njcm9sbFN0YXJ0Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb3ZlZCA9IHRydWU7XG5cblx0XHRkZWx0YVggPSBwb2ludC5wYWdlWCAtIHRoaXMubGFzdFBvaW50WDtcblx0XHR0aGlzLmxhc3RQb2ludFggPSBwb2ludC5wYWdlWDtcblxuXHRcdGRlbHRhWSA9IHBvaW50LnBhZ2VZIC0gdGhpcy5sYXN0UG9pbnRZO1xuXHRcdHRoaXMubGFzdFBvaW50WSA9IHBvaW50LnBhZ2VZO1xuXG5cdFx0bmV3WCA9IHRoaXMueCArIGRlbHRhWDtcblx0XHRuZXdZID0gdGhpcy55ICsgZGVsdGFZO1xuXG5cdFx0dGhpcy5fcG9zKG5ld1gsIG5ld1kpO1xuXG5cblx0XHRpZiAoIHRoaXMuc2Nyb2xsZXIub3B0aW9ucy5wcm9iZVR5cGUgPT0gMSAmJiB0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZSA+IDMwMCApIHtcblx0XHRcdHRoaXMuc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuXHRcdFx0dGhpcy5zY3JvbGxlci5fZXhlY0V2ZW50KCdzY3JvbGwnKTtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLnNjcm9sbGVyLm9wdGlvbnMucHJvYmVUeXBlID4gMSApIHtcblx0XHRcdHRoaXMuc2Nyb2xsZXIuX2V4ZWNFdmVudCgnc2Nyb2xsJyk7XG5cdFx0fVxuXG5cbi8vIElOU0VSVCBQT0lOVDogaW5kaWNhdG9yLl9tb3ZlXG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0fSxcblxuXHRfZW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICggIXRoaXMuaW5pdGlhdGVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuaW5pdGlhdGVkID0gZmFsc2U7XG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIHRoaXMpO1xuXHRcdHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLCB0aGlzKTtcblx0XHR1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzKTtcblxuXHRcdGlmICggdGhpcy5zY3JvbGxlci5vcHRpb25zLnNuYXAgKSB7XG5cdFx0XHR2YXIgc25hcCA9IHRoaXMuc2Nyb2xsZXIuX25lYXJlc3RTbmFwKHRoaXMuc2Nyb2xsZXIueCwgdGhpcy5zY3JvbGxlci55KTtcblxuXHRcdFx0dmFyIHRpbWUgPSB0aGlzLm9wdGlvbnMuc25hcFNwZWVkIHx8IE1hdGgubWF4KFxuXHRcdFx0XHRcdE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0TWF0aC5taW4oTWF0aC5hYnModGhpcy5zY3JvbGxlci54IC0gc25hcC54KSwgMTAwMCksXG5cdFx0XHRcdFx0XHRNYXRoLm1pbihNYXRoLmFicyh0aGlzLnNjcm9sbGVyLnkgLSBzbmFwLnkpLCAxMDAwKVxuXHRcdFx0XHRcdCksIDMwMCk7XG5cblx0XHRcdGlmICggdGhpcy5zY3JvbGxlci54ICE9IHNuYXAueCB8fCB0aGlzLnNjcm9sbGVyLnkgIT0gc25hcC55ICkge1xuXHRcdFx0XHR0aGlzLnNjcm9sbGVyLmRpcmVjdGlvblggPSAwO1xuXHRcdFx0XHR0aGlzLnNjcm9sbGVyLmRpcmVjdGlvblkgPSAwO1xuXHRcdFx0XHR0aGlzLnNjcm9sbGVyLmN1cnJlbnRQYWdlID0gc25hcDtcblx0XHRcdFx0dGhpcy5zY3JvbGxlci5zY3JvbGxUbyhzbmFwLngsIHNuYXAueSwgdGltZSwgdGhpcy5zY3JvbGxlci5vcHRpb25zLmJvdW5jZUVhc2luZyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm1vdmVkICkge1xuXHRcdFx0dGhpcy5zY3JvbGxlci5fZXhlY0V2ZW50KCdzY3JvbGxFbmQnKTtcblx0XHR9XG5cdH0sXG5cblx0dHJhbnNpdGlvblRpbWU6IGZ1bmN0aW9uICh0aW1lKSB7XG5cdFx0dGltZSA9IHRpbWUgfHwgMDtcblx0XHR0aGlzLmluZGljYXRvclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lICsgJ21zJztcblxuXHRcdGlmICggIXRpbWUgJiYgdXRpbHMuaXNCYWRBbmRyb2lkICkge1xuXHRcdFx0dGhpcy5pbmRpY2F0b3JTdHlsZVt1dGlscy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb25dID0gJzAuMDAxcyc7XG5cdFx0fVxuXHR9LFxuXG5cdHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogZnVuY3Rpb24gKGVhc2luZykge1xuXHRcdHRoaXMuaW5kaWNhdG9yU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXSA9IGVhc2luZztcblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy50cmFuc2l0aW9uVGltZSgpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMubGlzdGVuWCAmJiAhdGhpcy5vcHRpb25zLmxpc3RlblkgKSB7XG5cdFx0XHR0aGlzLmluZGljYXRvclN0eWxlLmRpc3BsYXkgPSB0aGlzLnNjcm9sbGVyLmhhc0hvcml6b250YWxTY3JvbGwgPyAnYmxvY2snIDogJ25vbmUnO1xuXHRcdH0gZWxzZSBpZiAoIHRoaXMub3B0aW9ucy5saXN0ZW5ZICYmICF0aGlzLm9wdGlvbnMubGlzdGVuWCApIHtcblx0XHRcdHRoaXMuaW5kaWNhdG9yU3R5bGUuZGlzcGxheSA9IHRoaXMuc2Nyb2xsZXIuaGFzVmVydGljYWxTY3JvbGwgPyAnYmxvY2snIDogJ25vbmUnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmluZGljYXRvclN0eWxlLmRpc3BsYXkgPSB0aGlzLnNjcm9sbGVyLmhhc0hvcml6b250YWxTY3JvbGwgfHwgdGhpcy5zY3JvbGxlci5oYXNWZXJ0aWNhbFNjcm9sbCA/ICdibG9jaycgOiAnbm9uZSc7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnNjcm9sbGVyLmhhc0hvcml6b250YWxTY3JvbGwgJiYgdGhpcy5zY3JvbGxlci5oYXNWZXJ0aWNhbFNjcm9sbCApIHtcblx0XHRcdHV0aWxzLmFkZENsYXNzKHRoaXMud3JhcHBlciwgJ2lTY3JvbGxCb3RoU2Nyb2xsYmFycycpO1xuXHRcdFx0dXRpbHMucmVtb3ZlQ2xhc3ModGhpcy53cmFwcGVyLCAnaVNjcm9sbExvbmVTY3JvbGxiYXInKTtcblxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGVmYXVsdFNjcm9sbGJhcnMgJiYgdGhpcy5vcHRpb25zLmN1c3RvbVN0eWxlICkge1xuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5saXN0ZW5YICkge1xuXHRcdFx0XHRcdHRoaXMud3JhcHBlci5zdHlsZS5yaWdodCA9ICc4cHgnO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMud3JhcHBlci5zdHlsZS5ib3R0b20gPSAnOHB4Jztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR1dGlscy5yZW1vdmVDbGFzcyh0aGlzLndyYXBwZXIsICdpU2Nyb2xsQm90aFNjcm9sbGJhcnMnKTtcblx0XHRcdHV0aWxzLmFkZENsYXNzKHRoaXMud3JhcHBlciwgJ2lTY3JvbGxMb25lU2Nyb2xsYmFyJyk7XG5cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmRlZmF1bHRTY3JvbGxiYXJzICYmIHRoaXMub3B0aW9ucy5jdXN0b21TdHlsZSApIHtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMubGlzdGVuWCApIHtcblx0XHRcdFx0XHR0aGlzLndyYXBwZXIuc3R5bGUucmlnaHQgPSAnMnB4Jztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLndyYXBwZXIuc3R5bGUuYm90dG9tID0gJzJweCc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgciA9IHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQ7XHQvLyBmb3JjZSByZWZyZXNoXG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5saXN0ZW5YICkge1xuXHRcdFx0dGhpcy53cmFwcGVyV2lkdGggPSB0aGlzLndyYXBwZXIuY2xpZW50V2lkdGg7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5yZXNpemUgKSB7XG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9yV2lkdGggPSBNYXRoLm1heChNYXRoLnJvdW5kKHRoaXMud3JhcHBlcldpZHRoICogdGhpcy53cmFwcGVyV2lkdGggLyAodGhpcy5zY3JvbGxlci5zY3JvbGxlcldpZHRoIHx8IHRoaXMud3JhcHBlcldpZHRoIHx8IDEpKSwgOCk7XG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9yU3R5bGUud2lkdGggPSB0aGlzLmluZGljYXRvcldpZHRoICsgJ3B4Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9yV2lkdGggPSB0aGlzLmluZGljYXRvci5jbGllbnRXaWR0aDtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5tYXhQb3NYID0gdGhpcy53cmFwcGVyV2lkdGggLSB0aGlzLmluZGljYXRvcldpZHRoO1xuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ2NsaXAnICkge1xuXHRcdFx0XHR0aGlzLm1pbkJvdW5kYXJ5WCA9IC10aGlzLmluZGljYXRvcldpZHRoICsgODtcblx0XHRcdFx0dGhpcy5tYXhCb3VuZGFyeVggPSB0aGlzLndyYXBwZXJXaWR0aCAtIDg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLm1pbkJvdW5kYXJ5WCA9IDA7XG5cdFx0XHRcdHRoaXMubWF4Qm91bmRhcnlYID0gdGhpcy5tYXhQb3NYO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnNpemVSYXRpb1ggPSB0aGlzLm9wdGlvbnMuc3BlZWRSYXRpb1ggfHwgKHRoaXMuc2Nyb2xsZXIubWF4U2Nyb2xsWCAmJiAodGhpcy5tYXhQb3NYIC8gdGhpcy5zY3JvbGxlci5tYXhTY3JvbGxYKSk7XHRcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5saXN0ZW5ZICkge1xuXHRcdFx0dGhpcy53cmFwcGVySGVpZ2h0ID0gdGhpcy53cmFwcGVyLmNsaWVudEhlaWdodDtcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnJlc2l6ZSApIHtcblx0XHRcdFx0dGhpcy5pbmRpY2F0b3JIZWlnaHQgPSBNYXRoLm1heChNYXRoLnJvdW5kKHRoaXMud3JhcHBlckhlaWdodCAqIHRoaXMud3JhcHBlckhlaWdodCAvICh0aGlzLnNjcm9sbGVyLnNjcm9sbGVySGVpZ2h0IHx8IHRoaXMud3JhcHBlckhlaWdodCB8fCAxKSksIDgpO1xuXHRcdFx0XHR0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaW5kaWNhdG9ySGVpZ2h0ICsgJ3B4Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9ySGVpZ2h0ID0gdGhpcy5pbmRpY2F0b3IuY2xpZW50SGVpZ2h0O1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm1heFBvc1kgPSB0aGlzLndyYXBwZXJIZWlnaHQgLSB0aGlzLmluZGljYXRvckhlaWdodDtcblxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdjbGlwJyApIHtcblx0XHRcdFx0dGhpcy5taW5Cb3VuZGFyeVkgPSAtdGhpcy5pbmRpY2F0b3JIZWlnaHQgKyA4O1xuXHRcdFx0XHR0aGlzLm1heEJvdW5kYXJ5WSA9IHRoaXMud3JhcHBlckhlaWdodCAtIDg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLm1pbkJvdW5kYXJ5WSA9IDA7XG5cdFx0XHRcdHRoaXMubWF4Qm91bmRhcnlZID0gdGhpcy5tYXhQb3NZO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm1heFBvc1kgPSB0aGlzLndyYXBwZXJIZWlnaHQgLSB0aGlzLmluZGljYXRvckhlaWdodDtcblx0XHRcdHRoaXMuc2l6ZVJhdGlvWSA9IHRoaXMub3B0aW9ucy5zcGVlZFJhdGlvWSB8fCAodGhpcy5zY3JvbGxlci5tYXhTY3JvbGxZICYmICh0aGlzLm1heFBvc1kgLyB0aGlzLnNjcm9sbGVyLm1heFNjcm9sbFkpKTtcblx0XHR9XG5cblx0XHR0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG5cdH0sXG5cblx0dXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgeCA9IHRoaXMub3B0aW9ucy5saXN0ZW5YICYmIE1hdGgucm91bmQodGhpcy5zaXplUmF0aW9YICogdGhpcy5zY3JvbGxlci54KSB8fCAwLFxuXHRcdFx0eSA9IHRoaXMub3B0aW9ucy5saXN0ZW5ZICYmIE1hdGgucm91bmQodGhpcy5zaXplUmF0aW9ZICogdGhpcy5zY3JvbGxlci55KSB8fCAwO1xuXG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmlnbm9yZUJvdW5kYXJpZXMgKSB7XG5cdFx0XHRpZiAoIHggPCB0aGlzLm1pbkJvdW5kYXJ5WCApIHtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdzY2FsZScgKSB7XG5cdFx0XHRcdFx0dGhpcy53aWR0aCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9yV2lkdGggKyB4LCA4KTtcblx0XHRcdFx0XHR0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG5cdFx0XHRcdH1cblx0XHRcdFx0eCA9IHRoaXMubWluQm91bmRhcnlYO1xuXHRcdFx0fSBlbHNlIGlmICggeCA+IHRoaXMubWF4Qm91bmRhcnlYICkge1xuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJyApIHtcblx0XHRcdFx0XHR0aGlzLndpZHRoID0gTWF0aC5tYXgodGhpcy5pbmRpY2F0b3JXaWR0aCAtICh4IC0gdGhpcy5tYXhQb3NYKSwgOCk7XG5cdFx0XHRcdFx0dGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuXHRcdFx0XHRcdHggPSB0aGlzLm1heFBvc1ggKyB0aGlzLmluZGljYXRvcldpZHRoIC0gdGhpcy53aWR0aDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4ID0gdGhpcy5tYXhCb3VuZGFyeVg7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJyAmJiB0aGlzLndpZHRoICE9IHRoaXMuaW5kaWNhdG9yV2lkdGggKSB7XG5cdFx0XHRcdHRoaXMud2lkdGggPSB0aGlzLmluZGljYXRvcldpZHRoO1xuXHRcdFx0XHR0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggeSA8IHRoaXMubWluQm91bmRhcnlZICkge1xuXHRcdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJyApIHtcblx0XHRcdFx0XHR0aGlzLmhlaWdodCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9ySGVpZ2h0ICsgeSAqIDMsIDgpO1xuXHRcdFx0XHRcdHRoaXMuaW5kaWNhdG9yU3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHkgPSB0aGlzLm1pbkJvdW5kYXJ5WTtcblx0XHRcdH0gZWxzZSBpZiAoIHkgPiB0aGlzLm1heEJvdW5kYXJ5WSApIHtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdzY2FsZScgKSB7XG5cdFx0XHRcdFx0dGhpcy5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmluZGljYXRvckhlaWdodCAtICh5IC0gdGhpcy5tYXhQb3NZKSAqIDMsIDgpO1xuXHRcdFx0XHRcdHRoaXMuaW5kaWNhdG9yU3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuXHRcdFx0XHRcdHkgPSB0aGlzLm1heFBvc1kgKyB0aGlzLmluZGljYXRvckhlaWdodCAtIHRoaXMuaGVpZ2h0O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHkgPSB0aGlzLm1heEJvdW5kYXJ5WTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5vcHRpb25zLnNocmluayA9PSAnc2NhbGUnICYmIHRoaXMuaGVpZ2h0ICE9IHRoaXMuaW5kaWNhdG9ySGVpZ2h0ICkge1xuXHRcdFx0XHR0aGlzLmhlaWdodCA9IHRoaXMuaW5kaWNhdG9ySGVpZ2h0O1xuXHRcdFx0XHR0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4Jztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cblx0XHRpZiAoIHRoaXMuc2Nyb2xsZXIub3B0aW9ucy51c2VUcmFuc2Zvcm0gKSB7XG5cdFx0XHR0aGlzLmluZGljYXRvclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KScgKyB0aGlzLnNjcm9sbGVyLnRyYW5zbGF0ZVo7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuaW5kaWNhdG9yU3R5bGUubGVmdCA9IHggKyAncHgnO1xuXHRcdFx0dGhpcy5pbmRpY2F0b3JTdHlsZS50b3AgPSB5ICsgJ3B4Jztcblx0XHR9XG5cdH0sXG5cblx0X3BvczogZnVuY3Rpb24gKHgsIHkpIHtcblx0XHRpZiAoIHggPCAwICkge1xuXHRcdFx0eCA9IDA7XG5cdFx0fSBlbHNlIGlmICggeCA+IHRoaXMubWF4UG9zWCApIHtcblx0XHRcdHggPSB0aGlzLm1heFBvc1g7XG5cdFx0fVxuXG5cdFx0aWYgKCB5IDwgMCApIHtcblx0XHRcdHkgPSAwO1xuXHRcdH0gZWxzZSBpZiAoIHkgPiB0aGlzLm1heFBvc1kgKSB7XG5cdFx0XHR5ID0gdGhpcy5tYXhQb3NZO1xuXHRcdH1cblxuXHRcdHggPSB0aGlzLm9wdGlvbnMubGlzdGVuWCA/IE1hdGgucm91bmQoeCAvIHRoaXMuc2l6ZVJhdGlvWCkgOiB0aGlzLnNjcm9sbGVyLng7XG5cdFx0eSA9IHRoaXMub3B0aW9ucy5saXN0ZW5ZID8gTWF0aC5yb3VuZCh5IC8gdGhpcy5zaXplUmF0aW9ZKSA6IHRoaXMuc2Nyb2xsZXIueTtcblxuXHRcdHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8oeCwgeSk7XG5cdH0sXG5cblx0ZmFkZTogZnVuY3Rpb24gKHZhbCwgaG9sZCkge1xuXHRcdGlmICggaG9sZCAmJiAhdGhpcy52aXNpYmxlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNsZWFyVGltZW91dCh0aGlzLmZhZGVUaW1lb3V0KTtcblx0XHR0aGlzLmZhZGVUaW1lb3V0ID0gbnVsbDtcblxuXHRcdHZhciB0aW1lID0gdmFsID8gMjUwIDogNTAwLFxuXHRcdFx0ZGVsYXkgPSB2YWwgPyAwIDogMzAwO1xuXG5cdFx0dmFsID0gdmFsID8gJzEnIDogJzAnO1xuXG5cdFx0dGhpcy53cmFwcGVyU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWUgKyAnbXMnO1xuXG5cdFx0dGhpcy5mYWRlVGltZW91dCA9IHNldFRpbWVvdXQoKGZ1bmN0aW9uICh2YWwpIHtcblx0XHRcdHRoaXMud3JhcHBlclN0eWxlLm9wYWNpdHkgPSB2YWw7XG5cdFx0XHR0aGlzLnZpc2libGUgPSArdmFsO1xuXHRcdH0pLmJpbmQodGhpcywgdmFsKSwgZGVsYXkpO1xuXHR9XG59O1xuXG5JU2Nyb2xsLnV0aWxzID0gdXRpbHM7XG5cbmlmICggdHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcblx0bW9kdWxlLmV4cG9ydHMgPSBJU2Nyb2xsO1xufSBlbHNlIHtcblx0d2luZG93LklTY3JvbGwgPSBJU2Nyb2xsO1xufVxuXG59KSh3aW5kb3csIGRvY3VtZW50LCBNYXRoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
