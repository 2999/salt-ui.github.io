'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _classnames2 = require('classnames');

var _classnames3 = _interopRequireDefault(_classnames2);

var _tingleStyle = require('@ali/tingle-style');

var _tingleContext = require('@ali/tingle-context');

var _tingleContext2 = _interopRequireDefault(_tingleContext);

var _tingleIcon = require('@ali/tingle-icon');

var _tingleIcon2 = _interopRequireDefault(_tingleIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Rate Component for tingle
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author quanyun.mqy
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2014-2016, Tingle Team.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */


var Rate = function (_React$Component) {
    _inherits(Rate, _React$Component);

    function Rate() {
        _classCallCheck(this, Rate);

        return _possibleConstructorReturn(this, (Rate.__proto__ || Object.getPrototypeOf(Rate)).apply(this, arguments));
    }

    _createClass(Rate, [{
        key: 'handleItemClick',
        value: function handleItemClick(v) {
            this.props.onChange(v);
        }

        // http://facebook.github.io/react/docs/reusable-components.html

    }, {
        key: 'render',
        value: function render() {
            var t = this;
            var items = [];
            for (var i = 1; i <= t.props.totalScore; i++) {
                var item = React.createElement(
                    'div',
                    { className: (0, _classnames3.default)(_tingleContext2.default.prefixClass('rate-item'), {
                            't-DIB': true,
                            't-PR': true,
                            active: i <= t.props.score
                        }), key: i, onClick: t.handleItemClick.bind(t, i), style: {
                            width: (0, _tingleStyle.unitize)(t.props.height),
                            height: (0, _tingleStyle.unitize)(t.props.height),
                            paddingLeft: (0, _tingleStyle.unitize)(t.props.gap / 2),
                            paddingRight: (0, _tingleStyle.unitize)(t.props.gap / 2)
                        }
                    },
                    React.createElement(_tingleIcon2.default, { name: 'star', fill: '#dbdbdb', className: (0, _classnames3.default)(_tingleContext2.default.prefixClass('rate-icon')) })
                );
                items.push(item);
            }
            return React.createElement(
                'div',
                { ref: 'root', className: (0, _classnames3.default)(_tingleContext2.default.prefixClass('rate'), _defineProperty({
                        't-FBH': true
                    }, t.props.className, !!t.props.className)) },
                items
            );
        }
    }]);

    return Rate;
}(React.Component);

Rate.displayName = 'Rate';
Rate.defaultProps = {
    totalScore: 5,
    score: 0,
    height: 30,
    gap: 10,
    onChange: function onChange() {}
};
Rate.propTypes = {
    className: React.PropTypes.string,
    totalScore: React.PropTypes.number,
    score: React.PropTypes.number,
    height: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string]),
    gap: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string]),
    onChange: React.PropTypes.func
};
exports.default = Rate;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJhdGUuanMiXSwibmFtZXMiOlsiUmF0ZSIsInYiLCJwcm9wcyIsIm9uQ2hhbmdlIiwidCIsIml0ZW1zIiwiaSIsInRvdGFsU2NvcmUiLCJpdGVtIiwicHJlZml4Q2xhc3MiLCJhY3RpdmUiLCJzY29yZSIsImhhbmRsZUl0ZW1DbGljayIsImJpbmQiLCJ3aWR0aCIsImhlaWdodCIsInBhZGRpbmdMZWZ0IiwiZ2FwIiwicGFkZGluZ1JpZ2h0IiwicHVzaCIsImNsYXNzTmFtZSIsIlJlYWN0IiwiQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJkZWZhdWx0UHJvcHMiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJudW1iZXIiLCJvbmVPZlR5cGUiLCJmdW5jIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQU9BOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7OytlQVZBOzs7Ozs7Ozs7SUFZTUEsSTs7Ozs7Ozs7Ozs7d0NBNEJjQyxDLEVBQUc7QUFDZixpQkFBS0MsS0FBTCxDQUFXQyxRQUFYLENBQW9CRixDQUFwQjtBQUNIOztBQWxCRDs7OztpQ0FvQlM7QUFDTCxnQkFBTUcsSUFBSSxJQUFWO0FBQ0EsZ0JBQUlDLFFBQVEsRUFBWjtBQUNBLGlCQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsS0FBS0YsRUFBRUYsS0FBRixDQUFRSyxVQUE3QixFQUF5Q0QsR0FBekMsRUFBOEM7QUFDMUMsb0JBQU1FLE9BQ0Y7QUFBQTtBQUFBLHNCQUFLLFdBQVcsMEJBQVcsd0JBQVFDLFdBQVIsQ0FBb0IsV0FBcEIsQ0FBWCxFQUE2QztBQUN6RCxxQ0FBUyxJQURnRDtBQUV6RCxvQ0FBUSxJQUZpRDtBQUd6REMsb0NBQVFKLEtBQUtGLEVBQUVGLEtBQUYsQ0FBUVM7QUFIb0MseUJBQTdDLENBQWhCLEVBSUksS0FBS0wsQ0FKVCxFQUlZLFNBQVNGLEVBQUVRLGVBQUYsQ0FBa0JDLElBQWxCLENBQXVCVCxDQUF2QixFQUEwQkUsQ0FBMUIsQ0FKckIsRUFJbUQsT0FBTztBQUN0RFEsbUNBQU8sMEJBQVFWLEVBQUVGLEtBQUYsQ0FBUWEsTUFBaEIsQ0FEK0M7QUFFdERBLG9DQUFRLDBCQUFRWCxFQUFFRixLQUFGLENBQVFhLE1BQWhCLENBRjhDO0FBR3REQyx5Q0FBYSwwQkFBUVosRUFBRUYsS0FBRixDQUFRZSxHQUFSLEdBQWMsQ0FBdEIsQ0FIeUM7QUFJdERDLDBDQUFjLDBCQUFRZCxFQUFFRixLQUFGLENBQVFlLEdBQVIsR0FBYyxDQUF0QjtBQUp3QztBQUoxRDtBQVdJLGdFQUFNLE1BQUssTUFBWCxFQUFrQixNQUFLLFNBQXZCLEVBQWlDLFdBQVcsMEJBQVcsd0JBQVFSLFdBQVIsQ0FBb0IsV0FBcEIsQ0FBWCxDQUE1QztBQVhKLGlCQURKO0FBZUFKLHNCQUFNYyxJQUFOLENBQVdYLElBQVg7QUFDSDtBQUNELG1CQUNJO0FBQUE7QUFBQSxrQkFBSyxLQUFJLE1BQVQsRUFBZ0IsV0FBVywwQkFBVyx3QkFBUUMsV0FBUixDQUFvQixNQUFwQixDQUFYO0FBQ3ZCLGlDQUFTO0FBRGMsdUJBRXRCTCxFQUFFRixLQUFGLENBQVFrQixTQUZjLEVBRUYsQ0FBQyxDQUFDaEIsRUFBRUYsS0FBRixDQUFRa0IsU0FGUixFQUEzQjtBQUlLZjtBQUpMLGFBREo7QUFRSDs7OztFQTdEY2dCLE1BQU1DLFM7O0FBQW5CdEIsSSxDQUVLdUIsVyxHQUFjLE07QUFGbkJ2QixJLENBSUt3QixZLEdBQWU7QUFDbEJqQixnQkFBWSxDQURNO0FBRWxCSSxXQUFPLENBRlc7QUFHbEJJLFlBQVEsRUFIVTtBQUlsQkUsU0FBSyxFQUphO0FBS2xCZCxjQUFVLG9CQUFNLENBQUU7QUFMQSxDO0FBSnBCSCxJLENBYUt5QixTLEdBQVk7QUFDZkwsZUFBV0MsTUFBTUssU0FBTixDQUFnQkMsTUFEWjtBQUVmcEIsZ0JBQVljLE1BQU1LLFNBQU4sQ0FBZ0JFLE1BRmI7QUFHZmpCLFdBQU9VLE1BQU1LLFNBQU4sQ0FBZ0JFLE1BSFI7QUFJZmIsWUFBUU0sTUFBTUssU0FBTixDQUFnQkcsU0FBaEIsQ0FBMEIsQ0FDOUJSLE1BQU1LLFNBQU4sQ0FBZ0JFLE1BRGMsRUFFOUJQLE1BQU1LLFNBQU4sQ0FBZ0JDLE1BRmMsQ0FBMUIsQ0FKTztBQVFmVixTQUFLSSxNQUFNSyxTQUFOLENBQWdCRyxTQUFoQixDQUEwQixDQUMzQlIsTUFBTUssU0FBTixDQUFnQkUsTUFEVyxFQUUzQlAsTUFBTUssU0FBTixDQUFnQkMsTUFGVyxDQUExQixDQVJVO0FBWWZ4QixjQUFVa0IsTUFBTUssU0FBTixDQUFnQkk7QUFaWCxDO2tCQW1EUjlCLEkiLCJmaWxlIjoiUmF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmF0ZSBDb21wb25lbnQgZm9yIHRpbmdsZVxuICogQGF1dGhvciBxdWFueXVuLm1xeVxuICpcbiAqIENvcHlyaWdodCAyMDE0LTIwMTYsIFRpbmdsZSBUZWFtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyB1bml0aXplIH0gZnJvbSAnQGFsaS90aW5nbGUtc3R5bGUnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnQGFsaS90aW5nbGUtY29udGV4dCc7XG5pbXBvcnQgSWNvbiBmcm9tICdAYWxpL3RpbmdsZS1pY29uJztcblxuY2xhc3MgUmF0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgICBzdGF0aWMgZGlzcGxheU5hbWUgPSAnUmF0ZSc7XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICB0b3RhbFNjb3JlOiA1LFxuICAgICAgICBzY29yZTogMCxcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgb25DaGFuZ2U6ICgpID0+IHt9LFxuICAgIH07XG5cbiAgICAvLyBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmV1c2FibGUtY29tcG9uZW50cy5odG1sXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICB0b3RhbFNjb3JlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBzY29yZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgaGVpZ2h0OiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgICAgICBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBdKSxcbiAgICAgICAgZ2FwOiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgICAgICBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBdKSxcbiAgICAgICAgb25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIH07XG5cbiAgICBoYW5kbGVJdGVtQ2xpY2sodikge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHYpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXM7XG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0LnByb3BzLnRvdGFsU2NvcmU7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhDb250ZXh0LnByZWZpeENsYXNzKCdyYXRlLWl0ZW0nKSwge1xuICAgICAgICAgICAgICAgICAgICAndC1ESUInOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAndC1QUic6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogaSA8PSB0LnByb3BzLnNjb3JlLFxuICAgICAgICAgICAgICAgIH0pfSBrZXk9e2l9IG9uQ2xpY2s9e3QuaGFuZGxlSXRlbUNsaWNrLmJpbmQodCwgaSl9IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB1bml0aXplKHQucHJvcHMuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB1bml0aXplKHQucHJvcHMuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IHVuaXRpemUodC5wcm9wcy5nYXAgLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiB1bml0aXplKHQucHJvcHMuZ2FwIC8gMiksXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJzdGFyXCIgZmlsbD1cIiNkYmRiZGJcIiBjbGFzc05hbWU9e2NsYXNzbmFtZXMoQ29udGV4dC5wcmVmaXhDbGFzcygncmF0ZS1pY29uJykpfS8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiByZWY9XCJyb290XCIgY2xhc3NOYW1lPXtjbGFzc25hbWVzKENvbnRleHQucHJlZml4Q2xhc3MoJ3JhdGUnKSwge1xuICAgICAgICAgICAgICAgICd0LUZCSCc6IHRydWUsXG4gICAgICAgICAgICAgICAgW3QucHJvcHMuY2xhc3NOYW1lXTogISF0LnByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIH0pfT5cbiAgICAgICAgICAgICAgICB7aXRlbXN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhdGU7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
