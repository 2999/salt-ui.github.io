'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Note Component for tingle
 * @author Kuncheng Zhao, zhouqan.yezq
 *
 * Copyright 2014-2016, Tingle Team.
 * All rights reserved.
 */
var classnames = require('classnames');
var Icon = require('@ali/tingle-icon');
var Context = require('@ali/tingle-context');

var prefixClass = Context.prefixClass;

var Note = function (_React$Component) {
    _inherits(Note, _React$Component);

    function Note(props) {
        _classCallCheck(this, Note);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Note).call(this, props));

        _this.state = {
            closed: false
        };
        return _this;
    }

    _createClass(Note, [{
        key: 'handleClose',
        value: function handleClose(e) {
            this.props.closable && this.doClose();
            this.props.onClose.call(this, e);
        }
    }, {
        key: 'doClose',
        value: function doClose() {
            this.setState({
                closed: true
            });
        }

        /**
         * 当closable为true的时候，展现关闭模式
         * 当closable为false的时候，展现查看详情模式
         */

    }, {
        key: 'render',
        value: function render() {
            var t = this;
            var type = 'note-' + t.props.type;
            var html = React.createElement(
                'div',
                { ref: 'root', className: classnames(prefixClass('FBH FBAC'), _defineProperty({}, t.props.className, !!t.props.className), prefixClass('note')) },
                React.createElement(Icon, { name: type, width: 22, height: 22 }),
                React.createElement(
                    'div',
                    { className: prefixClass('note-message FB1 omit') },
                    this.props.message
                ),
                React.createElement(
                    'div',
                    { className: prefixClass('FBH note-close'), onClick: t.handleClose.bind(t) },
                    t.props.closeText,
                    React.createElement(Icon, { name: t.props.closable ? 'cross' : 'angle-right',
                        width: 20, height: 20 })
                )
            );

            return this.state.closed ? null : html;
        }
    }]);

    return Note;
}(React.Component);

Note.defaultProps = {
    type: 'message',
    closable: false,
    closeText: '',
    message: '',
    onClose: function onClose() {}
};

// http://facebook.github.io/react/docs/reusable-components.html

Note.propTypes = {
    className: React.PropTypes.string,
    type: React.PropTypes.oneOf(['message', 'warning']),
    message: React.PropTypes.string,
    onClose: React.PropTypes.func,
    closeText: React.PropTypes.string
};

Note.displayName = 'Note';

module.exports = Note;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5vdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BLElBQU0sYUFBYSxRQUFRLFlBQVIsQ0FBbkI7QUFDQSxJQUFNLE9BQU8sUUFBUSxrQkFBUixDQUFiO0FBQ0EsSUFBTSxVQUFVLFFBQVEscUJBQVIsQ0FBaEI7O0FBRUEsSUFBSSxjQUFjLFFBQVEsV0FBMUI7O0lBRU0sSTs7O0FBRUYsa0JBQVksS0FBWixFQUFtQjtBQUFBOztBQUFBLDRGQUNULEtBRFM7O0FBRWYsY0FBSyxLQUFMLEdBQWE7QUFDVCxvQkFBUTtBQURDLFNBQWI7QUFGZTtBQUtsQjs7OztvQ0FFVyxDLEVBQUc7QUFDWCxpQkFBSyxLQUFMLENBQVcsUUFBWCxJQUF1QixLQUFLLE9BQUwsRUFBdkI7QUFDQSxpQkFBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixJQUFuQixDQUF3QixJQUF4QixFQUE4QixDQUE5QjtBQUNIOzs7a0NBRVM7QUFDTixpQkFBSyxRQUFMLENBQWM7QUFDVix3QkFBUTtBQURFLGFBQWQ7QUFHSDs7Ozs7Ozs7O2lDQU1RO0FBQ0wsZ0JBQUksSUFBSSxJQUFSO0FBQ0EsZ0JBQUksT0FBTyxVQUFVLEVBQUUsS0FBRixDQUFRLElBQTdCO0FBQ0EsZ0JBQUksT0FDQTtBQUFBO2dCQUFBLEVBQUssS0FBSSxNQUFULEVBQWdCLFdBQVcsV0FBVyxZQUFZLFVBQVosQ0FBWCxzQkFDdEIsRUFBRSxLQUFGLENBQVEsU0FEYyxFQUNGLENBQUMsQ0FBQyxFQUFFLEtBQUYsQ0FBUSxTQURSLEdBRXhCLFlBQVksTUFBWixDQUZ3QixDQUEzQjtnQkFHSSxvQkFBQyxJQUFELElBQU0sTUFBTSxJQUFaLEVBQWtCLE9BQU8sRUFBekIsRUFBNkIsUUFBUSxFQUFyQyxHQUhKO2dCQUlJO0FBQUE7b0JBQUEsRUFBSyxXQUFXLFlBQVksdUJBQVosQ0FBaEI7b0JBQXVELEtBQUssS0FBTCxDQUFXO0FBQWxFLGlCQUpKO2dCQUtJO0FBQUE7b0JBQUEsRUFBSyxXQUFXLFlBQVksZ0JBQVosQ0FBaEIsRUFBK0MsU0FBUyxFQUFFLFdBQUYsQ0FBYyxJQUFkLENBQW1CLENBQW5CLENBQXhEO29CQUNLLEVBQUUsS0FBRixDQUFRLFNBRGI7b0JBRUksb0JBQUMsSUFBRCxJQUFNLE1BQU0sRUFBRSxLQUFGLENBQVEsUUFBUixHQUFtQixPQUFuQixHQUE2QixhQUF6QztBQUNNLCtCQUFPLEVBRGIsRUFDaUIsUUFBUSxFQUR6QjtBQUZKO0FBTEosYUFESjs7QUFjQSxtQkFBTyxLQUFLLEtBQUwsQ0FBVyxNQUFYLEdBQW9CLElBQXBCLEdBQTJCLElBQWxDO0FBQ0g7Ozs7RUExQ2MsTUFBTSxTOztBQTZDekIsS0FBSyxZQUFMLEdBQW9CO0FBQ2hCLFVBQU0sU0FEVTtBQUVoQixjQUFVLEtBRk07QUFHaEIsZUFBVyxFQUhLO0FBSWhCLGFBQVMsRUFKTztBQUtoQixhQUFTLG1CQUFNLENBQ2Q7QUFOZSxDQUFwQjs7OztBQVdBLEtBQUssU0FBTCxHQUFpQjtBQUNiLGVBQVcsTUFBTSxTQUFOLENBQWdCLE1BRGQ7QUFFYixVQUFNLE1BQU0sU0FBTixDQUFnQixLQUFoQixDQUFzQixDQUFDLFNBQUQsRUFBWSxTQUFaLENBQXRCLENBRk87QUFHYixhQUFTLE1BQU0sU0FBTixDQUFnQixNQUhaO0FBSWIsYUFBUyxNQUFNLFNBQU4sQ0FBZ0IsSUFKWjtBQUtiLGVBQVcsTUFBTSxTQUFOLENBQWdCO0FBTGQsQ0FBakI7O0FBUUEsS0FBSyxXQUFMLEdBQW1CLE1BQW5COztBQUVBLE9BQU8sT0FBUCxHQUFpQixJQUFqQiIsImZpbGUiOiJOb3RlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOb3RlIENvbXBvbmVudCBmb3IgdGluZ2xlXG4gKiBAYXV0aG9yIEt1bmNoZW5nIFpoYW8sIHpob3VxYW4ueWV6cVxuICpcbiAqIENvcHlyaWdodCAyMDE0LTIwMTYsIFRpbmdsZSBUZWFtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuY29uc3QgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcbmNvbnN0IEljb24gPSByZXF1aXJlKCdAYWxpL3RpbmdsZS1pY29uJyk7XG5jb25zdCBDb250ZXh0ID0gcmVxdWlyZSgnQGFsaS90aW5nbGUtY29udGV4dCcpO1xuXG5sZXQgcHJlZml4Q2xhc3MgPSBDb250ZXh0LnByZWZpeENsYXNzO1xuXG5jbGFzcyBOb3RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNsb3NlZDogZmFsc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNsb3NlKGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5jbG9zYWJsZSAmJiB0aGlzLmRvQ2xvc2UoKTtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsb3NlLmNhbGwodGhpcywgZSk7XG4gICAgfVxuXG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjbG9zZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5b2TY2xvc2FibGXkuLp0cnVl55qE5pe25YCZ77yM5bGV546w5YWz6Zet5qih5byPXG4gICAgICog5b2TY2xvc2FibGXkuLpmYWxzZeeahOaXtuWAme+8jOWxleeOsOafpeeci+ivpuaDheaooeW8j1xuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzO1xuICAgICAgICBsZXQgdHlwZSA9ICdub3RlLScgKyB0LnByb3BzLnR5cGU7XG4gICAgICAgIGxldCBodG1sID0gKFxuICAgICAgICAgICAgPGRpdiByZWY9J3Jvb3QnIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhwcmVmaXhDbGFzcygnRkJIIEZCQUMnKSwge1xuICAgICAgICAgICAgICAgIFt0LnByb3BzLmNsYXNzTmFtZV06ICEhdC5wcm9wcy5jbGFzc05hbWVcbiAgICAgICAgICAgIH0sIHByZWZpeENsYXNzKCdub3RlJykpfT5cbiAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXt0eXBlfSB3aWR0aD17MjJ9IGhlaWdodD17MjJ9Lz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cHJlZml4Q2xhc3MoJ25vdGUtbWVzc2FnZSBGQjEgb21pdCcpfT57dGhpcy5wcm9wcy5tZXNzYWdlfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtwcmVmaXhDbGFzcygnRkJIIG5vdGUtY2xvc2UnKX0gb25DbGljaz17dC5oYW5kbGVDbG9zZS5iaW5kKHQpfT5cbiAgICAgICAgICAgICAgICAgICAge3QucHJvcHMuY2xvc2VUZXh0fVxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXt0LnByb3BzLmNsb3NhYmxlID8gJ2Nyb3NzJyA6ICdhbmdsZS1yaWdodCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXsyMH0gaGVpZ2h0PXsyMH0vPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuY2xvc2VkID8gbnVsbCA6IGh0bWw7XG4gICAgfVxufVxuXG5Ob3RlLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgY2xvc2FibGU6IGZhbHNlLFxuICAgIGNsb3NlVGV4dDogJycsXG4gICAgbWVzc2FnZTogJycsXG4gICAgb25DbG9zZTogKCkgPT4ge1xuICAgIH1cbn07XG5cbi8vIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZXVzYWJsZS1jb21wb25lbnRzLmh0bWxcblxuTm90ZS5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHR5cGU6IFJlYWN0LlByb3BUeXBlcy5vbmVPZihbJ21lc3NhZ2UnLCAnd2FybmluZyddKSxcbiAgICBtZXNzYWdlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2xvc2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGNsb3NlVGV4dDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuTm90ZS5kaXNwbGF5TmFtZSA9ICdOb3RlJztcblxubW9kdWxlLmV4cG9ydHMgPSBOb3RlO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
