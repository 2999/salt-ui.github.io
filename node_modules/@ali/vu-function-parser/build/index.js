'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports.default = function (funcString) {
	//边界条件
	//解析失败的情况
	//执行失败的情况

	var code = '\n        var func = ' + funcString + ';;\n        if (typeof func === \'function\') {\n          return func.apply(this, Array.prototype.slice.call(arguments));\n        }\n        console.warn(\'code must be Function\');\n      ';

	var func;

	try {
		func = new Function(code);
	} catch (e) {
		console.warn("解析function字符串失败，请检查字符串的合法性");
		console.log(funcString);
		func = function func() {
			console.warn('代码配置有误，请检查相关配置');
		};
	}

	return function () {
		try {
			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			return func.apply(this, args);
		} catch (e) {
			console.warn('函数执行出错，请检查代码');
			console.log(e);
			console.log(code);
		}
	};
};

module.exports = exports['default'];